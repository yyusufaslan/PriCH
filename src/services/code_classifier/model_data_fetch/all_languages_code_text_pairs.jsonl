{"raw_content": "<p>What functionality does the <a href=\"https://docs.python.org/3/reference/simple_stmts.html#yield\" rel=\"noreferrer\"><code>yield</code></a> keyword in Python provide?</p>\n<p>For example, I'm trying to understand this code<sup><strong>1</strong></sup>:</p>\n<pre><code>def _get_child_candidates(self, distance, min_dist, max_dist):\n    if self._leftchild and distance - max_dist &lt; self._median:\n        yield self._leftchild\n    if self._rightchild and distance + max_dist &gt;= self._median:\n        yield self._rightchild  \n</code></pre>\n<p>And this is the caller:</p>\n<pre><code>result, candidates = [], [self]\nwhile candidates:\n    node = candidates.pop()\n    distance = node._get_dist(obj)\n    if distance &lt;= max_dist and distance &gt;= min_dist:\n        result.extend(node._values)\n    candidates.extend(node._get_child_candidates(distance, min_dist, max_dist))\nreturn result\n</code></pre>\n<p>What happens when the method <code>_get_child_candidates</code> is called?\nIs a list returned? A single element? Is it called again? When will subsequent calls stop?</p>\n\n<hr />\n<sub>\n1. This piece of code was written by Jochen Schulz (jrschulz), who made a great Python library for metric spaces. This is the link to the complete source: <a href=\"https://well-adjusted.de/~jrspieker/mspace/\" rel=\"noreferrer\">Module mspace</a>.</sub>", "language": "python", "question_id": 231767, "title": "What does the &quot;yield&quot; keyword do in Python?", "segments": [{"type": "CODE", "text": "def _get_child_candidates(self, distance, min_dist, max_dist):\n    if self._leftchild and distance - max_dist < self._median:\n        yield self._leftchild\n    if self._rightchild and distance + max_dist >= self._median:\n        yield self._rightchild"}, {"type": "CODE", "text": "result, candidates = [], [self]\nwhile candidates:\n    node = candidates.pop()\n    distance = node._get_dist(obj)\n    if distance <= max_dist and distance >= min_dist:\n        result.extend(node._values)\n    candidates.extend(node._get_child_candidates(distance, min_dist, max_dist))\nreturn result"}, {"type": "TEXT", "text": "What functionality does the"}, {"type": "TEXT", "text": "keyword in Python provide?"}, {"type": "TEXT", "text": "For example, I'm trying to understand this code"}, {"type": "TEXT", "text": "1"}, {"type": "TEXT", "text": "And this is the caller:"}, {"type": "TEXT", "text": "What happens when the method"}, {"type": "TEXT", "text": "is called?\nIs a list returned? A single element? Is it called again? When will subsequent calls stop?"}, {"type": "TEXT", "text": "1. This piece of code was written by Jochen Schulz (jrschulz), who made a great Python library for metric spaces. This is the link to the complete source:"}, {"type": "TEXT", "text": "Module mspace"}]}
{"raw_content": "<p>What does this do, and why should one include the <code>if</code> statement?</p>\n<pre class=\"lang-py prettyprint-override\"><code>if __name__ == &quot;__main__&quot;:\n    print(&quot;Hello, World!&quot;)\n</code></pre>\n<hr />\n<p><sub>If you are trying to close a question where someone should be using this idiom and isn't, consider closing as a duplicate of <a href=\"https://stackoverflow.com/questions/6523791\">Why is Python running my module when I import it, and how do I stop it?</a> instead. For questions where someone simply hasn't called any functions, or incorrectly expects a function named <code>main</code> to be used as an entry point automatically, use <a href=\"https://stackoverflow.com/questions/17257631\">Why doesn&#39;t the main() function run when I start a Python script? Where does the script start running?</a>.</sub></p>", "language": "python", "question_id": 419163, "title": "What does if __name__ == &quot;__main__&quot;: do?", "segments": [{"type": "CODE", "text": "if __name__ == \"__main__\":\n    print(\"Hello, World!\")"}, {"type": "TEXT", "text": "What does this do, and why should one include the"}, {"type": "TEXT", "text": "statement?"}, {"type": "TEXT", "text": "If you are trying to close a question where someone should be using this idiom and isn't, consider closing as a duplicate of"}, {"type": "TEXT", "text": "Why is Python running my module when I import it, and how do I stop it?"}, {"type": "TEXT", "text": "instead. For questions where someone simply hasn't called any functions, or incorrectly expects a function named"}, {"type": "TEXT", "text": "to be used as an entry point automatically, use"}, {"type": "TEXT", "text": "Why doesn't the main() function run when I start a Python script? Where does the script start running?"}, {"type": "TEXT", "text": "."}]}
{"raw_content": "<p>Is there a <a href=\"https://en.wikipedia.org/wiki/%3F:#Python\" rel=\"noreferrer\">ternary conditional operator</a> in Python?</p>", "language": "python", "question_id": 394809, "title": "Does Python have a ternary conditional operator?", "segments": [{"type": "TEXT", "text": "Is there a"}, {"type": "TEXT", "text": "ternary conditional operator"}, {"type": "TEXT", "text": "in Python?"}]}
{"raw_content": "<p>What are <a href=\"https://docs.python.org/3/reference/datamodel.html#metaclasses\" rel=\"noreferrer\">metaclasses</a>? What are they used for?</p>", "language": "python", "question_id": 100003, "title": "What are metaclasses in Python?", "segments": [{"type": "TEXT", "text": "What are"}, {"type": "TEXT", "text": "metaclasses"}, {"type": "TEXT", "text": "? What are they used for?"}]}
{"raw_content": "<p>How do I check whether a file exists or not, without using the <a href=\"https://docs.python.org/3.6/reference/compound_stmts.html#try\" rel=\"noreferrer\"><code>try</code></a> statement?</p>", "language": "python", "question_id": 82831, "title": "How do I check whether a file exists without exceptions?", "segments": [{"type": "TEXT", "text": "How do I check whether a file exists or not, without using the"}, {"type": "TEXT", "text": "try"}, {"type": "TEXT", "text": "statement?"}]}
{"raw_content": "<p>I want to merge two dictionaries into a new dictionary.</p>\n<pre><code>x = {'a': 1, 'b': 2}\ny = {'b': 3, 'c': 4}\nz = merge(x, y)\n\n&gt;&gt;&gt; z\n{'a': 1, 'b': 3, 'c': 4}\n</code></pre>\n<p>Whenever a key <code>k</code> is present in both dictionaries, only the value <code>y[k]</code> should be kept.</p>", "language": "python", "question_id": 38987, "title": "How do I merge two dictionaries in a single expression in Python?", "segments": [{"type": "CODE", "text": "x = {'a': 1, 'b': 2}\ny = {'b': 3, 'c': 4}\nz = merge(x, y)\n\n>>> z\n{'a': 1, 'b': 3, 'c': 4}"}, {"type": "TEXT", "text": "I want to merge two dictionaries into a new dictionary."}, {"type": "TEXT", "text": "Whenever a key"}, {"type": "TEXT", "text": "k"}, {"type": "TEXT", "text": "is present in both dictionaries, only the value"}, {"type": "TEXT", "text": "y[k]"}, {"type": "TEXT", "text": "should be kept."}]}
{"raw_content": "<p>How do I call an external command within Python as if I had typed it in a shell or command prompt?</p>", "language": "python", "question_id": 89228, "title": "How do I execute a program or call a system command?", "segments": [{"type": "TEXT", "text": "How do I call an external command within Python as if I had typed it in a shell or command prompt?"}]}
{"raw_content": "<p>How do I create a directory at a given path, and also create any missing parent directories along that path? For example, the Bash command <code>mkdir -p /path/to/nested/directory</code> does this.</p>", "language": "python", "question_id": 273192, "title": "How do I create a directory, and any missing parent directories?", "segments": [{"type": "CODE", "text": "mkdir -p /path/to/nested/directory"}, {"type": "TEXT", "text": "How do I create a directory at a given path, and also create any missing parent directories along that path? For example, the Bash command"}, {"type": "TEXT", "text": "does this."}]}
{"raw_content": "<p>How do I access the index while iterating over a sequence with a <code>for</code> loop?</p>\n<pre class=\"lang-py prettyprint-override\"><code>xs = [8, 23, 45]\n\nfor x in xs:\n    print(&quot;item #{} = {}&quot;.format(index, x))\n</code></pre>\n<p>Desired output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>item #1 = 8\nitem #2 = 23\nitem #3 = 45\n</code></pre>", "language": "python", "question_id": 522563, "title": "How can I access the index value in a &#39;for&#39; loop?", "segments": [{"type": "CODE", "text": "xs = [8, 23, 45]\n\nfor x in xs:\n    print(\"item #{} = {}\".format(index, x))"}, {"type": "CODE", "text": "item #1 = 8\nitem #2 = 23\nitem #3 = 45"}, {"type": "TEXT", "text": "How do I access the index while iterating over a sequence with a"}, {"type": "TEXT", "text": "loop?"}, {"type": "TEXT", "text": "Desired output:"}]}
{"raw_content": "<p>I have a list of lists like</p>\n<pre><code>[\n    [1, 2, 3],\n    [4, 5, 6],\n    [7],\n    [8, 9]\n]\n</code></pre>\n<p>How can I flatten it to get <code>[1, 2, 3, 4, 5, 6, 7, 8, 9]</code>?</p>\n<hr />\n<p><sub>If your list of lists comes from a nested list comprehension, the problem can be solved more simply/directly by fixing the comprehension; please see <a href=\"https://stackoverflow.com/questions/1077015\">How can I get a flat result from a list comprehension instead of a nested list?</a>.</sub></p>\n<p><sub>The most popular solutions here generally only flatten one &quot;level&quot; of the nested list. See <a href=\"https://stackoverflow.com/questions/2158395\">Flatten an irregular (arbitrarily nested) list of lists</a> for solutions that completely flatten a deeply nested structure (recursively, in general).</sub></p>", "language": "python", "question_id": 952914, "title": "How do I make a flat list out of a list of lists?", "segments": [{"type": "CODE", "text": "[\n    [1, 2, 3],\n    [4, 5, 6],\n    [7],\n    [8, 9]\n]"}, {"type": "CODE", "text": "[1, 2, 3, 4, 5, 6, 7, 8, 9]"}, {"type": "TEXT", "text": "I have a list of lists like"}, {"type": "TEXT", "text": "How can I flatten it to get"}, {"type": "TEXT", "text": "?"}, {"type": "TEXT", "text": "If your list of lists comes from a nested list comprehension, the problem can be solved more simply/directly by fixing the comprehension; please see"}, {"type": "TEXT", "text": "How can I get a flat result from a list comprehension instead of a nested list?"}, {"type": "TEXT", "text": "."}, {"type": "TEXT", "text": "The most popular solutions here generally only flatten one \"level\" of the nested list. See"}, {"type": "TEXT", "text": "Flatten an irregular (arbitrarily nested) list of lists"}, {"type": "TEXT", "text": "for solutions that completely flatten a deeply nested structure (recursively, in general)."}]}
{"raw_content": "<p>What is the difference between a method <a href=\"https://peps.python.org/pep-0318/\" rel=\"noreferrer\">decorated</a> with <a href=\"http://docs.python.org/library/functions.html#staticmethod\" rel=\"noreferrer\"><code>@staticmethod</code></a> and one decorated with <a href=\"http://docs.python.org/library/functions.html#classmethod\" rel=\"noreferrer\"><code>@classmethod</code></a>?</p>", "language": "python", "question_id": 136097, "title": "What is the difference between @staticmethod and @classmethod in Python?", "segments": [{"type": "TEXT", "text": "What is the difference between a method"}, {"type": "TEXT", "text": "decorated"}, {"type": "TEXT", "text": "with"}, {"type": "TEXT", "text": "@staticmethod"}, {"type": "TEXT", "text": "and one decorated with"}, {"type": "TEXT", "text": "@classmethod"}, {"type": "TEXT", "text": "?"}]}
{"raw_content": "<p>How does Python's <em>slice notation</em> work? That is: when I write code like <code>a[x:y:z]</code>, <code>a[:]</code>, <code>a[::2]</code> etc., how can I understand which elements end up in the slice?</p>\n<hr />\n<p><sub>See <a href=\"https://stackoverflow.com/questions/11364533\">Why are slice and range upper-bound exclusive?</a> to learn why <code>xs[0:2] == [xs[0], xs[1]]</code>, <em>not</em> <code>[..., xs[2]]</code>.</sub><br />\n<sub>See <a href=\"https://stackoverflow.com/questions/1403674/\">Make a new list containing every Nth item in the original list</a> for <code>xs[::N]</code>.</sub><br />\n<sub>See <a href=\"https://stackoverflow.com/questions/10623302\">How does assignment work with list slices?</a> to learn what <code>xs[0:2] = [&quot;a&quot;, &quot;b&quot;]</code> does.</sub></p>", "language": "python", "question_id": 509211, "title": "How slicing in Python works", "segments": [{"type": "CODE", "text": "xs[0:2] == [xs[0], xs[1]]"}, {"type": "CODE", "text": "[..., xs[2]]"}, {"type": "CODE", "text": "xs[0:2] = [\"a\", \"b\"]"}, {"type": "TEXT", "text": "How does Python's"}, {"type": "TEXT", "text": "slice notation"}, {"type": "TEXT", "text": "work? That is: when I write code like"}, {"type": "TEXT", "text": "a[x:y:z]"}, {"type": "TEXT", "text": "a[:]"}, {"type": "TEXT", "text": "a[::2]"}, {"type": "TEXT", "text": "etc., how can I understand which elements end up in the slice?"}, {"type": "TEXT", "text": "See"}, {"type": "TEXT", "text": "Why are slice and range upper-bound exclusive?"}, {"type": "TEXT", "text": "to learn why"}, {"type": "TEXT", "text": "not"}, {"type": "TEXT", "text": "See"}, {"type": "TEXT", "text": "Make a new list containing every Nth item in the original list"}, {"type": "TEXT", "text": "for"}, {"type": "TEXT", "text": "xs[::N]"}, {"type": "TEXT", "text": "See"}, {"type": "TEXT", "text": "How does assignment work with list slices?"}, {"type": "TEXT", "text": "to learn what"}, {"type": "TEXT", "text": "does."}]}
{"raw_content": "<p>Given a list <code>[&quot;foo&quot;, &quot;bar&quot;, &quot;baz&quot;]</code> and an item in the list <code>&quot;bar&quot;</code>, how do I get its index <code>1</code>?</p>", "language": "python", "question_id": 176918, "title": "How can I find the index for a given item in a list?", "segments": [{"type": "CODE", "text": "[\"foo\", \"bar\", \"baz\"]"}, {"type": "TEXT", "text": "Given a list"}, {"type": "TEXT", "text": "and an item in the list"}, {"type": "TEXT", "text": ", how do I get its index"}, {"type": "TEXT", "text": "1"}, {"type": "TEXT", "text": "?"}]}
{"raw_content": "<pre class=\"lang-py prettyprint-override\"><code>d = {'x': 1, 'y': 2, 'z': 3}\n\nfor key in d:\n    print(key, 'corresponds to', d[key])\n</code></pre>\n<p>How does Python recognize that it needs only to read the <code>key</code> from the dictionary? Is <code>key</code> a special keyword, or is it simply a variable?</p>", "language": "python", "question_id": 3294889, "title": "Iterating over dictionaries using &#39;for&#39; loops", "segments": [{"type": "CODE", "text": "d = {'x': 1, 'y': 2, 'z': 3}\n\nfor key in d:\n    print(key, 'corresponds to', d[key])"}, {"type": "TEXT", "text": "How does Python recognize that it needs only to read the"}, {"type": "TEXT", "text": "from the dictionary? Is"}, {"type": "TEXT", "text": "a special keyword, or is it simply a variable?"}]}
{"raw_content": "<p>I have a pandas dataframe, <code>df</code>:</p>\n<pre class=\"lang-none prettyprint-override\"><code>   c1   c2\n0  10  100\n1  11  110\n2  12  120\n</code></pre>\n<p>How do I iterate over the rows of this dataframe? For every row, I want to access its elements (values in cells) by the name of the columns. For example:</p>\n<pre class=\"lang-py prettyprint-override\"><code>for row in df.rows:\n    print(row['c1'], row['c2'])\n</code></pre>\n<hr />\n<p>I found a <a href=\"https://stackoverflow.com/questions/7837722/what-is-the-most-efficient-way-to-loop-through-dataframes-with-pandas\">similar question</a>, which suggests using either of these:</p>\n<ul>\n<li>\n<pre class=\"lang-py prettyprint-override\"><code>for date, row in df.T.iteritems():\n</code></pre>\n</li>\n<li>\n<pre class=\"lang-py prettyprint-override\"><code>for row in df.iterrows():\n</code></pre>\n</li>\n</ul>\n<p>But I do not understand what the <code>row</code> object is and how I can work with it.</p>", "language": "python", "question_id": 16476924, "title": "How can I iterate over rows in a Pandas DataFrame?", "segments": [{"type": "CODE", "text": "c1   c2\n0  10  100\n1  11  110\n2  12  120"}, {"type": "CODE", "text": "for row in df.rows:\n    print(row['c1'], row['c2'])"}, {"type": "CODE", "text": "for date, row in df.T.iteritems():"}, {"type": "CODE", "text": "for row in df.iterrows():"}, {"type": "TEXT", "text": "I have a pandas dataframe,"}, {"type": "TEXT", "text": "How do I iterate over the rows of this dataframe? For every row, I want to access its elements (values in cells) by the name of the columns. For example:"}, {"type": "TEXT", "text": "I found a"}, {"type": "TEXT", "text": "similar question"}, {"type": "TEXT", "text": ", which suggests using either of these:"}, {"type": "TEXT", "text": "But I do not understand what the"}, {"type": "TEXT", "text": "object is and how I can work with it."}]}
{"raw_content": "<p>How do I create or use a global variable inside a function?</p>\n<p>How do I use a global variable that was defined in one function inside other functions?</p>\n<hr />\n<p><sub>Failing to use the <code>global</code> keyword where appropriate often causes <code>UnboundLocalError</code>. The precise rules for this are explained at <a href=\"https://stackoverflow.com/questions/370357\">UnboundLocalError on local variable when reassigned after first use</a>. Generally, please close other questions as a duplicate of <em>that</em> question when an explanation is sought, and <em>this</em> question when someone simply needs to know the <code>global</code> keyword.</sub></p>", "language": "python", "question_id": 423379, "title": "How can I use a global variable in a function?", "segments": [{"type": "TEXT", "text": "How do I create or use a global variable inside a function?"}, {"type": "TEXT", "text": "How do I use a global variable that was defined in one function inside other functions?"}, {"type": "TEXT", "text": "Failing to use the"}, {"type": "TEXT", "text": "global"}, {"type": "TEXT", "text": "keyword where appropriate often causes"}, {"type": "TEXT", "text": "UnboundLocalError"}, {"type": "TEXT", "text": ". The precise rules for this are explained at"}, {"type": "TEXT", "text": "UnboundLocalError on local variable when reassigned after first use"}, {"type": "TEXT", "text": ". Generally, please close other questions as a duplicate of"}, {"type": "TEXT", "text": "that"}, {"type": "TEXT", "text": "question when an explanation is sought, and"}, {"type": "TEXT", "text": "this"}, {"type": "TEXT", "text": "question when someone simply needs to know the"}, {"type": "TEXT", "text": "global"}, {"type": "TEXT", "text": "keyword."}]}
{"raw_content": "<p>How do I get the current time in Python?</p>", "language": "python", "question_id": 415511, "title": "How do I get the current time in Python?", "segments": [{"type": "TEXT", "text": "How do I get the current time in Python?"}]}
{"raw_content": "<p>I know that I can do:</p>\n<pre><code>try:\n    # do something that may fail\nexcept:\n    # do this if ANYTHING goes wrong\n</code></pre>\n<p>I can also do this:</p>\n<pre><code>try:\n    # do something that may fail\nexcept IDontLikeYouException:\n    # say please\nexcept YouAreTooShortException:\n    # stand on a ladder\n</code></pre>\n<p>But if I want to do the same thing inside two different exceptions, the best I can think of right now is to do this:</p>\n<pre><code>try:\n    # do something that may fail\nexcept IDontLikeYouException:\n    # say please\nexcept YouAreBeingMeanException:\n    # say please\n</code></pre>\n<p>Is there a way that I can do something like this (since the action to take in both exceptions is to <code>say please</code>):</p>\n<pre><code>try:\n    # do something that may fail\nexcept IDontLikeYouException, YouAreBeingMeanException:\n    # say please\n</code></pre>\n<p>Now this really won't work, as it matches the syntax for:</p>\n<pre><code>try:\n    # do something that may fail\nexcept Exception, e:\n    # say please\n</code></pre>\n<p>So, my effort to catch the two distinct exceptions doesn't exactly come through.</p>\n<p>Is there a way to do this?</p>", "language": "python", "question_id": 6470428, "title": "How can I catch multiple exceptions in one line? (in the &quot;except&quot; block)", "segments": [{"type": "CODE", "text": "try:\n    # do something that may fail\nexcept:\n    # do this if ANYTHING goes wrong"}, {"type": "CODE", "text": "try:\n    # do something that may fail\nexcept IDontLikeYouException:\n    # say please\nexcept YouAreTooShortException:\n    # stand on a ladder"}, {"type": "CODE", "text": "try:\n    # do something that may fail\nexcept IDontLikeYouException:\n    # say please\nexcept YouAreBeingMeanException:\n    # say please"}, {"type": "CODE", "text": "say please"}, {"type": "CODE", "text": "try:\n    # do something that may fail\nexcept IDontLikeYouException, YouAreBeingMeanException:\n    # say please"}, {"type": "CODE", "text": "try:\n    # do something that may fail\nexcept Exception, e:\n    # say please"}, {"type": "TEXT", "text": "I know that I can do:"}, {"type": "TEXT", "text": "I can also do this:"}, {"type": "TEXT", "text": "But if I want to do the same thing inside two different exceptions, the best I can think of right now is to do this:"}, {"type": "TEXT", "text": "Is there a way that I can do something like this (since the action to take in both exceptions is to"}, {"type": "TEXT", "text": "):"}, {"type": "TEXT", "text": "Now this really won't work, as it matches the syntax for:"}, {"type": "TEXT", "text": "So, my effort to catch the two distinct exceptions doesn't exactly come through."}, {"type": "TEXT", "text": "Is there a way to do this?"}]}
{"raw_content": "<p>How do I copy a file in Python?</p>", "language": "python", "question_id": 123198, "title": "How do I copy a file?", "segments": [{"type": "TEXT", "text": "How do I copy a file in Python?"}]}
{"raw_content": "<p>What is <a href=\"https://docs.python.org/3/tutorial/modules.html#packages\" rel=\"noreferrer\"><code>__init__.py</code></a> for in a Python source directory?</p>", "language": "python", "question_id": 448271, "title": "What is __init__.py for?", "segments": [{"type": "TEXT", "text": "What is"}, {"type": "TEXT", "text": "__init__.py"}, {"type": "TEXT", "text": "for in a Python source directory?"}]}
{"raw_content": "<p>I captured the standard output of an external program into a <code>bytes</code> object:</p>\n<pre><code>&gt;&gt;&gt; from subprocess import *\n&gt;&gt;&gt; stdout = Popen(['ls', '-l'], stdout=PIPE).communicate()[0]\n&gt;&gt;&gt; stdout\nb'total 0\\n-rw-rw-r-- 1 thomas thomas 0 Mar  3 07:03 file1\\n-rw-rw-r-- 1 thomas thomas 0 Mar  3 07:03 file2\\n'\n</code></pre>\n<p>I want to convert that to a normal Python string, so that I can print it like this:</p>\n<pre><code>&gt;&gt;&gt; print(stdout)\n-rw-rw-r-- 1 thomas thomas 0 Mar  3 07:03 file1\n-rw-rw-r-- 1 thomas thomas 0 Mar  3 07:03 file2\n</code></pre>\n<p>How do I convert the <code>bytes</code> object to a <code>str</code> with Python 3?</p>\n<hr />\n<p><sub>See <a href=\"https://stackoverflow.com/questions/7585435\">Best way to convert string to bytes in Python 3?</a> for the other way around.</sub></p>", "language": "python", "question_id": 606191, "title": "Convert bytes to a string in Python 3", "segments": [{"type": "CODE", "text": ">>> from subprocess import *\n>>> stdout = Popen(['ls', '-l'], stdout=PIPE).communicate()[0]\n>>> stdout\nb'total 0\\n-rw-rw-r-- 1 thomas thomas 0 Mar  3 07:03 file1\\n-rw-rw-r-- 1 thomas thomas 0 Mar  3 07:03 file2\\n'"}, {"type": "CODE", "text": ">>> print(stdout)\n-rw-rw-r-- 1 thomas thomas 0 Mar  3 07:03 file1\n-rw-rw-r-- 1 thomas thomas 0 Mar  3 07:03 file2"}, {"type": "TEXT", "text": "I captured the standard output of an external program into a"}, {"type": "TEXT", "text": "bytes"}, {"type": "TEXT", "text": "object:"}, {"type": "TEXT", "text": "I want to convert that to a normal Python string, so that I can print it like this:"}, {"type": "TEXT", "text": "How do I convert the"}, {"type": "TEXT", "text": "bytes"}, {"type": "TEXT", "text": "object to a"}, {"type": "TEXT", "text": "str"}, {"type": "TEXT", "text": "with Python 3?"}, {"type": "TEXT", "text": "See"}, {"type": "TEXT", "text": "Best way to convert string to bytes in Python 3?"}, {"type": "TEXT", "text": "for the other way around."}]}
{"raw_content": "<p>What is the difference between <a href=\"https://docs.python.org/3/reference/datamodel.html#object.__str__\" rel=\"noreferrer\"><code>__str__</code></a> and <a href=\"https://docs.python.org/3/reference/datamodel.html#object.__repr__\" rel=\"noreferrer\"><code>__repr__</code></a> in Python?</p>", "language": "python", "question_id": 1436703, "title": "What is the difference between __str__ and __repr__?", "segments": [{"type": "TEXT", "text": "What is the difference between"}, {"type": "TEXT", "text": "__str__"}, {"type": "TEXT", "text": "and"}, {"type": "TEXT", "text": "__repr__"}, {"type": "TEXT", "text": "in Python?"}]}
{"raw_content": "<p>How can I select rows from a DataFrame based on values in some column in Pandas?</p>\n<p>In SQL, I would use:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>SELECT *\nFROM table\nWHERE column_name = some_value\n</code></pre>", "language": "python", "question_id": 17071871, "title": "How do I select rows from a DataFrame based on column values?", "segments": [{"type": "CODE", "text": "SELECT *\nFROM table\nWHERE column_name = some_value"}, {"type": "TEXT", "text": "How can I select rows from a DataFrame based on values in some column in Pandas?"}, {"type": "TEXT", "text": "In SQL, I would use:"}]}
{"raw_content": "<p>How do I add a new key to an existing dictionary? It doesn't have an <code>.add()</code> method.</p>", "language": "python", "question_id": 1024847, "title": "How can I add new keys to a dictionary?", "segments": [{"type": "TEXT", "text": "How do I add a new key to an existing dictionary? It doesn't have an"}, {"type": "TEXT", "text": ".add()"}, {"type": "TEXT", "text": "method."}]}
{"raw_content": "<p>I'm looking for a <code>string.contains</code> or <code>string.indexof</code> method in Python.</p>\n\n<p>I want to do:</p>\n\n<pre><code>if not somestring.contains(\"blah\"):\n   continue\n</code></pre>", "language": "python", "question_id": 3437059, "title": "Does Python have a string &#39;contains&#39; substring method?", "segments": [{"type": "CODE", "text": "if not somestring.contains(\"blah\"):\n   continue"}, {"type": "TEXT", "text": "I'm looking for a"}, {"type": "TEXT", "text": "or"}, {"type": "TEXT", "text": "string.indexof"}, {"type": "TEXT", "text": "method in Python."}, {"type": "TEXT", "text": "I want to do:"}]}
{"raw_content": "<p>How can I delete a file or folder in Python?</p>", "language": "python", "question_id": 6996603, "title": "How can I delete a file or folder in Python?", "segments": [{"type": "TEXT", "text": "How can I delete a file or folder in Python?"}]}
{"raw_content": "<p>Anyone tinkering with Python long enough has been bitten (or torn to pieces) by the following issue:</p>\n<pre><code>def foo(a=[]):\n    a.append(5)\n    return a\n</code></pre>\n<p>Python novices would expect this function called with no parameter to always return a list with only one element: <code>[5]</code>. The result is instead very different, and very astonishing (for a novice):</p>\n<pre><code>&gt;&gt;&gt; foo()\n[5]\n&gt;&gt;&gt; foo()\n[5, 5]\n&gt;&gt;&gt; foo()\n[5, 5, 5]\n&gt;&gt;&gt; foo()\n[5, 5, 5, 5]\n&gt;&gt;&gt; foo()\n</code></pre>\n<p>A manager of mine once had his first encounter with this feature, and called it &quot;a dramatic design flaw&quot; of the language. I replied that the behavior had an underlying explanation, and it is indeed very puzzling and unexpected if you don't understand the internals. However, I was not able to answer (to myself) the following question: what is the reason for binding the default argument at function definition, and not at function execution? I doubt the experienced behavior has a practical use (who really used static variables in C, without breeding bugs?)</p>\n<p><strong>Edit</strong>:</p>\n<p><a href=\"https://stackoverflow.com/a/1137164/7487335\">Baczek made an interesting example</a>. Together with most of your comments and <a href=\"https://stackoverflow.com/a/1134623/7487335\">Utaal's in particular</a>, I elaborated further:</p>\n<pre><code>def a():\n    print(&quot;a executed&quot;)\n    return []\n\n           \ndef b(x=a()):\n    x.append(5)\n    print(x)\n\na executed\n&gt;&gt;&gt; b()\n[5]\n&gt;&gt;&gt; b()\n[5, 5]\n</code></pre>\n<p>To me, it seems that the design decision was relative to where to put the scope of parameters: inside the function, or &quot;together&quot; with it?</p>\n<p>Doing the binding inside the function would mean that <code>x</code> is effectively bound to the specified default when the function is called, not defined, something that would present a deep flaw: the <code>def</code> line would be &quot;hybrid&quot; in the sense that part of the binding (of the function object) would happen at definition, and part (assignment of default parameters) at function invocation time.</p>\n<p>The actual behavior is more consistent: everything of that line gets evaluated when that line is executed, meaning at function definition.</p>", "language": "python", "question_id": 1132941, "title": "&quot;Least Astonishment&quot; and the Mutable Default Argument", "segments": [{"type": "CODE", "text": "def foo(a=[]):\n    a.append(5)\n    return a"}, {"type": "CODE", "text": ">>> foo()\n[5]\n>>> foo()\n[5, 5]\n>>> foo()\n[5, 5, 5]\n>>> foo()\n[5, 5, 5, 5]\n>>> foo()"}, {"type": "CODE", "text": "def a():\n    print(\"a executed\")\n    return []\n\n           \ndef b(x=a()):\n    x.append(5)\n    print(x)\n\na executed\n>>> b()\n[5]\n>>> b()\n[5, 5]"}, {"type": "TEXT", "text": "Anyone tinkering with Python long enough has been bitten (or torn to pieces) by the following issue:"}, {"type": "TEXT", "text": "Python novices would expect this function called with no parameter to always return a list with only one element:"}, {"type": "TEXT", "text": ". The result is instead very different, and very astonishing (for a novice):"}, {"type": "TEXT", "text": "A manager of mine once had his first encounter with this feature, and called it \"a dramatic design flaw\" of the language. I replied that the behavior had an underlying explanation, and it is indeed very puzzling and unexpected if you don't understand the internals. However, I was not able to answer (to myself) the following question: what is the reason for binding the default argument at function definition, and not at function execution? I doubt the experienced behavior has a practical use (who really used static variables in C, without breeding bugs?)"}, {"type": "TEXT", "text": "Edit"}, {"type": "TEXT", "text": "Baczek made an interesting example"}, {"type": "TEXT", "text": ". Together with most of your comments and"}, {"type": "TEXT", "text": "Utaal's in particular"}, {"type": "TEXT", "text": ", I elaborated further:"}, {"type": "TEXT", "text": "To me, it seems that the design decision was relative to where to put the scope of parameters: inside the function, or \"together\" with it?"}, {"type": "TEXT", "text": "Doing the binding inside the function would mean that"}, {"type": "TEXT", "text": "is effectively bound to the specified default when the function is called, not defined, something that would present a deep flaw: the"}, {"type": "TEXT", "text": "line would be \"hybrid\" in the sense that part of the binding (of the function object) would happen at definition, and part (assignment of default parameters) at function invocation time."}, {"type": "TEXT", "text": "The actual behavior is more consistent: everything of that line gets evaluated when that line is executed, meaning at function definition."}]}
{"raw_content": "<p>What do <code>*args</code> and <code>**kwargs</code> mean in these function definitions?</p>\n<pre><code>def foo(x, y, *args):\n    pass\n\ndef bar(x, y, **kwargs):\n    pass\n</code></pre>\n<hr />\n<p><sub>See <a href=\"https://stackoverflow.com/questions/2921847\">What do ** (double star/asterisk) and * (star/asterisk) mean in a function call?</a> for the complementary question about arguments.</sub></p>", "language": "python", "question_id": 36901, "title": "What does ** (double star/asterisk) and * (star/asterisk) do for parameters?", "segments": [{"type": "CODE", "text": "def foo(x, y, *args):\n    pass\n\ndef bar(x, y, **kwargs):\n    pass"}, {"type": "TEXT", "text": "What do"}, {"type": "TEXT", "text": "and"}, {"type": "TEXT", "text": "mean in these function definitions?"}, {"type": "TEXT", "text": "See"}, {"type": "TEXT", "text": "What do ** (double star/asterisk) and * (star/asterisk) mean in a function call?"}, {"type": "TEXT", "text": "for the complementary question about arguments."}]}
{"raw_content": "<p>How can I list all files of a directory in Python and add them to a <code>list</code>?</p>", "language": "python", "question_id": 3207219, "title": "How do I list all files of a directory?", "segments": [{"type": "TEXT", "text": "How can I list all files of a directory in Python and add them to a"}, {"type": "TEXT", "text": "list"}, {"type": "TEXT", "text": "?"}]}
{"raw_content": "<p>How can I get the value of an environment variable in Python?</p>", "language": "python", "question_id": 4906977, "title": "How can I access environment variables in Python?", "segments": [{"type": "TEXT", "text": "How can I get the value of an environment variable in Python?"}]}
{"raw_content": "<p>I have a dictionary of values read from two fields in a database: a string field and a numeric field. The string field is unique, so that is the key of the dictionary.</p>\n\n<p>I can sort on the keys, but how can I sort based on the values?</p>\n\n<p>Note: I have read Stack Overflow question here <em><a href=\"https://stackoverflow.com/questions/72899\">How do I sort a list of dictionaries by a value of the dictionary?</a></em> and probably could change my code to have a list of dictionaries, but since I do not really need a list of dictionaries I wanted to know if there is a simpler solution to sort either in ascending or descending order.</p>", "language": "python", "question_id": 613183, "title": "How do I sort a dictionary by value?", "segments": [{"type": "TEXT", "text": "I have a dictionary of values read from two fields in a database: a string field and a numeric field. The string field is unique, so that is the key of the dictionary."}, {"type": "TEXT", "text": "I can sort on the keys, but how can I sort based on the values?"}, {"type": "TEXT", "text": "Note: I have read Stack Overflow question here"}, {"type": "TEXT", "text": "How do I sort a list of dictionaries by a value of the dictionary?"}, {"type": "TEXT", "text": "and probably could change my code to have a list of dictionaries, but since I do not really need a list of dictionaries I wanted to know if there is a simpler solution to sort either in ascending or descending order."}]}
{"raw_content": "<p>While using <code>new_list = my_list</code>, any modifications to <code>new_list</code> changes <code>my_list</code> every time. Why is this, and how can I clone or copy the list to prevent it? For example:</p>\n<pre><code>&gt;&gt;&gt; my_list = [1, 2, 3]\n&gt;&gt;&gt; new_list = my_list\n&gt;&gt;&gt; new_list.append(4)\n&gt;&gt;&gt; my_list\n[1, 2, 3, 4]\n</code></pre>", "language": "python", "question_id": 2612802, "title": "How do I clone a list so that it doesn&#39;t change unexpectedly after assignment?", "segments": [{"type": "CODE", "text": "new_list = my_list"}, {"type": "CODE", "text": ">>> my_list = [1, 2, 3]\n>>> new_list = my_list\n>>> new_list.append(4)\n>>> my_list\n[1, 2, 3, 4]"}, {"type": "TEXT", "text": "While using"}, {"type": "TEXT", "text": ", any modifications to"}, {"type": "TEXT", "text": "changes"}, {"type": "TEXT", "text": "every time. Why is this, and how can I clone or copy the list to prevent it? For example:"}]}
{"raw_content": "<p>I wrote this class for testing:</p>\n<pre><code>class PassByReference:\n    def __init__(self):\n        self.variable = 'Original'\n        self.change(self.variable)\n        print(self.variable)\n\n    def change(self, var):\n        var = 'Changed'\n</code></pre>\n<p>When I tried creating an instance, the output was <code>Original</code>. So it seems like parameters in Python are passed by value. Is that correct? How can I modify the code to get the effect of pass-by-reference, so that the output is <code>Changed</code>?</p>\n<hr />\n<p><sub>Sometimes people are surprised that code like <code>x = 1</code>, where <code>x</code> is a parameter name, doesn't impact on the caller's argument, but code like <code>x[0] = 1</code> does. This happens because <em>item assignment</em> and <em>slice assignment</em> are ways to <strong>mutate</strong> an existing object, rather than reassign a variable, despite the <code>=</code> syntax. See <a href=\"https://stackoverflow.com/questions/575196/\">Why can a function modify some arguments as perceived by the caller, but not others?</a> for details.</sub></p>\n<p><sub>See also <a href=\"https://stackoverflow.com/questions/373419/\">What&#39;s the difference between passing by reference vs. passing by value?</a> for important, language-agnostic terminology discussion.</sub></p>", "language": "python", "question_id": 986006, "title": "How do I pass a variable by reference?", "segments": [{"type": "CODE", "text": "class PassByReference:\n    def __init__(self):\n        self.variable = 'Original'\n        self.change(self.variable)\n        print(self.variable)\n\n    def change(self, var):\n        var = 'Changed'"}, {"type": "CODE", "text": "x = 1"}, {"type": "CODE", "text": "x[0] = 1"}, {"type": "TEXT", "text": "I wrote this class for testing:"}, {"type": "TEXT", "text": "When I tried creating an instance, the output was"}, {"type": "TEXT", "text": ". So it seems like parameters in Python are passed by value. Is that correct? How can I modify the code to get the effect of pass-by-reference, so that the output is"}, {"type": "TEXT", "text": "?"}, {"type": "TEXT", "text": "Sometimes people are surprised that code like"}, {"type": "TEXT", "text": ", where"}, {"type": "TEXT", "text": "is a parameter name, doesn't impact on the caller's argument, but code like"}, {"type": "TEXT", "text": "does. This happens because"}, {"type": "TEXT", "text": "item assignment"}, {"type": "TEXT", "text": "and"}, {"type": "TEXT", "text": "slice assignment"}, {"type": "TEXT", "text": "are ways to"}, {"type": "TEXT", "text": "mutate"}, {"type": "TEXT", "text": "an existing object, rather than reassign a variable, despite the"}, {"type": "TEXT", "text": "syntax. See"}, {"type": "TEXT", "text": "Why can a function modify some arguments as perceived by the caller, but not others?"}, {"type": "TEXT", "text": "for details."}, {"type": "TEXT", "text": "See also"}, {"type": "TEXT", "text": "What's the difference between passing by reference vs. passing by value?"}, {"type": "TEXT", "text": "for important, language-agnostic terminology discussion."}]}
{"raw_content": "<p>How do I raise an exception in Python so that it can later be caught via an <code>except</code> block?</p>", "language": "python", "question_id": 2052390, "title": "Manually raising (throwing) an exception in Python", "segments": [{"type": "TEXT", "text": "How do I raise an exception in Python so that it can later be caught via an"}, {"type": "TEXT", "text": "except"}, {"type": "TEXT", "text": "block?"}]}
{"raw_content": "<p>How do I output colored text to the terminal in Python?</p>", "language": "python", "question_id": 287871, "title": "How do I print colored text to the terminal?", "segments": [{"type": "TEXT", "text": "How do I output colored text to the terminal in Python?"}]}
{"raw_content": "<p>Why is <code>super()</code> used?</p>\n<p>Is there a difference between using <code>Base.__init__</code> and <code>super().__init__</code>?</p>\n<pre><code>class Base(object):\n    def __init__(self):\n        print &quot;Base created&quot;\n        \nclass ChildA(Base):\n    def __init__(self):\n        Base.__init__(self)\n        \nclass ChildB(Base):\n    def __init__(self):\n        super(ChildB, self).__init__()\n        \nChildA() \nChildB()\n</code></pre>", "language": "python", "question_id": 576169, "title": "Understanding Python super() with __init__() methods", "segments": [{"type": "CODE", "text": "class Base(object):\n    def __init__(self):\n        print \"Base created\"\n        \nclass ChildA(Base):\n    def __init__(self):\n        Base.__init__(self)\n        \nclass ChildB(Base):\n    def __init__(self):\n        super(ChildB, self).__init__()\n        \nChildA() \nChildB()"}, {"type": "TEXT", "text": "Why is"}, {"type": "TEXT", "text": "super()"}, {"type": "TEXT", "text": "used?"}, {"type": "TEXT", "text": "Is there a difference between using"}, {"type": "TEXT", "text": "and"}, {"type": "TEXT", "text": "super().__init__"}, {"type": "TEXT", "text": "?"}]}
{"raw_content": "<p>How do I put a time delay in a Python script?</p>", "language": "python", "question_id": 510348, "title": "How do I make a time delay?", "segments": [{"type": "TEXT", "text": "How do I put a time delay in a Python script?"}]}
{"raw_content": "<p>How do I change the size of figure drawn with Matplotlib?</p>", "language": "python", "question_id": 332289, "title": "How do I change the size of figures drawn with Matplotlib?", "segments": [{"type": "TEXT", "text": "How do I change the size of figure drawn with Matplotlib?"}]}
{"raw_content": "<p>How do I concatenate two lists in Python?</p>\n\n<p>Example:</p>\n\n<pre><code>listone = [1, 2, 3]\nlisttwo = [4, 5, 6]\n</code></pre>\n\n<p>Expected outcome:</p>\n\n<pre><code>&gt;&gt;&gt; joinedlist\n[1, 2, 3, 4, 5, 6]\n</code></pre>", "language": "python", "question_id": 1720421, "title": "How do I concatenate two lists in Python?", "segments": [{"type": "CODE", "text": "listone = [1, 2, 3]\nlisttwo = [4, 5, 6]"}, {"type": "CODE", "text": ">>> joinedlist\n[1, 2, 3, 4, 5, 6]"}, {"type": "TEXT", "text": "How do I concatenate two lists in Python?"}, {"type": "TEXT", "text": "Example:"}, {"type": "TEXT", "text": "Expected outcome:"}]}
{"raw_content": "<p>For example, if passed the following:</p>\n\n<pre><code>a = []\n</code></pre>\n\n<p>How do I check to see if <code>a</code> is empty?</p>", "language": "python", "question_id": 53513, "title": "How do I check if a list is empty?", "segments": [{"type": "CODE", "text": "a = []"}, {"type": "TEXT", "text": "For example, if passed the following:"}, {"type": "TEXT", "text": "How do I check to see if"}, {"type": "TEXT", "text": "is empty?"}]}
{"raw_content": "<p>How do I remove a specific value from an array? Something like:</p>\n<pre class=\"lang-js prettyprint-override\"><code>array.remove(value);\n</code></pre>\n<p>Constraints: I have to use <strong>core</strong> JavaScript. Frameworks are not allowed.</p>", "language": "javascript", "question_id": 5767325, "title": "How can I remove a specific item from an array in JavaScript?", "segments": [{"type": "TEXT", "text": "How do I remove a specific value from an array? Something like:"}, {"type": "TEXT", "text": "array.remove(value);"}, {"type": "TEXT", "text": "Constraints: I have to use"}, {"type": "TEXT", "text": "core"}, {"type": "TEXT", "text": "JavaScript. Frameworks are not allowed."}]}
{"raw_content": "<p>How do I toggle the visibility of an element using  <code>.hide()</code>, <code>.show()</code>, or <code>.toggle()</code>?</p>\n<p>How do I test if an element is <code>visible</code> or <code>hidden</code>?</p>", "language": "javascript", "question_id": 178325, "title": "How do I check if an element is hidden in jQuery?", "segments": [{"type": "TEXT", "text": "How do I toggle the visibility of an element using"}, {"type": "TEXT", "text": ".hide()"}, {"type": "TEXT", "text": ","}, {"type": "TEXT", "text": ".show()"}, {"type": "TEXT", "text": ", or"}, {"type": "TEXT", "text": ".toggle()"}, {"type": "TEXT", "text": "?"}, {"type": "TEXT", "text": "How do I test if an element is"}, {"type": "TEXT", "text": "visible"}, {"type": "TEXT", "text": "or"}, {"type": "TEXT", "text": "hidden"}, {"type": "TEXT", "text": "?"}]}
{"raw_content": "<p>Recently, I ran some of my JavaScript code through Crockford's <a href=\"http://www.jslint.com/\" rel=\"noreferrer\">JSLint</a>, and it gave the following error:</p>\n<blockquote>\n<p>Problem at line 1 character 1: Missing &quot;use strict&quot; statement.</p>\n</blockquote>\n<p>Doing some searching, I realized that some people add <code>&quot;use strict&quot;;</code> into their JavaScript code. Once I added the statement, the error stopped appearing. Unfortunately, Google did not reveal much of the history behind this string statement. Certainly it must have something to do with how the JavaScript is interpreted by the browser, but I have no idea what the effect would be.</p>\n<p>So what is <code>&quot;use strict&quot;;</code> all about, what does it imply, and is it still relevant?</p>\n<p>Do any of the current browsers respond to the <code>&quot;use strict&quot;;</code> string or is it for future use?</p>", "language": "javascript", "question_id": 1335851, "title": "What does &quot;use strict&quot; do in JavaScript, and what is the reasoning behind it?", "segments": [{"type": "CODE", "text": "\"use strict\";"}, {"type": "TEXT", "text": "Recently, I ran some of my JavaScript code through Crockford's"}, {"type": "TEXT", "text": "JSLint"}, {"type": "TEXT", "text": ", and it gave the following error:"}, {"type": "TEXT", "text": "Problem at line 1 character 1: Missing \"use strict\" statement."}, {"type": "TEXT", "text": "Doing some searching, I realized that some people add"}, {"type": "TEXT", "text": "into their JavaScript code. Once I added the statement, the error stopped appearing. Unfortunately, Google did not reveal much of the history behind this string statement. Certainly it must have something to do with how the JavaScript is interpreted by the browser, but I have no idea what the effect would be."}, {"type": "TEXT", "text": "So what is"}, {"type": "TEXT", "text": "all about, what does it imply, and is it still relevant?"}, {"type": "TEXT", "text": "Do any of the current browsers respond to the"}, {"type": "TEXT", "text": "string or is it for future use?"}]}
{"raw_content": "<p>How can I redirect the user from one page to another using jQuery or pure JavaScript?</p>", "language": "javascript", "question_id": 503093, "title": "How do I redirect to another webpage?", "segments": [{"type": "TEXT", "text": "How can I redirect the user from one page to another using jQuery or pure JavaScript?"}]}
{"raw_content": "<p>I've recently started maintaining someone else's JavaScript code. I'm fixing bugs, adding features and also trying to tidy up the code and make it more consistent.</p>\n<p>The previous developer used two ways of declaring functions and I can't work out if there is a reason behind it or not.</p>\n<p>The two ways are:</p>\n<pre><code>var functionOne = function() {\n    // Some code\n};\n</code></pre>\n<p>And,</p>\n<pre><code>function functionTwo() {\n    // Some code\n}\n</code></pre>\n<p>What are the reasons for using these two different methods and what are the pros and cons of each? Is there anything that can be done with one method that can't be done with the other?</p>", "language": "javascript", "question_id": 336859, "title": "var functionName = function() {} vs function functionName() {}", "segments": [{"type": "CODE", "text": "var functionOne = function() {\n    // Some code\n};"}, {"type": "CODE", "text": "function functionTwo() {\n    // Some code\n}"}, {"type": "TEXT", "text": "I've recently started maintaining someone else's JavaScript code. I'm fixing bugs, adding features and also trying to tidy up the code and make it more consistent."}, {"type": "TEXT", "text": "The previous developer used two ways of declaring functions and I can't work out if there is a reason behind it or not."}, {"type": "TEXT", "text": "The two ways are:"}, {"type": "TEXT", "text": "And,"}, {"type": "TEXT", "text": "What are the reasons for using these two different methods and what are the pros and cons of each? Is there anything that can be done with one method that can't be done with the other?"}]}
{"raw_content": "<p>How would you explain JavaScript closures to someone with a knowledge of the concepts they consist of (for example functions, variables and the like), but does not understand closures themselves?</p>\n\n<p>I have seen <a href=\"http://en.wikipedia.org/wiki/Scheme_%28programming_language%29\" rel=\"noreferrer\">the Scheme example</a> given on Wikipedia, but unfortunately it did not help.</p>", "language": "javascript", "question_id": 111102, "title": "How do JavaScript closures work?", "segments": [{"type": "TEXT", "text": "How would you explain JavaScript closures to someone with a knowledge of the concepts they consist of (for example functions, variables and the like), but does not understand closures themselves?"}, {"type": "TEXT", "text": "I have seen"}, {"type": "TEXT", "text": "the Scheme example"}, {"type": "TEXT", "text": "given on Wikipedia, but unfortunately it did not help."}]}
{"raw_content": "<p>Given an object:</p>\n<pre><code>let myObject = {\n  &quot;ircEvent&quot;: &quot;PRIVMSG&quot;,\n  &quot;method&quot;: &quot;newURI&quot;,\n  &quot;regex&quot;: &quot;^http://.*&quot;\n};\n</code></pre>\n<p>How do I remove the property <code>regex</code> to end up with the following <code>myObject</code>?</p>\n<pre><code>let myObject = {\n  &quot;ircEvent&quot;: &quot;PRIVMSG&quot;,\n  &quot;method&quot;: &quot;newURI&quot;\n};\n</code></pre>", "language": "javascript", "question_id": 208105, "title": "How do I remove a property from a JavaScript object?", "segments": [{"type": "CODE", "text": "let myObject = {\n  \"ircEvent\": \"PRIVMSG\",\n  \"method\": \"newURI\",\n  \"regex\": \"^http://.*\"\n};"}, {"type": "CODE", "text": "let myObject = {\n  \"ircEvent\": \"PRIVMSG\",\n  \"method\": \"newURI\"\n};"}, {"type": "TEXT", "text": "Given an object:"}, {"type": "TEXT", "text": "How do I remove the property"}, {"type": "TEXT", "text": "to end up with the following"}, {"type": "TEXT", "text": "?"}]}
{"raw_content": "<p>Usually I would expect a <code>String.contains()</code> method, but there doesn't seem to be one. </p>\n\n<p>What is a reasonable way to check for this?</p>", "language": "javascript", "question_id": 1789945, "title": "How to check whether a string contains a substring in JavaScript?", "segments": [{"type": "TEXT", "text": "Usually I would expect a"}, {"type": "TEXT", "text": "String.contains()"}, {"type": "TEXT", "text": "method, but there doesn't seem to be one."}, {"type": "TEXT", "text": "What is a reasonable way to check for this?"}]}
{"raw_content": "<p>How do I return the response/result from a function <code>foo</code> that makes an asynchronous request?</p>\n<p>I am trying to return the value from the callback, as well as assigning the result to a local variable inside the function and returning that one, but none of those ways actually return the response  they all return <code>undefined</code> or whatever the initial value of the variable <code>result</code> is.</p>\n<p><strong>Example of an asynchronous function that accepts a callback</strong> (using jQuery's <code>ajax</code> function):</p>\n<pre><code>function foo() {\n    var result;\n\n    $.ajax({\n        url: '...',\n        success: function(response) {\n            result = response;\n            // return response; // &lt;- I tried that one as well\n        }\n    });\n\n    return result; // It always returns `undefined`\n}\n</code></pre>\n<p><strong>Example using Node.js:</strong></p>\n<pre><code>function foo() {\n    var result;\n\n    fs.readFile(&quot;path/to/file&quot;, function(err, data) {\n        result = data;\n        // return data; // &lt;- I tried that one as well\n    });\n\n    return result; // It always returns `undefined`\n}\n</code></pre>\n<p><strong>Example using the <code>then</code> block of a promise:</strong></p>\n<pre><code>function foo() {\n    var result;\n\n    fetch(url).then(function(response) {\n        result = response;\n        // return response; // &lt;- I tried that one as well\n    });\n\n    return result; // It always returns `undefined`\n}\n</code></pre>", "language": "javascript", "question_id": 14220321, "title": "How do I return the response from an asynchronous call?", "segments": [{"type": "CODE", "text": "function foo() {\n    var result;\n\n    $.ajax({\n        url: '...',\n        success: function(response) {\n            result = response;\n            // return response; // <- I tried that one as well\n        }\n    });\n\n    return result; // It always returns `undefined`\n}"}, {"type": "CODE", "text": "function foo() {\n    var result;\n\n    fs.readFile(\"path/to/file\", function(err, data) {\n        result = data;\n        // return data; // <- I tried that one as well\n    });\n\n    return result; // It always returns `undefined`\n}"}, {"type": "CODE", "text": "function foo() {\n    var result;\n\n    fetch(url).then(function(response) {\n        result = response;\n        // return response; // <- I tried that one as well\n    });\n\n    return result; // It always returns `undefined`\n}"}, {"type": "TEXT", "text": "How do I return the response/result from a function"}, {"type": "TEXT", "text": "that makes an asynchronous request?"}, {"type": "TEXT", "text": "I am trying to return the value from the callback, as well as assigning the result to a local variable inside the function and returning that one, but none of those ways actually return the response  they all return"}, {"type": "TEXT", "text": "or whatever the initial value of the variable"}, {"type": "TEXT", "text": "is."}, {"type": "TEXT", "text": "Example of an asynchronous function that accepts a callback"}, {"type": "TEXT", "text": "(using jQuery's"}, {"type": "TEXT", "text": "function):"}, {"type": "TEXT", "text": "Example using Node.js:"}, {"type": "TEXT", "text": "Example using the"}, {"type": "TEXT", "text": "block of a promise:"}]}
{"raw_content": "<p>ECMAScript 6 introduced <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/let\" rel=\"noreferrer\">the <code>let</code> declaration keyword</a>.</p>\n<p>I've heard that it's described as a local variable, but I'm still not quite sure how it behaves differently than the <code>var</code> keyword.</p>\n<p>What are the differences? When should <code>let</code> be used instead of <code>var</code>?</p>", "language": "javascript", "question_id": 762011, "title": "What is the difference between &quot;let&quot; and &quot;var&quot;?", "segments": [{"type": "TEXT", "text": "ECMAScript 6 introduced"}, {"type": "TEXT", "text": "the"}, {"type": "TEXT", "text": "let"}, {"type": "TEXT", "text": "declaration keyword"}, {"type": "TEXT", "text": "."}, {"type": "TEXT", "text": "I've heard that it's described as a local variable, but I'm still not quite sure how it behaves differently than the"}, {"type": "TEXT", "text": "var"}, {"type": "TEXT", "text": "keyword."}, {"type": "TEXT", "text": "What are the differences? When should"}, {"type": "TEXT", "text": "let"}, {"type": "TEXT", "text": "be used instead of"}, {"type": "TEXT", "text": "var"}, {"type": "TEXT", "text": "?"}]}
{"raw_content": "<p>How do I include a JavaScript file inside another JavaScript file, similar to <code>@import</code> in CSS?</p>", "language": "javascript", "question_id": 950087, "title": "How do I include a JavaScript file in another JavaScript file?", "segments": [{"type": "TEXT", "text": "How do I include a JavaScript file inside another JavaScript file, similar to"}, {"type": "TEXT", "text": "@import"}, {"type": "TEXT", "text": "in CSS?"}]}
{"raw_content": "<p>How can I loop through all the entries in an array using JavaScript?</p>", "language": "javascript", "question_id": 9329446, "title": "Loop (for each) over an array in JavaScript", "segments": [{"type": "TEXT", "text": "How can I loop through all the entries in an array using JavaScript?"}]}
{"raw_content": "<p>I'm using <a href=\"http://en.wikipedia.org/wiki/JSLint\" rel=\"noreferrer\">JSLint</a> to go through JavaScript, and it's returning many suggestions to replace <code>==</code> (two equals signs) with <code>===</code> (three equals signs) when doing things like comparing <code>idSele_UNVEHtype.value.length == 0</code> inside of an <code>if</code> statement.</p>\n\n<p>Is there a performance benefit to replacing <code>==</code> with <code>===</code>? </p>\n\n<p>Any performance improvement would be welcomed as many comparison operators exist.</p>\n\n<p>If no type conversion takes place, would there be a performance gain over <code>==</code>?</p>", "language": "javascript", "question_id": 359494, "title": "Which equals operator (== vs ===) should be used in JavaScript comparisons?", "segments": [{"type": "CODE", "text": "idSele_UNVEHtype.value.length == 0"}, {"type": "TEXT", "text": "I'm using"}, {"type": "TEXT", "text": "JSLint"}, {"type": "TEXT", "text": "to go through JavaScript, and it's returning many suggestions to replace"}, {"type": "TEXT", "text": "(two equals signs) with"}, {"type": "TEXT", "text": "==="}, {"type": "TEXT", "text": "(three equals signs) when doing things like comparing"}, {"type": "TEXT", "text": "inside of an"}, {"type": "TEXT", "text": "if"}, {"type": "TEXT", "text": "statement."}, {"type": "TEXT", "text": "Is there a performance benefit to replacing"}, {"type": "TEXT", "text": "with"}, {"type": "TEXT", "text": "==="}, {"type": "TEXT", "text": "?"}, {"type": "TEXT", "text": "Any performance improvement would be welcomed as many comparison operators exist."}, {"type": "TEXT", "text": "If no type conversion takes place, would there be a performance gain over"}, {"type": "TEXT", "text": "?"}]}
{"raw_content": "<p>Given a string:</p>\n<pre><code>string = &quot;Test abc test test abc test test test abc test test abc&quot;;\n</code></pre>\n<p>This seems to only remove the first occurrence of <code>abc</code> in the string above:</p>\n<pre><code>string = string.replace('abc', '');\n</code></pre>\n<p>How do I replace <em>all</em> occurrences of it?</p>", "language": "javascript", "question_id": 1144783, "title": "How do I replace all occurrences of a string?", "segments": [{"type": "CODE", "text": "string = \"Test abc test test abc test test test abc test test abc\";"}, {"type": "CODE", "text": "string = string.replace('abc', '');"}, {"type": "TEXT", "text": "Given a string:"}, {"type": "TEXT", "text": "This seems to only remove the first occurrence of"}, {"type": "TEXT", "text": "in the string above:"}, {"type": "TEXT", "text": "How do I replace"}, {"type": "TEXT", "text": "all"}, {"type": "TEXT", "text": "occurrences of it?"}]}
{"raw_content": "<p>How do I create GUIDs (globally-unique identifiers) in JavaScript? The GUID / UUID should be at least 32 characters and should stay in the ASCII range to avoid trouble when passing them around.</p>\n<p>I'm not sure what routines are available on all browsers, how &quot;random&quot; and seeded the built-in random number generator is, etc.</p>", "language": "javascript", "question_id": 105034, "title": "How do I create a GUID / UUID?", "segments": [{"type": "TEXT", "text": "How do I create GUIDs (globally-unique identifiers) in JavaScript? The GUID / UUID should be at least 32 characters and should stay in the ASCII range to avoid trouble when passing them around."}, {"type": "TEXT", "text": "I'm not sure what routines are available on all browsers, how \"random\" and seeded the built-in random number generator is, etc."}]}
{"raw_content": "<p>I'd like to check if the user input is an email address in JavaScript, before sending it to a server or attempting to send an email to it, to prevent the most basic mistyping. How could I achieve this?</p>", "language": "javascript", "question_id": 46155, "title": "How can I validate an email address in JavaScript?", "segments": [{"type": "TEXT", "text": "I'd like to check if the user input is an email address in JavaScript, before sending it to a server or attempting to send an email to it, to prevent the most basic mistyping. How could I achieve this?"}]}
{"raw_content": "<p>How do I make the first character of a string uppercase if it's a letter, but not change the case of any of the other letters?</p>\n<p>For example:</p>\n<ul>\n<li><code>&quot;this is a test&quot;</code>  <code>&quot;This is a test&quot;</code></li>\n<li><code>&quot;the Eiffel Tower&quot;</code>  <code>&quot;The Eiffel Tower&quot;</code></li>\n<li><code>&quot;/index.html&quot;</code>  <code>&quot;/index.html&quot;</code></li>\n</ul>", "language": "javascript", "question_id": 1026069, "title": "How do I make the first letter of a string uppercase in JavaScript?", "segments": [{"type": "CODE", "text": "\"this is a test\""}, {"type": "CODE", "text": "\"This is a test\""}, {"type": "CODE", "text": "\"the Eiffel Tower\""}, {"type": "CODE", "text": "\"The Eiffel Tower\""}, {"type": "TEXT", "text": "How do I make the first character of a string uppercase if it's a letter, but not change the case of any of the other letters?"}, {"type": "TEXT", "text": "For example:"}, {"type": "TEXT", "text": ""}, {"type": "TEXT", "text": ""}, {"type": "TEXT", "text": "\"/index.html\""}, {"type": "TEXT", "text": ""}, {"type": "TEXT", "text": "\"/index.html\""}]}
{"raw_content": "<p>I need to check the <code>checked</code> property of a checkbox and perform an action based on the checked property using jQuery.</p>\n<p>For example, if the <code>age</code> checkbox is checked, then I need to show a textbox to enter <code>age</code>, else hide the textbox.</p>\n<p>But the following code returns <code>false</code> by default:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>if ($('#isAgeSelected').attr('checked')) {\n  $(\"#txtAge\").show();\n} else {\n  $(\"#txtAge\").hide();\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js\"&gt;&lt;/script&gt;\n&lt;input type=\"checkbox\" id=\"isAgeSelected\"/&gt;\n&lt;div id=\"txtAge\" style=\"display:none\"&gt;\n  Age is selected\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>How do I successfully query the <code>checked</code> property?</p>", "language": "javascript", "question_id": 901712, "title": "How do I check whether a checkbox is checked in jQuery?", "segments": [{"type": "CODE", "text": "if ($('#isAgeSelected').attr('checked')) {\n  $(\"#txtAge\").show();\n} else {\n  $(\"#txtAge\").hide();\n}"}, {"type": "CODE", "text": "<script src=\"https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js\"></script>\n<input type=\"checkbox\" id=\"isAgeSelected\"/>\n<div id=\"txtAge\" style=\"display:none\">\n  Age is selected\n</div>"}, {"type": "TEXT", "text": "I need to check the"}, {"type": "TEXT", "text": "property of a checkbox and perform an action based on the checked property using jQuery."}, {"type": "TEXT", "text": "For example, if the"}, {"type": "TEXT", "text": "age"}, {"type": "TEXT", "text": "checkbox is checked, then I need to show a textbox to enter"}, {"type": "TEXT", "text": "age"}, {"type": "TEXT", "text": ", else hide the textbox."}, {"type": "TEXT", "text": "But the following code returns"}, {"type": "TEXT", "text": "false"}, {"type": "TEXT", "text": "by default:"}, {"type": "TEXT", "text": "How do I successfully query the"}, {"type": "TEXT", "text": "property?"}]}
{"raw_content": "<p>What is the most efficient way to clone a JavaScript object? I've seen <code>obj = eval(uneval(o));</code> being used, but <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/uneval\" rel=\"noreferrer\">that's non-standard and only supported by Firefox</a>.<br/><br/> I've done things like <code>obj = JSON.parse(JSON.stringify(o));</code> but question the efficiency. <br/><br/> I've also seen recursive copying functions with various flaws.\n<br />\nI'm surprised no canonical solution exists.</p>", "language": "javascript", "question_id": 122102, "title": "What is the most efficient way to deep clone an object in JavaScript?", "segments": [{"type": "CODE", "text": "obj = eval(uneval(o));"}, {"type": "CODE", "text": "obj = JSON.parse(JSON.stringify(o));"}, {"type": "TEXT", "text": "What is the most efficient way to clone a JavaScript object? I've seen"}, {"type": "TEXT", "text": "being used, but"}, {"type": "TEXT", "text": "that's non-standard and only supported by Firefox"}, {"type": "TEXT", "text": "I've done things like"}, {"type": "TEXT", "text": "but question the efficiency."}, {"type": "TEXT", "text": "I've also seen recursive copying functions with various flaws."}, {"type": "TEXT", "text": "I'm surprised no canonical solution exists."}]}
{"raw_content": "<p>What is the most concise and efficient way to find out if a JavaScript array contains a value?</p>\n<p>This is the only way I know to do it:</p>\n<pre><code>function contains(a, obj) {\n    for (var i = 0; i &lt; a.length; i++) {\n        if (a[i] === obj) {\n            return true;\n        }\n    }\n    return false;\n}\n</code></pre>\n<p>Is there a better and more concise way to accomplish this?</p>\n<p>This is very closely related to Stack Overflow question <em><a href=\"https://stackoverflow.com/questions/143847/best-way-to-find-an-item-in-a-javascript-array\">Best way to find an item in a JavaScript Array?</a></em> which addresses finding objects in an array using <code>indexOf</code>.</p>", "language": "javascript", "question_id": 237104, "title": "How do I check if an array includes a value in JavaScript?", "segments": [{"type": "CODE", "text": "function contains(a, obj) {\n    for (var i = 0; i < a.length; i++) {\n        if (a[i] === obj) {\n            return true;\n        }\n    }\n    return false;\n}"}, {"type": "TEXT", "text": "What is the most concise and efficient way to find out if a JavaScript array contains a value?"}, {"type": "TEXT", "text": "This is the only way I know to do it:"}, {"type": "TEXT", "text": "Is there a better and more concise way to accomplish this?"}, {"type": "TEXT", "text": "This is very closely related to Stack Overflow question"}, {"type": "TEXT", "text": "Best way to find an item in a JavaScript Array?"}, {"type": "TEXT", "text": "which addresses finding objects in an array using"}, {"type": "TEXT", "text": "indexOf"}]}
{"raw_content": "<p>I want a single number that represents the current date and time, like a <a href=\"https://en.wikipedia.org/wiki/Unix_time\" rel=\"noreferrer\">Unix timestamp</a>.</p>", "language": "javascript", "question_id": 221294, "title": "How do I get a timestamp in JavaScript?", "segments": [{"type": "TEXT", "text": "I want a single number that represents the current date and time, like a"}, {"type": "TEXT", "text": "Unix timestamp"}, {"type": "TEXT", "text": "."}]}
{"raw_content": "<p>I'd like to do something like this to tick a <code>checkbox</code> using <strong>jQuery</strong>:</p>\n\n<pre><code>$(\".myCheckBox\").checked(true);\n</code></pre>\n\n<p>or</p>\n\n<pre><code>$(\".myCheckBox\").selected(true);\n</code></pre>\n\n<p>Does such a thing exist?</p>", "language": "javascript", "question_id": 426258, "title": "Setting &quot;checked&quot; for a checkbox with jQuery", "segments": [{"type": "TEXT", "text": "I'd like to do something like this to tick a"}, {"type": "TEXT", "text": "checkbox"}, {"type": "TEXT", "text": "using"}, {"type": "TEXT", "text": "jQuery"}, {"type": "TEXT", "text": ":"}, {"type": "TEXT", "text": "$(\".myCheckBox\").checked(true);"}, {"type": "TEXT", "text": "or"}, {"type": "TEXT", "text": "$(\".myCheckBox\").selected(true);"}, {"type": "TEXT", "text": "Does such a thing exist?"}]}
{"raw_content": "<p>Why does Google prepend <code>while(1);</code> to their (private) JSON responses?</p>\n\n<p>For example, here's a response while turning a calendar on and off in <a href=\"https://calendar.google.com/calendar/about/\" rel=\"noreferrer\">Google Calendar</a>:</p>\n\n<pre><code>while (1);\n[\n  ['u', [\n    ['smsSentFlag', 'false'],\n    ['hideInvitations', 'false'],\n    ['remindOnRespondedEventsOnly', 'true'],\n    ['hideInvitations_remindOnRespondedEventsOnly', 'false_true'],\n    ['Calendar ID stripped for privacy', 'false'],\n    ['smsVerifiedFlag', 'true']\n  ]]\n]\n</code></pre>\n\n<p>I would assume this is to prevent people from doing an <code>eval()</code> on it, but all you'd really have to do is replace the <code>while</code> and then you'd be set. I would assume the eval prevention is to make sure people write safe JSON parsing code.</p>\n\n<p>I've seen this used in a couple of other places, too, but a lot more so with Google (Mail, Calendar, Contacts, etc.) Strangely enough, <a href=\"https://www.google.com/docs/about/\" rel=\"noreferrer\">Google Docs</a> starts with <code>&amp;&amp;&amp;START&amp;&amp;&amp;</code> instead, and Google Contacts seems to start with <code>while(1); &amp;&amp;&amp;START&amp;&amp;&amp;</code>.</p>\n\n<p>What's going on here?</p>", "language": "javascript", "question_id": 2669690, "title": "Why does Google prepend while(1); to their JSON responses?", "segments": [{"type": "CODE", "text": "while (1);\n[\n  ['u', [\n    ['smsSentFlag', 'false'],\n    ['hideInvitations', 'false'],\n    ['remindOnRespondedEventsOnly', 'true'],\n    ['hideInvitations_remindOnRespondedEventsOnly', 'false_true'],\n    ['Calendar ID stripped for privacy', 'false'],\n    ['smsVerifiedFlag', 'true']\n  ]]\n]"}, {"type": "CODE", "text": "while(1); &&&START&&&"}, {"type": "TEXT", "text": "Why does Google prepend"}, {"type": "TEXT", "text": "to their (private) JSON responses?"}, {"type": "TEXT", "text": "For example, here's a response while turning a calendar on and off in"}, {"type": "TEXT", "text": "Google Calendar"}, {"type": "TEXT", "text": ":"}, {"type": "TEXT", "text": "I would assume this is to prevent people from doing an"}, {"type": "TEXT", "text": "eval()"}, {"type": "TEXT", "text": "on it, but all you'd really have to do is replace the"}, {"type": "TEXT", "text": "and then you'd be set. I would assume the eval prevention is to make sure people write safe JSON parsing code."}, {"type": "TEXT", "text": "I've seen this used in a couple of other places, too, but a lot more so with Google (Mail, Calendar, Contacts, etc.) Strangely enough,"}, {"type": "TEXT", "text": "Google Docs"}, {"type": "TEXT", "text": "starts with"}, {"type": "TEXT", "text": "instead, and Google Contacts seems to start with"}, {"type": "TEXT", "text": "."}, {"type": "TEXT", "text": "What's going on here?"}]}
{"raw_content": "<p>Suppose I'm familiar with developing client-side applications in <a href=\"http://jquery.com/\" rel=\"noreferrer\">jQuery</a>, but now I'd like to start using <a href=\"http://angularjs.org/\" rel=\"noreferrer\">AngularJS</a>. Can you describe the paradigm shift that is necessary? Here are a few questions that might help you frame an answer:</p>\n\n<ul>\n<li>How do I architect and design client-side web applications differently? What is the biggest difference?</li>\n<li>What should I stop doing/using; What should I start doing/using instead?</li>\n<li>Are there any server-side considerations/restrictions?</li>\n</ul>\n\n<p>I'm not looking for a detailed comparison between <code>jQuery</code> and <code>AngularJS</code>.</p>", "language": "javascript", "question_id": 14994391, "title": "&quot;Thinking in AngularJS&quot; if I have a jQuery background?", "segments": [{"type": "TEXT", "text": "Suppose I'm familiar with developing client-side applications in"}, {"type": "TEXT", "text": "jQuery"}, {"type": "TEXT", "text": ", but now I'd like to start using"}, {"type": "TEXT", "text": "AngularJS"}, {"type": "TEXT", "text": ". Can you describe the paradigm shift that is necessary? Here are a few questions that might help you frame an answer:"}, {"type": "TEXT", "text": "How do I architect and design client-side web applications differently? What is the biggest difference?"}, {"type": "TEXT", "text": "What should I stop doing/using; What should I start doing/using instead?"}, {"type": "TEXT", "text": "Are there any server-side considerations/restrictions?"}, {"type": "TEXT", "text": "I'm not looking for a detailed comparison between"}, {"type": "TEXT", "text": "jQuery"}, {"type": "TEXT", "text": "and"}, {"type": "TEXT", "text": "AngularJS"}, {"type": "TEXT", "text": "."}]}
{"raw_content": "<p>The following are two methods of building a link that has the sole purpose of running JavaScript code. Which is better, in terms of functionality, page load speed, validation purposes, etc.?</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"false\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function myJsFunc() {\r\n    alert(\"myJsFunc\");\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;a href=\"#\" onclick=\"myJsFunc();\"&gt;Run JavaScript Code&lt;/a&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>or</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"false\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function myJsFunc() {\r\n    alert(\"myJsFunc\");\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code> &lt;a href=\"javascript:void(0)\" onclick=\"myJsFunc();\"&gt;Run JavaScript Code&lt;/a&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>", "language": "javascript", "question_id": 134845, "title": "Which &quot;href&quot; value should I use for JavaScript links, &quot;#&quot; or &quot;javascript:void(0)&quot;?", "segments": [{"type": "CODE", "text": "function myJsFunc() {\r\n    alert(\"myJsFunc\");\r\n}"}, {"type": "CODE", "text": "<a href=\"#\" onclick=\"myJsFunc();\">Run JavaScript Code</a>"}, {"type": "CODE", "text": "<a href=\"javascript:void(0)\" onclick=\"myJsFunc();\">Run JavaScript Code</a>"}, {"type": "TEXT", "text": "The following are two methods of building a link that has the sole purpose of running JavaScript code. Which is better, in terms of functionality, page load speed, validation purposes, etc.?"}, {"type": "TEXT", "text": "or"}]}
{"raw_content": "<p>How do I copy text to the clipboard (multi-browser)?</p>\n<p>Related: <em><a href=\"https://stackoverflow.com/questions/17527870/how-does-trello-access-the-users-clipboard\">How does Trello access the user&#39;s clipboard?</a></em></p>", "language": "javascript", "question_id": 400212, "title": "How do I copy to the clipboard in JavaScript?", "segments": [{"type": "TEXT", "text": "How do I copy text to the clipboard (multi-browser)?"}, {"type": "TEXT", "text": "Related:"}, {"type": "TEXT", "text": "How does Trello access the user's clipboard?"}]}
{"raw_content": "<p>I am looking for a JavaScript array insert method, in the style of:</p>\n<pre><code>arr.insert(index, item)\n</code></pre>\n<p>Preferably in jQuery, but any JavaScript implementation will do at this point.</p>", "language": "javascript", "question_id": 586182, "title": "How to insert an item into an array at a specific index?", "segments": [{"type": "CODE", "text": "arr.insert(index, item)"}, {"type": "TEXT", "text": "I am looking for a JavaScript array insert method, in the style of:"}, {"type": "TEXT", "text": "Preferably in jQuery, but any JavaScript implementation will do at this point."}]}
{"raw_content": "<p>I'd like to round at most two decimal places, but <em>only if necessary</em>.</p>\n<p>Input:</p>\n<pre><code>10\n1.7777777\n9.1\n</code></pre>\n<p>Output:</p>\n<pre><code>10\n1.78\n9.1\n</code></pre>\n<p>How can I do this in JavaScript?</p>", "language": "javascript", "question_id": 11832914, "title": "How to round to at most 2 decimal places, if necessary", "segments": [{"type": "CODE", "text": "10\n1.7777777\n9.1"}, {"type": "CODE", "text": "10\n1.78\n9.1"}, {"type": "TEXT", "text": "I'd like to round at most two decimal places, but"}, {"type": "TEXT", "text": "only if necessary"}, {"type": "TEXT", "text": "Input:"}, {"type": "TEXT", "text": "Output:"}, {"type": "TEXT", "text": "How can I do this in JavaScript?"}]}
{"raw_content": "<p>I have an array of JavaScript objects:</p>\n<pre><code>var objs = [ \n    { first_nom: 'Laszlo', last_nom: 'Jamf'     },\n    { first_nom: 'Pig',    last_nom: 'Bodine'   },\n    { first_nom: 'Pirate', last_nom: 'Prentice' }\n];\n</code></pre>\n<p>How can I sort them by the value of <code>last_nom</code> in JavaScript?</p>\n<p>I know about <code>sort(a,b)</code>, but that only seems to work on strings and numbers. Do I need to add a <code>toString()</code> method to my objects?</p>", "language": "javascript", "question_id": 1129216, "title": "Sort array of objects by string property value", "segments": [{"type": "CODE", "text": "var objs = [ \n    { first_nom: 'Laszlo', last_nom: 'Jamf'     },\n    { first_nom: 'Pig',    last_nom: 'Bodine'   },\n    { first_nom: 'Pirate', last_nom: 'Prentice' }\n];"}, {"type": "TEXT", "text": "I have an array of JavaScript objects:"}, {"type": "TEXT", "text": "How can I sort them by the value of"}, {"type": "TEXT", "text": "in JavaScript?"}, {"type": "TEXT", "text": "I know about"}, {"type": "TEXT", "text": "sort(a,b)"}, {"type": "TEXT", "text": ", but that only seems to work on strings and numbers. Do I need to add a"}, {"type": "TEXT", "text": "toString()"}, {"type": "TEXT", "text": "method to my objects?"}]}
{"raw_content": "<p>I saw this code:</p>\n<pre class=\"lang-js prettyprint-override\"><code>this.vertical = vertical !== undefined ? !!vertical : this.vertical;\n</code></pre>\n<p>It seems to be using <code>!!</code> as an operator, which I don't recognize. What does it do?</p>", "language": "javascript", "question_id": 784929, "title": "What does the !! (double exclamation mark) operator do in JavaScript?", "segments": [{"type": "CODE", "text": "this.vertical = vertical !== undefined ? !!vertical : this.vertical;"}, {"type": "TEXT", "text": "I saw this code:"}, {"type": "TEXT", "text": "It seems to be using"}, {"type": "TEXT", "text": "as an operator, which I don't recognize. What does it do?"}]}
{"raw_content": "<p>Is there a <code>string.Empty</code> in JavaScript, or is it just a case of checking for <code>&quot;&quot;</code>?</p>", "language": "javascript", "question_id": 154059, "title": "How do I check for an empty/undefined/null string in JavaScript?", "segments": [{"type": "TEXT", "text": "Is there a"}, {"type": "TEXT", "text": "string.Empty"}, {"type": "TEXT", "text": "in JavaScript, or is it just a case of checking for"}, {"type": "TEXT", "text": "\"\""}, {"type": "TEXT", "text": "?"}]}
{"raw_content": "<p>How do I check if a particular key exists in a JavaScript object or array?</p>\n\n<p>If a key doesn't exist, and I try to access it, will it return false? Or throw an error?</p>", "language": "javascript", "question_id": 1098040, "title": "Checking if a key exists in a JavaScript object?", "segments": [{"type": "TEXT", "text": "How do I check if a particular key exists in a JavaScript object or array?"}, {"type": "TEXT", "text": "If a key doesn't exist, and I try to access it, will it return false? Or throw an error?"}]}
{"raw_content": "<p>In Java, you can use a <code>for</code> loop to traverse objects in an array as follows:</p>\n<pre><code>String[] myStringArray = {&quot;Hello&quot;, &quot;World&quot;};\nfor (String s : myStringArray) {\n    // Do something\n}\n</code></pre>\n<p>Can I do the same in JavaScript?</p>", "language": "javascript", "question_id": 3010840, "title": "Loop through an array in JavaScript", "segments": [{"type": "CODE", "text": "String[] myStringArray = {\"Hello\", \"World\"};\nfor (String s : myStringArray) {\n    // Do something\n}"}, {"type": "TEXT", "text": "In Java, you can use a"}, {"type": "TEXT", "text": "loop to traverse objects in an array as follows:"}, {"type": "TEXT", "text": "Can I do the same in JavaScript?"}]}
{"raw_content": "<p>Is there a better way to engineer a <code>sleep</code> in JavaScript than the following <code>pausecomp</code> function (<a href=\"http://www.sean.co.uk/a/webdesign/javascriptdelay.shtm\" rel=\"noreferrer\">taken from here</a>)?</p>\n\n<pre><code>function pausecomp(millis)\n{\n    var date = new Date();\n    var curDate = null;\n    do { curDate = new Date(); }\n    while(curDate-date &lt; millis);\n}\n</code></pre>\n\n<p>This is not a duplicate of <a href=\"https://stackoverflow.com/questions/758688/sleep-in-javascript-delay-between-actions\">Sleep in JavaScript - delay between actions</a>; I want a <em>real sleep</em> in the middle of a function, and not a delay before a piece of code executes.</p>", "language": "javascript", "question_id": 951021, "title": "What is the JavaScript version of sleep()?", "segments": [{"type": "CODE", "text": "function pausecomp(millis)\n{\n    var date = new Date();\n    var curDate = null;\n    do { curDate = new Date(); }\n    while(curDate-date < millis);\n}"}, {"type": "TEXT", "text": "Is there a better way to engineer a"}, {"type": "TEXT", "text": "sleep"}, {"type": "TEXT", "text": "in JavaScript than the following"}, {"type": "TEXT", "text": "function ("}, {"type": "TEXT", "text": "taken from here"}, {"type": "TEXT", "text": ")?"}, {"type": "TEXT", "text": "This is not a duplicate of"}, {"type": "TEXT", "text": "Sleep in JavaScript - delay between actions"}, {"type": "TEXT", "text": "; I want a"}, {"type": "TEXT", "text": "real sleep"}, {"type": "TEXT", "text": "in the middle of a function, and not a delay before a piece of code executes."}]}
{"raw_content": "<p>After an AJAX request, sometimes my application may return an empty object, like:</p>\n\n<pre><code>var a = {};\n</code></pre>\n\n<p>How can I check whether that's the case?</p>", "language": "javascript", "question_id": 679915, "title": "How do I test for an empty JavaScript object?", "segments": [{"type": "CODE", "text": "var a = {};"}, {"type": "TEXT", "text": "After an AJAX request, sometimes my application may return an empty object, like:"}, {"type": "TEXT", "text": "How can I check whether that's the case?"}]}
{"raw_content": "<p>All I want is to get the website URL. Not the URL as taken from a link. On the page loading I need to be able to grab the full, current URL of the website and set it as a variable to do with as I please.</p>", "language": "javascript", "question_id": 1034621, "title": "Get the current URL with JavaScript?", "segments": [{"type": "TEXT", "text": "All I want is to get the website URL. Not the URL as taken from a link. On the page loading I need to be able to grab the full, current URL of the website and set it as a variable to do with as I please."}]}
{"raw_content": "<p>I have an object <code>x</code>. I'd like to copy it as object <code>y</code>, such that changes to <code>y</code> do not modify <code>x</code>. I realized that copying objects derived from built-in JavaScript objects will result in extra, unwanted properties. This isn't a problem, since I'm copying one of my own literal-constructed objects.</p>\n\n<p>How do I correctly clone a JavaScript object?</p>", "language": "javascript", "question_id": 728360, "title": "How do I correctly clone a JavaScript object?", "segments": [{"type": "TEXT", "text": "I have an object"}, {"type": "TEXT", "text": "x"}, {"type": "TEXT", "text": ". I'd like to copy it as object"}, {"type": "TEXT", "text": "y"}, {"type": "TEXT", "text": ", such that changes to"}, {"type": "TEXT", "text": "y"}, {"type": "TEXT", "text": "do not modify"}, {"type": "TEXT", "text": "x"}, {"type": "TEXT", "text": ". I realized that copying objects derived from built-in JavaScript objects will result in extra, unwanted properties. This isn't a problem, since I'm copying one of my own literal-constructed objects."}, {"type": "TEXT", "text": "How do I correctly clone a JavaScript object?"}]}
{"raw_content": "<p>I have a JavaScript object like the following:</p>\n<pre><code>var p = {\n    &quot;p1&quot;: &quot;value1&quot;,\n    &quot;p2&quot;: &quot;value2&quot;,\n    &quot;p3&quot;: &quot;value3&quot;\n};\n</code></pre>\n<p>How do I loop through all of <code>p</code>'s elements (<code>p1</code>, <code>p2</code>, <code>p3</code>...) and get their keys and values?</p>", "language": "javascript", "question_id": 684672, "title": "How do I loop through or enumerate a JavaScript object?", "segments": [{"type": "CODE", "text": "var p = {\n    \"p1\": \"value1\",\n    \"p2\": \"value2\",\n    \"p3\": \"value3\"\n};"}, {"type": "TEXT", "text": "I have a JavaScript object like the following:"}, {"type": "TEXT", "text": "How do I loop through all of"}, {"type": "TEXT", "text": "'s elements ("}, {"type": "TEXT", "text": "...) and get their keys and values?"}]}
{"raw_content": "<p>Can I convert a string representing a boolean value (e.g., 'true', 'false') into an intrinsic type in JavaScript?</p>\n<p>I have a hidden form in HTML that is updated based on a user's selection within a list. This form contains some fields which represent boolean values and are dynamically populated with an intrinsic boolean value. However, once this value is placed into the hidden input field it becomes a string.</p>\n<p>The only way I could find to determine the field's boolean value, once it was converted into a string, was to depend upon the literal value of its string representation.</p>\n<pre><code>var myValue = document.myForm.IS_TRUE.value;\nvar isTrueSet = myValue == 'true';\n</code></pre>\n<p>Is there a better way to accomplish this?</p>", "language": "javascript", "question_id": 263965, "title": "How can I convert a string to boolean in JavaScript?", "segments": [{"type": "CODE", "text": "var myValue = document.myForm.IS_TRUE.value;\nvar isTrueSet = myValue == 'true';"}, {"type": "TEXT", "text": "Can I convert a string representing a boolean value (e.g., 'true', 'false') into an intrinsic type in JavaScript?"}, {"type": "TEXT", "text": "I have a hidden form in HTML that is updated based on a user's selection within a list. This form contains some fields which represent boolean values and are dynamically populated with an intrinsic boolean value. However, once this value is placed into the hidden input field it becomes a string."}, {"type": "TEXT", "text": "The only way I could find to determine the field's boolean value, once it was converted into a string, was to depend upon the literal value of its string representation."}, {"type": "TEXT", "text": "Is there a better way to accomplish this?"}]}
{"raw_content": "<p>How do I format a Javascript <code>Date</code> object as a string? (Preferable format: <code>10-Aug-2010</code>)</p>", "language": "javascript", "question_id": 3552461, "title": "How do I format a date in JavaScript?", "segments": [{"type": "TEXT", "text": "How do I format a Javascript"}, {"type": "TEXT", "text": "Date"}, {"type": "TEXT", "text": "object as a string? (Preferable format:"}, {"type": "TEXT", "text": "10-Aug-2010"}, {"type": "TEXT", "text": ")"}]}
{"raw_content": "<p>In this C++ code, sorting the data (<em>before</em> the timed region) makes the primary loop ~6x faster:</p>\n<pre class=\"lang-cpp prettyprint-override\"><code>#include &lt;algorithm&gt;\n#include &lt;ctime&gt;\n#include &lt;iostream&gt;\n\nint main()\n{\n    // Generate data\n    const unsigned arraySize = 32768;\n    int data[arraySize];\n\n    for (unsigned c = 0; c &lt; arraySize; ++c)\n        data[c] = std::rand() % 256;\n\n    // !!! With this, the next loop runs faster.\n    std::sort(data, data + arraySize);\n\n    // Test\n    clock_t start = clock();\n    long long sum = 0;\n    for (unsigned i = 0; i &lt; 100000; ++i)\n    {\n        for (unsigned c = 0; c &lt; arraySize; ++c)\n        {   // Primary loop.\n            if (data[c] &gt;= 128)\n                sum += data[c];\n        }\n    }\n\n    double elapsedTime = static_cast&lt;double&gt;(clock()-start) / CLOCKS_PER_SEC;\n\n    std::cout &lt;&lt; elapsedTime &lt;&lt; '\\n';\n    std::cout &lt;&lt; &quot;sum = &quot; &lt;&lt; sum &lt;&lt; '\\n';\n}\n</code></pre>\n<ul>\n<li>Without <code>std::sort(data, data + arraySize);</code>, the code runs in 11.54 seconds.</li>\n<li>With the sorted data, the code runs in 1.93 seconds.</li>\n</ul>\n<p>(Sorting itself takes more time than this one pass over the array, so it's not actually worth doing if we needed to calculate this for an unknown array.)</p>\n<hr />\n<p>Initially, I thought this might be just a language or compiler anomaly, so I tried Java:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Arrays;\nimport java.util.Random;\n\npublic class Main\n{\n    public static void main(String[] args)\n    {\n        // Generate data\n        int arraySize = 32768;\n        int data[] = new int[arraySize];\n\n        Random rnd = new Random(0);\n        for (int c = 0; c &lt; arraySize; ++c)\n            data[c] = rnd.nextInt() % 256;\n\n        // !!! With this, the next loop runs faster\n        Arrays.sort(data);\n\n        // Test\n        long start = System.nanoTime();\n        long sum = 0;\n        for (int i = 0; i &lt; 100000; ++i)\n        {\n            for (int c = 0; c &lt; arraySize; ++c)\n            {   // Primary loop.\n                if (data[c] &gt;= 128)\n                    sum += data[c];\n            }\n        }\n\n        System.out.println((System.nanoTime() - start) / 1000000000.0);\n        System.out.println(&quot;sum = &quot; + sum);\n    }\n}\n</code></pre>\n<p>With a similar but less extreme result.</p>\n<hr />\n<p>My first thought was that sorting brings the data into the <a href=\"https://en.wikipedia.org/wiki/CPU_cache\" rel=\"noreferrer\">cache</a>, but that's silly because the array was just generated.</p>\n<ul>\n<li>What is going on?</li>\n<li>Why is processing a sorted array faster than processing an unsorted array?</li>\n</ul>\n<p>The code is summing up some independent terms, so the order should not matter.</p>\n<hr />\n<h2>Related / follow-up Q&amp;As with more modern C++ compilers</h2>\n<ul>\n<li><a href=\"https://stackoverflow.com/q/66521344\">Why is processing an unsorted array the same speed as processing a sorted array with modern x86-64 clang?</a> - <strong>modern C++ compilers auto-vectorize the loop</strong>, especially when SSE4.1 or AVX2 is available.  This avoids any data-dependent branching so performance isn't data-dependent.</li>\n<li><a href=\"https://stackoverflow.com/q/28875325\">gcc optimization flag -O3 makes code slower than -O2</a> - branchless scalar with <code>cmov</code> can result in a longer dependency chain (especially when GCC chooses poorly), creating a latency bottleneck that makes it slower than branchy asm for the sorted case.</li>\n</ul>", "language": "java", "question_id": 11227809, "title": "Why is processing a sorted array faster than processing an unsorted array?", "segments": [{"type": "CODE", "text": "#include <algorithm>\n#include <ctime>\n#include <iostream>\n\nint main()\n{\n    // Generate data\n    const unsigned arraySize = 32768;\n    int data[arraySize];\n\n    for (unsigned c = 0; c < arraySize; ++c)\n        data[c] = std::rand() % 256;\n\n    // !!! With this, the next loop runs faster.\n    std::sort(data, data + arraySize);\n\n    // Test\n    clock_t start = clock();\n    long long sum = 0;\n    for (unsigned i = 0; i < 100000; ++i)\n    {\n        for (unsigned c = 0; c < arraySize; ++c)\n        {   // Primary loop.\n            if (data[c] >= 128)\n                sum += data[c];\n        }\n    }\n\n    double elapsedTime = static_cast<double>(clock()-start) / CLOCKS_PER_SEC;\n\n    std::cout << elapsedTime << '\\n';\n    std::cout << \"sum = \" << sum << '\\n';\n}"}, {"type": "CODE", "text": "std::sort(data, data + arraySize);"}, {"type": "CODE", "text": "import java.util.Arrays;\nimport java.util.Random;\n\npublic class Main\n{\n    public static void main(String[] args)\n    {\n        // Generate data\n        int arraySize = 32768;\n        int data[] = new int[arraySize];\n\n        Random rnd = new Random(0);\n        for (int c = 0; c < arraySize; ++c)\n            data[c] = rnd.nextInt() % 256;\n\n        // !!! With this, the next loop runs faster\n        Arrays.sort(data);\n\n        // Test\n        long start = System.nanoTime();\n        long sum = 0;\n        for (int i = 0; i < 100000; ++i)\n        {\n            for (int c = 0; c < arraySize; ++c)\n            {   // Primary loop.\n                if (data[c] >= 128)\n                    sum += data[c];\n            }\n        }\n\n        System.out.println((System.nanoTime() - start) / 1000000000.0);\n        System.out.println(\"sum = \" + sum);\n    }\n}"}, {"type": "TEXT", "text": "In this C++ code, sorting the data ("}, {"type": "TEXT", "text": "before"}, {"type": "TEXT", "text": "the timed region) makes the primary loop ~6x faster:"}, {"type": "TEXT", "text": "Without"}, {"type": "TEXT", "text": ", the code runs in 11.54 seconds."}, {"type": "TEXT", "text": "With the sorted data, the code runs in 1.93 seconds."}, {"type": "TEXT", "text": "(Sorting itself takes more time than this one pass over the array, so it's not actually worth doing if we needed to calculate this for an unknown array.)"}, {"type": "TEXT", "text": "Initially, I thought this might be just a language or compiler anomaly, so I tried Java:"}, {"type": "TEXT", "text": "With a similar but less extreme result."}, {"type": "TEXT", "text": "My first thought was that sorting brings the data into the"}, {"type": "TEXT", "text": "cache"}, {"type": "TEXT", "text": ", but that's silly because the array was just generated."}, {"type": "TEXT", "text": "What is going on?"}, {"type": "TEXT", "text": "Why is processing a sorted array faster than processing an unsorted array?"}, {"type": "TEXT", "text": "The code is summing up some independent terms, so the order should not matter."}, {"type": "TEXT", "text": "Related / follow-up Q&As with more modern C++ compilers"}, {"type": "TEXT", "text": "Why is processing an unsorted array the same speed as processing a sorted array with modern x86-64 clang?"}, {"type": "TEXT", "text": "modern C++ compilers auto-vectorize the loop"}, {"type": "TEXT", "text": ", especially when SSE4.1 or AVX2 is available.  This avoids any data-dependent branching so performance isn't data-dependent."}, {"type": "TEXT", "text": "gcc optimization flag -O3 makes code slower than -O2"}, {"type": "TEXT", "text": "- branchless scalar with"}, {"type": "TEXT", "text": "cmov"}, {"type": "TEXT", "text": "can result in a longer dependency chain (especially when GCC chooses poorly), creating a latency bottleneck that makes it slower than branchy asm for the sorted case."}]}
{"raw_content": "<p>I always thought Java uses <strong>pass-by-reference</strong>. However, I read <a href=\"http://javadude.com/articles/passbyvalue.htm\" rel=\"noreferrer\">a blog post</a> which claims that Java uses <strong>pass-by-value</strong>. I don't think I understand the distinction the author is making.</p>\n<p>What is the explanation?</p>", "language": "java", "question_id": 40480, "title": "Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?", "segments": [{"type": "TEXT", "text": "I always thought Java uses"}, {"type": "TEXT", "text": "pass-by-reference"}, {"type": "TEXT", "text": ". However, I read"}, {"type": "TEXT", "text": "a blog post"}, {"type": "TEXT", "text": "which claims that Java uses"}, {"type": "TEXT", "text": "pass-by-value"}, {"type": "TEXT", "text": ". I don't think I understand the distinction the author is making."}, {"type": "TEXT", "text": "What is the explanation?"}]}
{"raw_content": "<p>If I run the following program, which parses two date strings referencing times 1 second apart and compares them:</p>\n<pre><code>public static void main(String[] args) throws ParseException {\n    SimpleDateFormat sf = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);  \n    String str3 = &quot;1927-12-31 23:54:07&quot;;  \n    String str4 = &quot;1927-12-31 23:54:08&quot;;  \n    Date sDt3 = sf.parse(str3);  \n    Date sDt4 = sf.parse(str4);  \n    long ld3 = sDt3.getTime() /1000;  \n    long ld4 = sDt4.getTime() /1000;\n    System.out.println(ld4-ld3);\n}\n</code></pre>\n<p><strong>The output is:</strong></p>\n<pre><code>353\n</code></pre>\n<p>Why is <code>ld4-ld3</code>, not <code>1</code> (as I would expect from the one-second difference in the times), but <code>353</code>?</p>\n<p>If I change the dates to times 1 second later:</p>\n<pre><code>String str3 = &quot;1927-12-31 23:54:08&quot;;  \nString str4 = &quot;1927-12-31 23:54:09&quot;;  \n</code></pre>\n<p>Then <code>ld4-ld3</code> will be <code>1</code>.</p>\n<hr />\n<p><strong>Java version:</strong></p>\n<pre class=\"lang-none prettyprint-override\"><code>java version &quot;1.6.0_22&quot;\nJava(TM) SE Runtime Environment (build 1.6.0_22-b04)\nDynamic Code Evolution Client VM (build 0.2-b02-internal, 19.0-b04-internal, mixed mode)\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>Timezone(`TimeZone.getDefault()`):\n\nsun.util.calendar.ZoneInfo[id=&quot;Asia/Shanghai&quot;,\noffset=28800000,dstSavings=0,\nuseDaylight=false,\ntransitions=19,\nlastRule=null]\n\nLocale(Locale.getDefault()): zh_CN\n</code></pre>", "language": "java", "question_id": 6841333, "title": "Why is subtracting these two epoch-milli Times (in year 1927) giving a strange result?", "segments": [{"type": "CODE", "text": "public static void main(String[] args) throws ParseException {\n    SimpleDateFormat sf = new SimpleDateFormat(\"yyyy-MM-dd HH:mm:ss\");  \n    String str3 = \"1927-12-31 23:54:07\";  \n    String str4 = \"1927-12-31 23:54:08\";  \n    Date sDt3 = sf.parse(str3);  \n    Date sDt4 = sf.parse(str4);  \n    long ld3 = sDt3.getTime() /1000;  \n    long ld4 = sDt4.getTime() /1000;\n    System.out.println(ld4-ld3);\n}"}, {"type": "CODE", "text": "String str3 = \"1927-12-31 23:54:08\";  \nString str4 = \"1927-12-31 23:54:09\";"}, {"type": "CODE", "text": "java version \"1.6.0_22\"\nJava(TM) SE Runtime Environment (build 1.6.0_22-b04)\nDynamic Code Evolution Client VM (build 0.2-b02-internal, 19.0-b04-internal, mixed mode)"}, {"type": "CODE", "text": "Timezone(`TimeZone.getDefault()`):\n\nsun.util.calendar.ZoneInfo[id=\"Asia/Shanghai\",\noffset=28800000,dstSavings=0,\nuseDaylight=false,\ntransitions=19,\nlastRule=null]\n\nLocale(Locale.getDefault()): zh_CN"}, {"type": "TEXT", "text": "If I run the following program, which parses two date strings referencing times 1 second apart and compares them:"}, {"type": "TEXT", "text": "The output is:"}, {"type": "TEXT", "text": "353"}, {"type": "TEXT", "text": "Why is"}, {"type": "TEXT", "text": ", not"}, {"type": "TEXT", "text": "(as I would expect from the one-second difference in the times), but"}, {"type": "TEXT", "text": "353"}, {"type": "TEXT", "text": "?"}, {"type": "TEXT", "text": "If I change the dates to times 1 second later:"}, {"type": "TEXT", "text": "Then"}, {"type": "TEXT", "text": "will be"}, {"type": "TEXT", "text": "Java version:"}]}
{"raw_content": "<p>If you have a <code>java.io.InputStream</code> object, how should you process that object and produce a <code>String</code>?</p>\n<hr />\n<p>Suppose I have an <code>InputStream</code> that contains text data, and I want to convert it to a <code>String</code>, so for example I can write that to a log file.</p>\n<p>What is the easiest way to take the <code>InputStream</code> and convert it to a <code>String</code>?</p>\n<pre><code>public String convertStreamToString(InputStream is) {\n// ???\n}\n</code></pre>", "language": "java", "question_id": 309424, "title": "How do I read / convert an InputStream into a String in Java?", "segments": [{"type": "CODE", "text": "public String convertStreamToString(InputStream is) {\n// ???\n}"}, {"type": "TEXT", "text": "If you have a"}, {"type": "TEXT", "text": "java.io.InputStream"}, {"type": "TEXT", "text": "object, how should you process that object and produce a"}, {"type": "TEXT", "text": "Suppose I have an"}, {"type": "TEXT", "text": "that contains text data, and I want to convert it to a"}, {"type": "TEXT", "text": ", so for example I can write that to a log file."}, {"type": "TEXT", "text": "What is the easiest way to take the"}, {"type": "TEXT", "text": "and convert it to a"}]}
{"raw_content": "<p>I use <code>x != null</code> to avoid <a href=\"https://docs.oracle.com/javase/9/docs/api/java/lang/NullPointerException.html\" rel=\"noreferrer\"><code>NullPointerException</code></a>. Is there an alternative?</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (x != null) {\n    // ...\n}\n</code></pre>", "language": "java", "question_id": 271526, "title": "How do I avoid checking for nulls in Java?", "segments": [{"type": "CODE", "text": "x != null"}, {"type": "CODE", "text": "if (x != null) {\n    // ...\n}"}, {"type": "TEXT", "text": "I use"}, {"type": "TEXT", "text": "to avoid"}, {"type": "TEXT", "text": "NullPointerException"}, {"type": "TEXT", "text": ". Is there an alternative?"}]}
{"raw_content": "<p>What are the differences between a <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/HashMap.html\" rel=\"noreferrer\"><code>HashMap</code></a> and a <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Hashtable.html\" rel=\"noreferrer\"><code>Hashtable</code></a> in Java?</p>\n\n<p>Which is more efficient for non-threaded applications?</p>", "language": "java", "question_id": 40471, "title": "What are the differences between a HashMap and a Hashtable in Java?", "segments": [{"type": "TEXT", "text": "What are the differences between a"}, {"type": "TEXT", "text": "HashMap"}, {"type": "TEXT", "text": "and a"}, {"type": "TEXT", "text": "Hashtable"}, {"type": "TEXT", "text": "in Java?"}, {"type": "TEXT", "text": "Which is more efficient for non-threaded applications?"}]}
{"raw_content": "<p>How do I generate a random <code>int</code> value in a specific range?</p>\n<p>The following methods have bugs related to integer overflow:</p>\n<pre class=\"lang-java prettyprint-override\"><code>randomNum = minimum + (int)(Math.random() * maximum);\n// Bug: `randomNum` can be bigger than `maximum`.\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>Random rn = new Random();\nint n = maximum - minimum + 1;\nint i = rn.nextInt() % n;\nrandomNum =  minimum + i;\n// Bug: `randomNum` can be smaller than `minimum`.\n</code></pre>", "language": "java", "question_id": 363681, "title": "How do I generate random integers within a specific range in Java?", "segments": [{"type": "CODE", "text": "randomNum = minimum + (int)(Math.random() * maximum);\n// Bug: `randomNum` can be bigger than `maximum`."}, {"type": "CODE", "text": "Random rn = new Random();\nint n = maximum - minimum + 1;\nint i = rn.nextInt() % n;\nrandomNum =  minimum + i;\n// Bug: `randomNum` can be smaller than `minimum`."}, {"type": "TEXT", "text": "How do I generate a random"}, {"type": "TEXT", "text": "value in a specific range?"}, {"type": "TEXT", "text": "The following methods have bugs related to integer overflow:"}]}
{"raw_content": "<pre class=\"lang-java prettyprint-override\"><code>Element[] array = {new Element(1), new Element(2), new Element(3)};\n</code></pre>\n<p>How do I convert the above variable of type <code>Element[]</code> into a variable of type <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/ArrayList.html\" rel=\"noreferrer\"><code>ArrayList&lt;Element&gt;</code></a>?</p>\n<pre class=\"lang-java prettyprint-override\"><code>ArrayList&lt;Element&gt; arrayList = ...;\n</code></pre>", "language": "java", "question_id": 157944, "title": "Create ArrayList from array", "segments": [{"type": "CODE", "text": "Element[] array = {new Element(1), new Element(2), new Element(3)};"}, {"type": "CODE", "text": "ArrayList<Element> arrayList = ...;"}, {"type": "TEXT", "text": "How do I convert the above variable of type"}, {"type": "TEXT", "text": "into a variable of type"}, {"type": "TEXT", "text": "?"}]}
{"raw_content": "<p>I was looking at the new APIs introduced in <a href=\"http://en.wikipedia.org/wiki/Android_version_history#Android_4.1.2F4.2_Jelly_Bean\" rel=\"noreferrer\">Android 4.2</a>.\nWhile looking at the <a href=\"http://developer.android.com/reference/android/os/UserManager.html\" rel=\"noreferrer\"><code>UserManager</code></a> class I came across the following method:</p>\n\n<blockquote>\n<pre><code>public boolean isUserAGoat()\n</code></pre>\n  \n  <p>Used to determine whether the user making this call is subject to teleportations.</p>\n  \n  <p>Returns whether the user making this call is a goat.</p>\n</blockquote>\n\n<p>How and when should this be used?</p>", "language": "java", "question_id": 13375357, "title": "Proper use cases for Android UserManager.isUserAGoat()?", "segments": [{"type": "CODE", "text": "public boolean isUserAGoat()"}, {"type": "TEXT", "text": "I was looking at the new APIs introduced in"}, {"type": "TEXT", "text": "Android 4.2"}, {"type": "TEXT", "text": ".\nWhile looking at the"}, {"type": "TEXT", "text": "UserManager"}, {"type": "TEXT", "text": "class I came across the following method:"}, {"type": "TEXT", "text": "Used to determine whether the user making this call is subject to teleportations."}, {"type": "TEXT", "text": "Returns whether the user making this call is a goat."}, {"type": "TEXT", "text": "How and when should this be used?"}]}
{"raw_content": "<p>If I have an object implementing the <code>Map</code> interface in Java and I wish to iterate over every pair contained within it,  what is the most efficient way of going through the map?</p>\n\n<p>Will the ordering of elements depend on the specific map implementation that I have for the interface?</p>", "language": "java", "question_id": 46898, "title": "How do I efficiently iterate over each entry in a Java Map?", "segments": [{"type": "TEXT", "text": "If I have an object implementing the"}, {"type": "TEXT", "text": "Map"}, {"type": "TEXT", "text": "interface in Java and I wish to iterate over every pair contained within it,  what is the most efficient way of going through the map?"}, {"type": "TEXT", "text": "Will the ordering of elements depend on the specific map implementation that I have for the interface?"}]}
{"raw_content": "<p>In Swing, the password field has a <code>getPassword()</code> (returns <code>char[]</code>) method instead of the usual <code>getText()</code> (returns <code>String</code>) method. Similarly, I have come across a suggestion not to use <code>String</code> to handle passwords.</p>\n\n<p>Why does <code>String</code> pose a threat to security when it comes to passwords?\nIt feels inconvenient to use <code>char[]</code>.</p>", "language": "java", "question_id": 8881291, "title": "Why is char[] preferred over String for passwords?", "segments": [{"type": "TEXT", "text": "In Swing, the password field has a"}, {"type": "TEXT", "text": "getPassword()"}, {"type": "TEXT", "text": "(returns"}, {"type": "TEXT", "text": "char[]"}, {"type": "TEXT", "text": ") method instead of the usual"}, {"type": "TEXT", "text": "getText()"}, {"type": "TEXT", "text": "(returns"}, {"type": "TEXT", "text": "String"}, {"type": "TEXT", "text": ") method. Similarly, I have come across a suggestion not to use"}, {"type": "TEXT", "text": "String"}, {"type": "TEXT", "text": "to handle passwords."}, {"type": "TEXT", "text": "Why does"}, {"type": "TEXT", "text": "String"}, {"type": "TEXT", "text": "pose a threat to security when it comes to passwords?\nIt feels inconvenient to use"}, {"type": "TEXT", "text": "char[]"}, {"type": "TEXT", "text": "."}]}
{"raw_content": "<p>Until today, I thought that for example:</p>\n\n<pre><code>i += j;\n</code></pre>\n\n<p>Was just a shortcut for:</p>\n\n<pre><code>i = i + j;\n</code></pre>\n\n<p>But if we try this:</p>\n\n<pre><code>int i = 5;\nlong j = 8;\n</code></pre>\n\n<p>Then <code>i = i + j;</code> will not compile but <code>i += j;</code> will compile fine.</p>\n\n<p>Does it mean that in fact <code>i += j;</code> is a shortcut for something like this\n<code>i = (type of i) (i + j)</code>?</p>", "language": "java", "question_id": 8710619, "title": "Why don&#39;t Java&#39;s +=, -=, *=, /= compound assignment operators require casting?", "segments": [{"type": "CODE", "text": "i += j;"}, {"type": "CODE", "text": "i = i + j;"}, {"type": "CODE", "text": "int i = 5;\nlong j = 8;"}, {"type": "CODE", "text": "i = (type of i) (i + j)"}, {"type": "TEXT", "text": "Until today, I thought that for example:"}, {"type": "TEXT", "text": "Was just a shortcut for:"}, {"type": "TEXT", "text": "But if we try this:"}, {"type": "TEXT", "text": "Then"}, {"type": "TEXT", "text": "will not compile but"}, {"type": "TEXT", "text": "will compile fine."}, {"type": "TEXT", "text": "Does it mean that in fact"}, {"type": "TEXT", "text": "is a shortcut for something like this"}, {"type": "TEXT", "text": "?"}]}
{"raw_content": "<p>What's the best way to iterate over the items in a <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/HashMap.html\" rel=\"noreferrer\"><code>HashMap</code></a>?</p>", "language": "java", "question_id": 1066589, "title": "Iterate through a HashMap", "segments": [{"type": "TEXT", "text": "What's the best way to iterate over the items in a"}, {"type": "TEXT", "text": "HashMap"}, {"type": "TEXT", "text": "?"}]}
{"raw_content": "<p>I just had an interview where I was asked to create a <em><strong>memory leak</strong></em> with Java.</p>\n<p>Needless to say, I felt pretty dumb, having no idea how to start creating one.</p>\n<p>What would an example be?</p>", "language": "java", "question_id": 6470651, "title": "How can I create a memory leak in Java?", "segments": [{"type": "TEXT", "text": "I just had an interview where I was asked to create a"}, {"type": "TEXT", "text": "memory leak"}, {"type": "TEXT", "text": "with Java."}, {"type": "TEXT", "text": "Needless to say, I felt pretty dumb, having no idea how to start creating one."}, {"type": "TEXT", "text": "What would an example be?"}]}
{"raw_content": "<p>In Java, are there clear rules on when to use each of access modifiers, namely the default (package private), <code>public</code>, <code>protected</code> and <code>private</code>, while making <code>class</code> and <code>interface</code> and dealing with inheritance?</p>", "language": "java", "question_id": 215497, "title": "What is the difference between public, protected, package-private and private in Java?", "segments": [{"type": "TEXT", "text": "In Java, are there clear rules on when to use each of access modifiers, namely the default (package private),"}, {"type": "TEXT", "text": "public"}, {"type": "TEXT", "text": ","}, {"type": "TEXT", "text": "protected"}, {"type": "TEXT", "text": "and"}, {"type": "TEXT", "text": "private"}, {"type": "TEXT", "text": ", while making"}, {"type": "TEXT", "text": "class"}, {"type": "TEXT", "text": "and"}, {"type": "TEXT", "text": "interface"}, {"type": "TEXT", "text": "and dealing with inheritance?"}]}
{"raw_content": "<p>I've always been one to simply use:</p>\n<pre><code>List&lt;String&gt; names = new ArrayList&lt;&gt;();\n</code></pre>\n<p>I use the interface as the type name for <em>portability</em>, so that when I ask questions such as this, I can rework my code.</p>\n<p>When should <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/LinkedList.html\" rel=\"noreferrer\"><code>LinkedList</code></a> be used over <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/ArrayList.html\" rel=\"noreferrer\"><code>ArrayList</code></a> and vice-versa?</p>", "language": "java", "question_id": 322715, "title": "When to use LinkedList over ArrayList in Java?", "segments": [{"type": "CODE", "text": "List<String> names = new ArrayList<>();"}, {"type": "TEXT", "text": "I've always been one to simply use:"}, {"type": "TEXT", "text": "I use the interface as the type name for"}, {"type": "TEXT", "text": "portability"}, {"type": "TEXT", "text": ", so that when I ask questions such as this, I can rework my code."}, {"type": "TEXT", "text": "When should"}, {"type": "TEXT", "text": "LinkedList"}, {"type": "TEXT", "text": "be used over"}, {"type": "TEXT", "text": "and vice-versa?"}]}
{"raw_content": "<p>How can I convert a <code>String</code> value to an <code>int</code> type?</p>\n<pre class=\"lang-java prettyprint-override\"><code>&quot;1234&quot;    1234\n</code></pre>", "language": "java", "question_id": 5585779, "title": "How do I convert a String to an int in Java?", "segments": [{"type": "CODE", "text": "\"1234\"    1234"}, {"type": "TEXT", "text": "How can I convert a"}, {"type": "TEXT", "text": "String"}, {"type": "TEXT", "text": "value to an"}, {"type": "TEXT", "text": "int"}, {"type": "TEXT", "text": "type?"}]}
{"raw_content": "<p>Eclipse issues warnings when a <code>serialVersionUID</code> is missing.  </p>\n\n<blockquote>\n  <p>The serializable class Foo does not declare a static final\n  serialVersionUID field of type long</p>\n</blockquote>\n\n<p>What is <code>serialVersionUID</code> and why is it important?  Please show an example where missing <code>serialVersionUID</code> will cause a problem.</p>", "language": "java", "question_id": 285793, "title": "What is a serialVersionUID and why should I use it?", "segments": [{"type": "TEXT", "text": "Eclipse issues warnings when a"}, {"type": "TEXT", "text": "serialVersionUID"}, {"type": "TEXT", "text": "is missing."}, {"type": "TEXT", "text": "The serializable class Foo does not declare a static final\n  serialVersionUID field of type long"}, {"type": "TEXT", "text": "What is"}, {"type": "TEXT", "text": "serialVersionUID"}, {"type": "TEXT", "text": "and why is it important?  Please show an example where missing"}, {"type": "TEXT", "text": "serialVersionUID"}, {"type": "TEXT", "text": "will cause a problem."}]}
{"raw_content": "<p>I wanted to create a list of options for testing purposes. At first, I did this:</p>\n\n<pre><code>ArrayList&lt;String&gt; places = new ArrayList&lt;String&gt;();\nplaces.add(\"Buenos Aires\");\nplaces.add(\"Crdoba\");\nplaces.add(\"La Plata\");\n</code></pre>\n\n<p>Then, I refactored the code as follows:</p>\n\n<pre><code>ArrayList&lt;String&gt; places = new ArrayList&lt;String&gt;(\n    Arrays.asList(\"Buenos Aires\", \"Crdoba\", \"La Plata\"));\n</code></pre>\n\n<p>Is there a better way to do this?</p>", "language": "java", "question_id": 1005073, "title": "Initialization of an ArrayList in one line", "segments": [{"type": "CODE", "text": "ArrayList<String> places = new ArrayList<String>();\nplaces.add(\"Buenos Aires\");\nplaces.add(\"Crdoba\");\nplaces.add(\"La Plata\");"}, {"type": "CODE", "text": "ArrayList<String> places = new ArrayList<String>(\n    Arrays.asList(\"Buenos Aires\", \"Crdoba\", \"La Plata\"));"}, {"type": "TEXT", "text": "I wanted to create a list of options for testing purposes. At first, I did this:"}, {"type": "TEXT", "text": "Then, I refactored the code as follows:"}, {"type": "TEXT", "text": "Is there a better way to do this?"}]}
{"raw_content": "<p>How do I use JUnit to test a class that has internal private methods, fields or nested classes?</p>\n<p>It seems bad to change the access modifier for a method just to be able to run a test.</p>", "language": "java", "question_id": 34571, "title": "How do I test a class that has private methods, fields or inner classes?", "segments": [{"type": "TEXT", "text": "How do I use JUnit to test a class that has internal private methods, fields or nested classes?"}, {"type": "TEXT", "text": "It seems bad to change the access modifier for a method just to be able to run a test."}]}
{"raw_content": "<p>I generated two matrices of <code>1000</code> x <code>1000</code>:</p>\n<p>First Matrix: <code>O</code> and <code>#</code>.<br />\nSecond Matrix: <code>O</code> and <code>B</code>.</p>\n<p>Using the following code, the first matrix took 8.52 seconds to complete:</p>\n<pre><code>Random r = new Random();\nfor (int i = 0; i &lt; 1000; i++) {\n    for (int j = 0; j &lt; 1000; j++) {\n        if (r.nextInt(4) == 0) {\n            System.out.print(&quot;O&quot;);\n        } else {\n            System.out.print(&quot;#&quot;);\n        }\n    }\n            \n   System.out.println(&quot;&quot;);\n }\n</code></pre>\n<p>With this code, the second matrix took 259.152 seconds to complete:</p>\n<pre><code>Random r = new Random();\nfor (int i = 0; i &lt; 1000; i++) {\n    for (int j = 0; j &lt; 1000; j++) {\n        if (r.nextInt(4) == 0) {\n            System.out.print(&quot;O&quot;);\n        } else {\n            System.out.print(&quot;B&quot;); // only line changed\n        }\n    }\n                \n    System.out.println(&quot;&quot;);\n}\n</code></pre>\n<p>What is the reason behind the dramatically different run times?</p>\n<hr />\n<p>As suggested in the comments, printing only <code>System.out.print(&quot;#&quot;);</code> takes <code>7.8871</code> seconds, whereas <code>System.out.print(&quot;B&quot;);</code> gives <code>still printing...</code>.</p>\n<p>As others pointed out that it works for them normally, I tried <a href=\"http://ideone.com\" rel=\"noreferrer\">Ideone.com</a> for instance, and both pieces of code execute at the same speed.</p>\n<p>Test Conditions:</p>\n<ul>\n<li>I ran this test from <em>Netbeans 7.2</em>, with the output into its console</li>\n<li>I used <code>System.nanoTime()</code> for measurements</li>\n</ul>", "language": "java", "question_id": 21947452, "title": "Why is printing &quot;B&quot; dramatically slower than printing &quot;#&quot;?", "segments": [{"type": "CODE", "text": "Random r = new Random();\nfor (int i = 0; i < 1000; i++) {\n    for (int j = 0; j < 1000; j++) {\n        if (r.nextInt(4) == 0) {\n            System.out.print(\"O\");\n        } else {\n            System.out.print(\"#\");\n        }\n    }\n            \n   System.out.println(\"\");\n }"}, {"type": "CODE", "text": "Random r = new Random();\nfor (int i = 0; i < 1000; i++) {\n    for (int j = 0; j < 1000; j++) {\n        if (r.nextInt(4) == 0) {\n            System.out.print(\"O\");\n        } else {\n            System.out.print(\"B\"); // only line changed\n        }\n    }\n                \n    System.out.println(\"\");\n}"}, {"type": "CODE", "text": "still printing..."}, {"type": "TEXT", "text": "I generated two matrices of"}, {"type": "TEXT", "text": ":"}, {"type": "TEXT", "text": "First Matrix:"}, {"type": "TEXT", "text": "Second Matrix:"}, {"type": "TEXT", "text": "Using the following code, the first matrix took 8.52 seconds to complete:"}, {"type": "TEXT", "text": "With this code, the second matrix took 259.152 seconds to complete:"}, {"type": "TEXT", "text": "What is the reason behind the dramatically different run times?"}, {"type": "TEXT", "text": "As suggested in the comments, printing only"}, {"type": "TEXT", "text": "takes"}, {"type": "TEXT", "text": "7.8871"}, {"type": "TEXT", "text": "seconds, whereas"}, {"type": "TEXT", "text": "gives"}, {"type": "TEXT", "text": "As others pointed out that it works for them normally, I tried"}, {"type": "TEXT", "text": "Ideone.com"}, {"type": "TEXT", "text": "for instance, and both pieces of code execute at the same speed."}, {"type": "TEXT", "text": "Test Conditions:"}, {"type": "TEXT", "text": "I ran this test from"}, {"type": "TEXT", "text": "Netbeans 7.2"}, {"type": "TEXT", "text": ", with the output into its console"}, {"type": "TEXT", "text": "I used"}, {"type": "TEXT", "text": "System.nanoTime()"}, {"type": "TEXT", "text": "for measurements"}]}
{"raw_content": "<p>I want to package my project in a single executable JAR for distribution.</p>\n\n<p>How can I make a Maven project package all dependency JARs into my output JAR?</p>", "language": "java", "question_id": 574594, "title": "How can I create an executable/runnable JAR with dependencies using Maven?", "segments": [{"type": "TEXT", "text": "I want to package my project in a single executable JAR for distribution."}, {"type": "TEXT", "text": "How can I make a Maven project package all dependency JARs into my output JAR?"}]}
{"raw_content": "<p>I have a <code>String[]</code> with values like so:</p>\n\n<pre><code>public static final String[] VALUES = new String[] {\"AB\",\"BC\",\"CD\",\"AE\"};\n</code></pre>\n\n<p>Given <code>String s</code>, is there a good way of testing whether <code>VALUES</code> contains <code>s</code>?</p>", "language": "java", "question_id": 1128723, "title": "How do I determine whether an array contains a particular value in Java?", "segments": [{"type": "CODE", "text": "public static final String[] VALUES = new String[] {\"AB\",\"BC\",\"CD\",\"AE\"};"}, {"type": "CODE", "text": "String s"}, {"type": "TEXT", "text": "I have a"}, {"type": "TEXT", "text": "with values like so:"}, {"type": "TEXT", "text": "Given"}, {"type": "TEXT", "text": ", is there a good way of testing whether"}, {"type": "TEXT", "text": "contains"}, {"type": "TEXT", "text": "?"}]}
{"raw_content": "<p>I got an error while running my Android project for RssReader. </p>\n\n<p>Code:</p>\n\n<pre><code>URL url = new URL(urlToRssFeed);\nSAXParserFactory factory = SAXParserFactory.newInstance();\nSAXParser parser = factory.newSAXParser();\nXMLReader xmlreader = parser.getXMLReader();\nRssHandler theRSSHandler = new RssHandler();\nxmlreader.setContentHandler(theRSSHandler);\nInputSource is = new InputSource(url.openStream());\nxmlreader.parse(is);\nreturn theRSSHandler.getFeed();\n</code></pre>\n\n<p>And it shows the below error:</p>\n\n<pre><code>android.os.NetworkOnMainThreadException\n</code></pre>\n\n<p>How can I fix this issue?</p>", "language": "java", "question_id": 6343166, "title": "How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?", "segments": [{"type": "CODE", "text": "URL url = new URL(urlToRssFeed);\nSAXParserFactory factory = SAXParserFactory.newInstance();\nSAXParser parser = factory.newSAXParser();\nXMLReader xmlreader = parser.getXMLReader();\nRssHandler theRSSHandler = new RssHandler();\nxmlreader.setContentHandler(theRSSHandler);\nInputSource is = new InputSource(url.openStream());\nxmlreader.parse(is);\nreturn theRSSHandler.getFeed();"}, {"type": "TEXT", "text": "I got an error while running my Android project for RssReader."}, {"type": "TEXT", "text": "Code:"}, {"type": "TEXT", "text": "And it shows the below error:"}, {"type": "TEXT", "text": "android.os.NetworkOnMainThreadException"}, {"type": "TEXT", "text": "How can I fix this issue?"}]}
{"raw_content": "<p>Considering this code, can I be <em>absolutely sure</em> that the <code>finally</code> block always executes, no matter what <code>something()</code> is?</p>\n\n<pre><code>try {  \n    something();  \n    return success;  \n}  \ncatch (Exception e) {   \n    return failure;  \n}  \nfinally {  \n    System.out.println(\"I don't know if this will get printed out\");\n}\n</code></pre>", "language": "java", "question_id": 65035, "title": "Does a finally block always get executed in Java?", "segments": [{"type": "CODE", "text": "try {  \n    something();  \n    return success;  \n}  \ncatch (Exception e) {   \n    return failure;  \n}  \nfinally {  \n    System.out.println(\"I don't know if this will get printed out\");\n}"}, {"type": "TEXT", "text": "Considering this code, can I be"}, {"type": "TEXT", "text": "absolutely sure"}, {"type": "TEXT", "text": "that the"}, {"type": "TEXT", "text": "block always executes, no matter what"}, {"type": "TEXT", "text": "is?"}]}
{"raw_content": "<p>Is it possible to call a constructor from another (within the same class, not from a subclass)? If yes how? And what could be the best way to call another constructor (if there are several ways to do it)?</p>", "language": "java", "question_id": 285177, "title": "How do I call one constructor from another in Java?", "segments": [{"type": "TEXT", "text": "Is it possible to call a constructor from another (within the same class, not from a subclass)? If yes how? And what could be the best way to call another constructor (if there are several ways to do it)?"}]}
{"raw_content": "<p>Can <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/stereotype/Component.html\" rel=\"noreferrer\"><code>@Component</code></a>, <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/stereotype/Repository.html\" rel=\"noreferrer\"><code>@Repository</code></a>, and <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/stereotype/Service.html\" rel=\"noreferrer\"><code>@Service</code></a> annotations be used interchangeably in Spring or do they provide any particular functionality besides acting as a notation device?</p>\n<p>In other words, if I have a Service class and I change its annotation from <code>@Service</code> to <code>@Component</code>, will it still behave the same way?</p>\n<p>Or does the annotation also influence the behavior and functionality of the class?</p>", "language": "java", "question_id": 6827752, "title": "What&#39;s the difference between @Component, @Repository &amp; @Service annotations in Spring?", "segments": [{"type": "TEXT", "text": "Can"}, {"type": "TEXT", "text": "@Component"}, {"type": "TEXT", "text": ","}, {"type": "TEXT", "text": "@Repository"}, {"type": "TEXT", "text": ", and"}, {"type": "TEXT", "text": "@Service"}, {"type": "TEXT", "text": "annotations be used interchangeably in Spring or do they provide any particular functionality besides acting as a notation device?"}, {"type": "TEXT", "text": "In other words, if I have a Service class and I change its annotation from"}, {"type": "TEXT", "text": "@Service"}, {"type": "TEXT", "text": "to"}, {"type": "TEXT", "text": "@Component"}, {"type": "TEXT", "text": ", will it still behave the same way?"}, {"type": "TEXT", "text": "Or does the annotation also influence the behavior and functionality of the class?"}]}
{"raw_content": "<p>What is reflection, and why is it useful?</p>\n<p>I'm particularly interested in Java, but I assume the principles are the same in any language.</p>", "language": "java", "question_id": 37628, "title": "What is reflection and why is it useful?", "segments": [{"type": "TEXT", "text": "What is reflection, and why is it useful?"}, {"type": "TEXT", "text": "I'm particularly interested in Java, but I assume the principles are the same in any language."}]}
{"raw_content": "<p>How do I declare and initialize an array in Java?</p>", "language": "java", "question_id": 1200621, "title": "How do I declare and initialize an array in Java?", "segments": [{"type": "TEXT", "text": "How do I declare and initialize an array in Java?"}]}
{"raw_content": "<p>In Java, arrays don't override <code>toString()</code>, so if you try to print one directly, you get the <code>className</code> + '@' + the hex of the <a href=\"https://en.wikipedia.org/wiki/Java_hashCode()\" rel=\"noreferrer\"><code>hashCode</code></a> of the array, as defined by <code>Object.toString()</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>int[] intArray = new int[] {1, 2, 3, 4, 5};\nSystem.out.println(intArray); // Prints something like '[I@3343c8b3'\n</code></pre>\n<p>But usually, we'd actually want something more like <code>[1, 2, 3, 4, 5]</code>. What's the simplest way of doing that? Here are some example inputs and outputs:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Array of primitives:\nint[] intArray = new int[] {1, 2, 3, 4, 5};\n// Output: [1, 2, 3, 4, 5]\n\n// Array of object references:\nString[] strArray = new String[] {&quot;John&quot;, &quot;Mary&quot;, &quot;Bob&quot;};\n// Output: [John, Mary, Bob]\n</code></pre>", "language": "java", "question_id": 409784, "title": "What&#39;s the simplest way to print a Java array?", "segments": [{"type": "CODE", "text": "int[] intArray = new int[] {1, 2, 3, 4, 5};\nSystem.out.println(intArray); // Prints something like '[I@3343c8b3'"}, {"type": "CODE", "text": "[1, 2, 3, 4, 5]"}, {"type": "CODE", "text": "// Array of primitives:\nint[] intArray = new int[] {1, 2, 3, 4, 5};\n// Output: [1, 2, 3, 4, 5]\n\n// Array of object references:\nString[] strArray = new String[] {\"John\", \"Mary\", \"Bob\"};\n// Output: [John, Mary, Bob]"}, {"type": "TEXT", "text": "In Java, arrays don't override"}, {"type": "TEXT", "text": "toString()"}, {"type": "TEXT", "text": ", so if you try to print one directly, you get the"}, {"type": "TEXT", "text": "className"}, {"type": "TEXT", "text": "+ '@' + the hex of the"}, {"type": "TEXT", "text": "hashCode"}, {"type": "TEXT", "text": "of the array, as defined by"}, {"type": "TEXT", "text": "Object.toString()"}, {"type": "TEXT", "text": "But usually, we'd actually want something more like"}, {"type": "TEXT", "text": ". What's the simplest way of doing that? Here are some example inputs and outputs:"}]}
{"raw_content": "<p>I understood, I think, that a &quot;Bean&quot; is a Java-class with properties and getters/setters. <br />\nAs much as I understand, it is the equivalent of a C <code>struct</code>. Is that true?</p>\n<p>Also, is there a real <em>syntactic</em> difference between a <code>JavaBean</code> and a regular <code>class</code>? <br />\nIs there any special definition or an <code>Interface</code>?</p>\n<p>Basically, why is there a term for this?</p>\n<p>Also what does the <code>Serializable</code> interface mean?</p>", "language": "java", "question_id": 3295496, "title": "What is a JavaBean exactly?", "segments": [{"type": "TEXT", "text": "I understood, I think, that a \"Bean\" is a Java-class with properties and getters/setters."}, {"type": "TEXT", "text": "As much as I understand, it is the equivalent of a C"}, {"type": "TEXT", "text": "struct"}, {"type": "TEXT", "text": ". Is that true?"}, {"type": "TEXT", "text": "Also, is there a real"}, {"type": "TEXT", "text": "syntactic"}, {"type": "TEXT", "text": "difference between a"}, {"type": "TEXT", "text": "JavaBean"}, {"type": "TEXT", "text": "and a regular"}, {"type": "TEXT", "text": "class"}, {"type": "TEXT", "text": "?"}, {"type": "TEXT", "text": "Is there any special definition or an"}, {"type": "TEXT", "text": "Interface"}, {"type": "TEXT", "text": "?"}, {"type": "TEXT", "text": "Basically, why is there a term for this?"}, {"type": "TEXT", "text": "Also what does the"}, {"type": "TEXT", "text": "Serializable"}, {"type": "TEXT", "text": "interface mean?"}]}
{"raw_content": "<p>Say I have an enum which is just</p>\n<pre><code>public enum Blah {\n    A, B, C, D\n}\n</code></pre>\n<p>and I would like to find the enum value of a string, for example <code>&quot;A&quot;</code> which would be <code>Blah.A</code>. How would it be possible to do this?</p>\n<p>Is the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Enum.html#valueOf(java.lang.Class,java.lang.String)\" rel=\"noreferrer\"><code>Enum.valueOf()</code></a> the method I need? If so, how would I use this?</p>", "language": "java", "question_id": 604424, "title": "How to get an enum value from a string value in Java", "segments": [{"type": "CODE", "text": "public enum Blah {\n    A, B, C, D\n}"}, {"type": "TEXT", "text": "Say I have an enum which is just"}, {"type": "TEXT", "text": "and I would like to find the enum value of a string, for example"}, {"type": "TEXT", "text": "\"A\""}, {"type": "TEXT", "text": "which would be"}, {"type": "TEXT", "text": "Blah.A"}, {"type": "TEXT", "text": ". How would it be possible to do this?"}, {"type": "TEXT", "text": "Is the"}, {"type": "TEXT", "text": "Enum.valueOf()"}, {"type": "TEXT", "text": "the method I need? If so, how would I use this?"}]}
{"raw_content": "<p>From what time I've spent with threads in Java, I've found these two ways to write threads:</p>\n<p>With <strong>implements <code>Runnable</code>:</strong></p>\n<pre><code>public class MyRunnable implements Runnable {\n    public void run() {\n        //Code\n    }\n}\n//Started with a &quot;new Thread(new MyRunnable()).start()&quot; call\n</code></pre>\n<p>Or, with <strong>extends <code>Thread</code>:</strong></p>\n<pre><code>public class MyThread extends Thread {\n    public MyThread() {\n        super(&quot;MyThread&quot;);\n    }\n    public void run() {\n        //Code\n    }\n}\n//Started with a &quot;new MyThread().start()&quot; call\n</code></pre>\n<p>Is there any significant difference in these two blocks of code?</p>", "language": "java", "question_id": 541487, "title": "&quot;implements Runnable&quot; vs &quot;extends Thread&quot; in Java", "segments": [{"type": "CODE", "text": "public class MyRunnable implements Runnable {\n    public void run() {\n        //Code\n    }\n}\n//Started with a \"new Thread(new MyRunnable()).start()\" call"}, {"type": "CODE", "text": "public class MyThread extends Thread {\n    public MyThread() {\n        super(\"MyThread\");\n    }\n    public void run() {\n        //Code\n    }\n}\n//Started with a \"new MyThread().start()\" call"}, {"type": "TEXT", "text": "From what time I've spent with threads in Java, I've found these two ways to write threads:"}, {"type": "TEXT", "text": "With"}, {"type": "TEXT", "text": ":"}, {"type": "TEXT", "text": "Or, with"}, {"type": "TEXT", "text": ":"}, {"type": "TEXT", "text": "Is there any significant difference in these two blocks of code?"}]}
{"raw_content": "<p>How can I use JUnit idiomatically to test that some code throws an exception?</p>\n<p>While I can certainly do something like this:</p>\n<pre><code>@Test\npublic void testFooThrowsIndexOutOfBoundsException() {\n\n    boolean thrown = false;\n\n    try {\n        foo.doStuff();\n    } catch (IndexOutOfBoundsException e) {\n        thrown = true;\n    }\n\n    assertTrue(thrown);\n}\n</code></pre>\n<p>I recall that there is an annotation or an Assert.xyz or <em>something</em> that is far less kludgy and far more in-the-spirit of JUnit for these sorts of situations.</p>", "language": "java", "question_id": 156503, "title": "How do you assert that a certain exception is thrown in JUnit tests?", "segments": [{"type": "CODE", "text": "@Test\npublic void testFooThrowsIndexOutOfBoundsException() {\n\n    boolean thrown = false;\n\n    try {\n        foo.doStuff();\n    } catch (IndexOutOfBoundsException e) {\n        thrown = true;\n    }\n\n    assertTrue(thrown);\n}"}, {"type": "TEXT", "text": "How can I use JUnit idiomatically to test that some code throws an exception?"}, {"type": "TEXT", "text": "While I can certainly do something like this:"}, {"type": "TEXT", "text": "I recall that there is an annotation or an Assert.xyz or"}, {"type": "TEXT", "text": "something"}, {"type": "TEXT", "text": "that is far less kludgy and far more in-the-spirit of JUnit for these sorts of situations."}]}
{"raw_content": "<p>I know that Java enums are compiled to classes with private constructors and a bunch of public static members. When comparing two members of a given enum, I've always used <code>.equals()</code>, e.g.</p>\n\n<pre><code>public useEnums(SomeEnum a)\n{\n    if(a.equals(SomeEnum.SOME_ENUM_VALUE))\n    {\n        ...\n    }\n    ...\n}\n</code></pre>\n\n<p>However, I just came across some code that uses the equals operator <code>==</code> instead of .equals():</p>\n\n<pre><code>public useEnums2(SomeEnum a)\n{\n    if(a == SomeEnum.SOME_ENUM_VALUE)\n    {\n        ...\n    }\n    ...\n}\n</code></pre>\n\n<p>Which operator is the one I should be using?</p>", "language": "java", "question_id": 1750435, "title": "Comparing Java enum members: == or equals()?", "segments": [{"type": "CODE", "text": "public useEnums(SomeEnum a)\n{\n    if(a.equals(SomeEnum.SOME_ENUM_VALUE))\n    {\n        ...\n    }\n    ...\n}"}, {"type": "CODE", "text": "public useEnums2(SomeEnum a)\n{\n    if(a == SomeEnum.SOME_ENUM_VALUE)\n    {\n        ...\n    }\n    ...\n}"}, {"type": "TEXT", "text": "I know that Java enums are compiled to classes with private constructors and a bunch of public static members. When comparing two members of a given enum, I've always used"}, {"type": "TEXT", "text": ".equals()"}, {"type": "TEXT", "text": ", e.g."}, {"type": "TEXT", "text": "However, I just came across some code that uses the equals operator"}, {"type": "TEXT", "text": "instead of .equals():"}, {"type": "TEXT", "text": "Which operator is the one I should be using?"}]}
{"raw_content": "<p>I came across some Java code that had the following structure:</p>\n\n<pre><code>public MyParameterizedFunction(String param1, int param2)\n{\n    this(param1, param2, false);\n}\n\npublic MyParameterizedFunction(String param1, int param2, boolean param3)\n{\n    //use all three parameters here\n}\n</code></pre>\n\n<p>I know that in C++ I can assign a parameter a default value.  For example:</p>\n\n<pre><code>void MyParameterizedFunction(String param1, int param2, bool param3=false);\n</code></pre>\n\n<p>Does Java support this kind of syntax?  Are there any reasons why this two step syntax is preferable?</p>", "language": "java", "question_id": 997482, "title": "Does Java support default parameter values?", "segments": [{"type": "CODE", "text": "public MyParameterizedFunction(String param1, int param2)\n{\n    this(param1, param2, false);\n}\n\npublic MyParameterizedFunction(String param1, int param2, boolean param3)\n{\n    //use all three parameters here\n}"}, {"type": "CODE", "text": "void MyParameterizedFunction(String param1, int param2, bool param3=false);"}, {"type": "TEXT", "text": "I came across some Java code that had the following structure:"}, {"type": "TEXT", "text": "I know that in C++ I can assign a parameter a default value.  For example:"}, {"type": "TEXT", "text": "Does Java support this kind of syntax?  Are there any reasons why this two step syntax is preferable?"}]}
{"raw_content": "<p>Use of <a href=\"http://docs.oracle.com/javase/8/docs/api/java/net/URLConnection.html\" rel=\"noreferrer\"><code>java.net.URLConnection</code></a> is asked about pretty often here, and the <a href=\"http://download.oracle.com/javase/tutorial/networking/urls/connecting.html\" rel=\"noreferrer\">Oracle tutorial</a> is <em>too</em> concise about it.</p>\n<p>That tutorial basically only shows how to fire a <a href=\"https://en.wikipedia.org/wiki/Hypertext_Transfer_Protocol#Request_methods\" rel=\"noreferrer\">GET</a> request and read the response. It doesn't explain anywhere how to use it to, among others, perform a <a href=\"https://en.wikipedia.org/wiki/POST_%28HTTP%29\" rel=\"noreferrer\">POST</a> request, set request headers, read response headers, deal with cookies, submit a HTML form, upload a file, etc.</p>\n<p>So, how can I use <code>java.net.URLConnection</code> to fire and handle &quot;advanced&quot; HTTP requests?</p>", "language": "java", "question_id": 2793150, "title": "How to use java.net.URLConnection to fire and handle HTTP requests", "segments": [{"type": "TEXT", "text": "Use of"}, {"type": "TEXT", "text": "java.net.URLConnection"}, {"type": "TEXT", "text": "is asked about pretty often here, and the"}, {"type": "TEXT", "text": "Oracle tutorial"}, {"type": "TEXT", "text": "is"}, {"type": "TEXT", "text": "too"}, {"type": "TEXT", "text": "concise about it."}, {"type": "TEXT", "text": "That tutorial basically only shows how to fire a"}, {"type": "TEXT", "text": "GET"}, {"type": "TEXT", "text": "request and read the response. It doesn't explain anywhere how to use it to, among others, perform a"}, {"type": "TEXT", "text": "POST"}, {"type": "TEXT", "text": "request, set request headers, read response headers, deal with cookies, submit a HTML form, upload a file, etc."}, {"type": "TEXT", "text": "So, how can I use"}, {"type": "TEXT", "text": "java.net.URLConnection"}, {"type": "TEXT", "text": "to fire and handle \"advanced\" HTTP requests?"}]}
{"raw_content": "<p>What is the main difference between an inner class and a static nested class in Java? Does design / implementation play a role in choosing one of these?</p>", "language": "java", "question_id": 70324, "title": "Java inner class and static nested class", "segments": [{"type": "TEXT", "text": "What is the main difference between an inner class and a static nested class in Java? Does design / implementation play a role in choosing one of these?"}]}
{"raw_content": "<p>I've got a nested loop construct like this:</p>\n<pre><code>for (Type type : types) {\n    for (Type t : types2) {\n         if (some condition) {\n             // Do something and break...\n             break; // Breaks out of the inner loop\n         }\n    }\n}\n</code></pre>\n<p>Now how can I break out of both loops? I've looked at similar questions, but none concerns Java specifically. I couldn't apply these solutions because most used gotos.</p>\n<p>I don't want to put the inner loop in a different method.</p>\n<p>I don't want to return the loops. When breaking I'm finished with the execution of the loop block.</p>", "language": "java", "question_id": 886955, "title": "How do I break out of nested loops in Java?", "segments": [{"type": "CODE", "text": "for (Type type : types) {\n    for (Type t : types2) {\n         if (some condition) {\n             // Do something and break...\n             break; // Breaks out of the inner loop\n         }\n    }\n}"}, {"type": "TEXT", "text": "I've got a nested loop construct like this:"}, {"type": "TEXT", "text": "Now how can I break out of both loops? I've looked at similar questions, but none concerns Java specifically. I couldn't apply these solutions because most used gotos."}, {"type": "TEXT", "text": "I don't want to put the inner loop in a different method."}, {"type": "TEXT", "text": "I don't want to return the loops. When breaking I'm finished with the execution of the loop block."}]}
{"raw_content": "<p>I've been looking for a <em>simple</em> Java algorithm to generate a pseudo-random alpha-numeric string.  In my situation it would be used as a unique session/key identifier that would \"likely\" be unique over <code>500K+</code> generation (my needs don't really require anything much more sophisticated).  </p>\n\n<p>Ideally, I would be able to specify a length depending on my uniqueness needs. For example, a generated string of length 12 might look something like <code>\"AEYGF7K0DM1X\"</code>.  </p>", "language": "java", "question_id": 41107, "title": "How to generate a random alpha-numeric string", "segments": [{"type": "TEXT", "text": "I've been looking for a"}, {"type": "TEXT", "text": "simple"}, {"type": "TEXT", "text": "Java algorithm to generate a pseudo-random alpha-numeric string.  In my situation it would be used as a unique session/key identifier that would \"likely\" be unique over"}, {"type": "TEXT", "text": "500K+"}, {"type": "TEXT", "text": "generation (my needs don't really require anything much more sophisticated)."}, {"type": "TEXT", "text": "Ideally, I would be able to specify a length depending on my uniqueness needs. For example, a generated string of length 12 might look something like"}, {"type": "TEXT", "text": "\"AEYGF7K0DM1X\""}, {"type": "TEXT", "text": "."}]}
{"raw_content": "<p>In this C++ code, sorting the data (<em>before</em> the timed region) makes the primary loop ~6x faster:</p>\n<pre class=\"lang-cpp prettyprint-override\"><code>#include &lt;algorithm&gt;\n#include &lt;ctime&gt;\n#include &lt;iostream&gt;\n\nint main()\n{\n    // Generate data\n    const unsigned arraySize = 32768;\n    int data[arraySize];\n\n    for (unsigned c = 0; c &lt; arraySize; ++c)\n        data[c] = std::rand() % 256;\n\n    // !!! With this, the next loop runs faster.\n    std::sort(data, data + arraySize);\n\n    // Test\n    clock_t start = clock();\n    long long sum = 0;\n    for (unsigned i = 0; i &lt; 100000; ++i)\n    {\n        for (unsigned c = 0; c &lt; arraySize; ++c)\n        {   // Primary loop.\n            if (data[c] &gt;= 128)\n                sum += data[c];\n        }\n    }\n\n    double elapsedTime = static_cast&lt;double&gt;(clock()-start) / CLOCKS_PER_SEC;\n\n    std::cout &lt;&lt; elapsedTime &lt;&lt; '\\n';\n    std::cout &lt;&lt; &quot;sum = &quot; &lt;&lt; sum &lt;&lt; '\\n';\n}\n</code></pre>\n<ul>\n<li>Without <code>std::sort(data, data + arraySize);</code>, the code runs in 11.54 seconds.</li>\n<li>With the sorted data, the code runs in 1.93 seconds.</li>\n</ul>\n<p>(Sorting itself takes more time than this one pass over the array, so it's not actually worth doing if we needed to calculate this for an unknown array.)</p>\n<hr />\n<p>Initially, I thought this might be just a language or compiler anomaly, so I tried Java:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Arrays;\nimport java.util.Random;\n\npublic class Main\n{\n    public static void main(String[] args)\n    {\n        // Generate data\n        int arraySize = 32768;\n        int data[] = new int[arraySize];\n\n        Random rnd = new Random(0);\n        for (int c = 0; c &lt; arraySize; ++c)\n            data[c] = rnd.nextInt() % 256;\n\n        // !!! With this, the next loop runs faster\n        Arrays.sort(data);\n\n        // Test\n        long start = System.nanoTime();\n        long sum = 0;\n        for (int i = 0; i &lt; 100000; ++i)\n        {\n            for (int c = 0; c &lt; arraySize; ++c)\n            {   // Primary loop.\n                if (data[c] &gt;= 128)\n                    sum += data[c];\n            }\n        }\n\n        System.out.println((System.nanoTime() - start) / 1000000000.0);\n        System.out.println(&quot;sum = &quot; + sum);\n    }\n}\n</code></pre>\n<p>With a similar but less extreme result.</p>\n<hr />\n<p>My first thought was that sorting brings the data into the <a href=\"https://en.wikipedia.org/wiki/CPU_cache\" rel=\"noreferrer\">cache</a>, but that's silly because the array was just generated.</p>\n<ul>\n<li>What is going on?</li>\n<li>Why is processing a sorted array faster than processing an unsorted array?</li>\n</ul>\n<p>The code is summing up some independent terms, so the order should not matter.</p>\n<hr />\n<h2>Related / follow-up Q&amp;As with more modern C++ compilers</h2>\n<ul>\n<li><a href=\"https://stackoverflow.com/q/66521344\">Why is processing an unsorted array the same speed as processing a sorted array with modern x86-64 clang?</a> - <strong>modern C++ compilers auto-vectorize the loop</strong>, especially when SSE4.1 or AVX2 is available.  This avoids any data-dependent branching so performance isn't data-dependent.</li>\n<li><a href=\"https://stackoverflow.com/q/28875325\">gcc optimization flag -O3 makes code slower than -O2</a> - branchless scalar with <code>cmov</code> can result in a longer dependency chain (especially when GCC chooses poorly), creating a latency bottleneck that makes it slower than branchy asm for the sorted case.</li>\n</ul>", "language": "cpp", "question_id": 11227809, "title": "Why is processing a sorted array faster than processing an unsorted array?", "segments": [{"type": "CODE", "text": "#include <algorithm>\n#include <ctime>\n#include <iostream>\n\nint main()\n{\n    // Generate data\n    const unsigned arraySize = 32768;\n    int data[arraySize];\n\n    for (unsigned c = 0; c < arraySize; ++c)\n        data[c] = std::rand() % 256;\n\n    // !!! With this, the next loop runs faster.\n    std::sort(data, data + arraySize);\n\n    // Test\n    clock_t start = clock();\n    long long sum = 0;\n    for (unsigned i = 0; i < 100000; ++i)\n    {\n        for (unsigned c = 0; c < arraySize; ++c)\n        {   // Primary loop.\n            if (data[c] >= 128)\n                sum += data[c];\n        }\n    }\n\n    double elapsedTime = static_cast<double>(clock()-start) / CLOCKS_PER_SEC;\n\n    std::cout << elapsedTime << '\\n';\n    std::cout << \"sum = \" << sum << '\\n';\n}"}, {"type": "CODE", "text": "std::sort(data, data + arraySize);"}, {"type": "CODE", "text": "import java.util.Arrays;\nimport java.util.Random;\n\npublic class Main\n{\n    public static void main(String[] args)\n    {\n        // Generate data\n        int arraySize = 32768;\n        int data[] = new int[arraySize];\n\n        Random rnd = new Random(0);\n        for (int c = 0; c < arraySize; ++c)\n            data[c] = rnd.nextInt() % 256;\n\n        // !!! With this, the next loop runs faster\n        Arrays.sort(data);\n\n        // Test\n        long start = System.nanoTime();\n        long sum = 0;\n        for (int i = 0; i < 100000; ++i)\n        {\n            for (int c = 0; c < arraySize; ++c)\n            {   // Primary loop.\n                if (data[c] >= 128)\n                    sum += data[c];\n            }\n        }\n\n        System.out.println((System.nanoTime() - start) / 1000000000.0);\n        System.out.println(\"sum = \" + sum);\n    }\n}"}, {"type": "TEXT", "text": "In this C++ code, sorting the data ("}, {"type": "TEXT", "text": "before"}, {"type": "TEXT", "text": "the timed region) makes the primary loop ~6x faster:"}, {"type": "TEXT", "text": "Without"}, {"type": "TEXT", "text": ", the code runs in 11.54 seconds."}, {"type": "TEXT", "text": "With the sorted data, the code runs in 1.93 seconds."}, {"type": "TEXT", "text": "(Sorting itself takes more time than this one pass over the array, so it's not actually worth doing if we needed to calculate this for an unknown array.)"}, {"type": "TEXT", "text": "Initially, I thought this might be just a language or compiler anomaly, so I tried Java:"}, {"type": "TEXT", "text": "With a similar but less extreme result."}, {"type": "TEXT", "text": "My first thought was that sorting brings the data into the"}, {"type": "TEXT", "text": "cache"}, {"type": "TEXT", "text": ", but that's silly because the array was just generated."}, {"type": "TEXT", "text": "What is going on?"}, {"type": "TEXT", "text": "Why is processing a sorted array faster than processing an unsorted array?"}, {"type": "TEXT", "text": "The code is summing up some independent terms, so the order should not matter."}, {"type": "TEXT", "text": "Related / follow-up Q&As with more modern C++ compilers"}, {"type": "TEXT", "text": "Why is processing an unsorted array the same speed as processing a sorted array with modern x86-64 clang?"}, {"type": "TEXT", "text": "modern C++ compilers auto-vectorize the loop"}, {"type": "TEXT", "text": ", especially when SSE4.1 or AVX2 is available.  This avoids any data-dependent branching so performance isn't data-dependent."}, {"type": "TEXT", "text": "gcc optimization flag -O3 makes code slower than -O2"}, {"type": "TEXT", "text": "- branchless scalar with"}, {"type": "TEXT", "text": "cmov"}, {"type": "TEXT", "text": "can result in a longer dependency chain (especially when GCC chooses poorly), creating a latency bottleneck that makes it slower than branchy asm for the sorted case."}]}
{"raw_content": "<p>After reading <a href=\"http://groups.google.com/group/comp.lang.c++.moderated/msg/33f173780d58dd20\" rel=\"noreferrer\">Hidden Features and Dark Corners of C++/STL</a> on <code>comp.lang.c++.moderated</code>, I was completely surprised that the following snippet compiled and worked in both Visual Studio 2008 and G++ 4.4. I would assume this is also valid C since it works in GCC as well.</p>\n<p>Here's the code:</p>\n<pre><code>#include &lt;stdio.h&gt;\nint main()\n{\n    int x = 10;\n    while (x --&gt; 0) // x goes to 0\n    {\n        printf(&quot;%d &quot;, x);\n    }\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>9 8 7 6 5 4 3 2 1 0\n</code></pre>\n<p>Where is this defined in the standard, and where has it come from?</p>", "language": "cpp", "question_id": 1642028, "title": "What is the &#39;--&gt;&#39; operator in C/C++?", "segments": [{"type": "CODE", "text": "#include <stdio.h>\nint main()\n{\n    int x = 10;\n    while (x --> 0) // x goes to 0\n    {\n        printf(\"%d \", x);\n    }\n}"}, {"type": "CODE", "text": "9 8 7 6 5 4 3 2 1 0"}, {"type": "TEXT", "text": "After reading"}, {"type": "TEXT", "text": "Hidden Features and Dark Corners of C++/STL"}, {"type": "TEXT", "text": "on"}, {"type": "TEXT", "text": "comp.lang.c++.moderated"}, {"type": "TEXT", "text": ", I was completely surprised that the following snippet compiled and worked in both Visual Studio 2008 and G++ 4.4. I would assume this is also valid C since it works in GCC as well."}, {"type": "TEXT", "text": "Here's the code:"}, {"type": "TEXT", "text": "Output:"}, {"type": "TEXT", "text": "Where is this defined in the standard, and where has it come from?"}]}
{"raw_content": "<p>This question attempts to collect the few pearls among the dozens of bad C++ books that are published every year.</p>\n<p>Unlike many other programming languages, which are often picked up on the go from tutorials found on the Internet, few are able to quickly pick up C++ without studying a well-written C++ book. It is way too big and complex for doing this. In fact, it is so big and complex, that <em><strong>there are very many very bad C++ books</strong></em> out there. And we are not talking about bad style, but things like sporting <em>glaringly obvious factual errors</em> and <em>promoting abysmally bad programming styles</em>.</p>\n<p>Please edit the accepted answer to provide <strong>quality books</strong> and an approximate skill level  <em>preferably</em> <strong>after</strong> <em>discussing your addition in <a href=\"https://chat.stackoverflow.com/rooms/10/loungec\">the C++ chat room</a></em>. (The regulars might mercilessly undo your work if they disagree with a recommendation.) Add a short blurb/description about each book that you have personally read/benefited from. Feel free to debate quality, headings, etc. Books that meet the criteria will be added to the list.  Books that have reviews by the Association of C and C++ Users (ACCU) have links to the review.</p>\n<p><sub>*Note: FAQs and other resources can be found in the <a href=\"https://stackoverflow.com/tags/c%2b%2b/info\">C++ tag info</a> and under <a href=\"/questions/tagged/c%2b%2b-faq\" class=\"post-tag\" title=\"show questions tagged &#39;c++-faq&#39;\" rel=\"tag\">c++-faq</a>. </sub></p>", "language": "cpp", "question_id": 388242, "title": "The Definitive C++ Book Guide and List", "segments": [{"type": "TEXT", "text": "This question attempts to collect the few pearls among the dozens of bad C++ books that are published every year."}, {"type": "TEXT", "text": "Unlike many other programming languages, which are often picked up on the go from tutorials found on the Internet, few are able to quickly pick up C++ without studying a well-written C++ book. It is way too big and complex for doing this. In fact, it is so big and complex, that"}, {"type": "TEXT", "text": "there are very many very bad C++ books"}, {"type": "TEXT", "text": "out there. And we are not talking about bad style, but things like sporting"}, {"type": "TEXT", "text": "glaringly obvious factual errors"}, {"type": "TEXT", "text": "and"}, {"type": "TEXT", "text": "promoting abysmally bad programming styles"}, {"type": "TEXT", "text": "."}, {"type": "TEXT", "text": "Please edit the accepted answer to provide"}, {"type": "TEXT", "text": "quality books"}, {"type": "TEXT", "text": "and an approximate skill level "}, {"type": "TEXT", "text": "preferably"}, {"type": "TEXT", "text": "after"}, {"type": "TEXT", "text": "discussing your addition in"}, {"type": "TEXT", "text": "the C++ chat room"}, {"type": "TEXT", "text": ". (The regulars might mercilessly undo your work if they disagree with a recommendation.) Add a short blurb/description about each book that you have personally read/benefited from. Feel free to debate quality, headings, etc. Books that meet the criteria will be added to the list.  Books that have reviews by the Association of C and C++ Users (ACCU) have links to the review."}, {"type": "TEXT", "text": "*Note: FAQs and other resources can be found in the"}, {"type": "TEXT", "text": "C++ tag info"}, {"type": "TEXT", "text": "and under"}, {"type": "TEXT", "text": "c++-faq"}, {"type": "TEXT", "text": "."}]}
{"raw_content": "<p>What is the difference between a pointer variable and a reference variable?</p>", "language": "cpp", "question_id": 57483, "title": "What are the differences between a pointer variable and a reference variable?", "segments": [{"type": "TEXT", "text": "What is the difference between a pointer variable and a reference variable?"}]}
{"raw_content": "<p>What does the <code>explicit</code> keyword mean in C++?</p>", "language": "cpp", "question_id": 121162, "title": "What does the explicit keyword mean?", "segments": [{"type": "TEXT", "text": "What does the"}, {"type": "TEXT", "text": "explicit"}, {"type": "TEXT", "text": "keyword mean in C++?"}]}
{"raw_content": "<p>I have heard <code>using namespace std;</code> is wrong, and that I should use <code>std::cout</code> and <code>std::cin</code> directly instead.</p>\n<p>Why is this? Does it risk declaring variables that share the same name as something in the <code>std</code> namespace? Are there performance implications?</p>", "language": "cpp", "question_id": 1452721, "title": "What&#39;s the problem with &quot;using namespace std;&quot;?", "segments": [{"type": "CODE", "text": "using namespace std;"}, {"type": "TEXT", "text": "I have heard"}, {"type": "TEXT", "text": "is wrong, and that I should use"}, {"type": "TEXT", "text": "std::cout"}, {"type": "TEXT", "text": "and"}, {"type": "TEXT", "text": "std::cin"}, {"type": "TEXT", "text": "directly instead."}, {"type": "TEXT", "text": "Why is this? Does it risk declaring variables that share the same name as something in the"}, {"type": "TEXT", "text": "namespace? Are there performance implications?"}]}
{"raw_content": "<p>How do I iterate over the words of a string composed of words separated by whitespace?</p>\n<p>Note that I'm not interested in C string functions or that kind of character manipulation/access. I prefer elegance over efficiency. My current solution:</p>\n<pre><code>#include &lt;iostream&gt;\n#include &lt;sstream&gt;\n#include &lt;string&gt;\n\nusing namespace std;\n\nint main() {\n    string s = &quot;Somewhere down the road&quot;;\n    istringstream iss(s);\n\n    do {\n        string subs;\n        iss &gt;&gt; subs;\n        cout &lt;&lt; &quot;Substring: &quot; &lt;&lt; subs &lt;&lt; endl;\n    } while (iss);\n}\n</code></pre>", "language": "cpp", "question_id": 236129, "title": "How do I iterate over the words of a string?", "segments": [{"type": "CODE", "text": "#include <iostream>\n#include <sstream>\n#include <string>\n\nusing namespace std;\n\nint main() {\n    string s = \"Somewhere down the road\";\n    istringstream iss(s);\n\n    do {\n        string subs;\n        iss >> subs;\n        cout << \"Substring: \" << subs << endl;\n    } while (iss);\n}"}, {"type": "TEXT", "text": "How do I iterate over the words of a string composed of words separated by whitespace?"}, {"type": "TEXT", "text": "Note that I'm not interested in C string functions or that kind of character manipulation/access. I prefer elegance over efficiency. My current solution:"}]}
{"raw_content": "<p>What are the proper uses of:</p>\n<ul>\n<li><a href=\"https://en.cppreference.com/w/cpp/language/static_cast\" rel=\"noreferrer\"><code>static_cast</code></a></li>\n<li><a href=\"https://en.cppreference.com/w/cpp/language/dynamic_cast\" rel=\"noreferrer\"><code>dynamic_cast</code></a></li>\n<li><a href=\"https://en.cppreference.com/w/cpp/language/const_cast\" rel=\"noreferrer\"><code>const_cast</code></a></li>\n<li><a href=\"https://en.cppreference.com/w/cpp/language/reinterpret_cast\" rel=\"noreferrer\"><code>reinterpret_cast</code></a></li>\n<li><a href=\"https://en.cppreference.com/w/cpp/language/explicit_cast\" rel=\"noreferrer\"><code>(type)value</code></a> (C-style cast)</li>\n<li><a href=\"https://en.cppreference.com/w/cpp/language/explicit_cast\" rel=\"noreferrer\"><code>type(value)</code></a> (function-style cast)</li>\n</ul>\n<p>How does one decide which to use in which specific cases?</p>", "language": "cpp", "question_id": 332030, "title": "When should static_cast, dynamic_cast, const_cast, and reinterpret_cast be used?", "segments": [{"type": "TEXT", "text": "What are the proper uses of:"}, {"type": "TEXT", "text": "static_cast"}, {"type": "TEXT", "text": "dynamic_cast"}, {"type": "TEXT", "text": "const_cast"}, {"type": "TEXT", "text": "reinterpret_cast"}, {"type": "TEXT", "text": "(type)value"}, {"type": "TEXT", "text": "(C-style cast)"}, {"type": "TEXT", "text": "type(value)"}, {"type": "TEXT", "text": "(function-style cast)"}, {"type": "TEXT", "text": "How does one decide which to use in which specific cases?"}]}
{"raw_content": "<p>How can I set, clear, and toggle a bit?</p>", "language": "cpp", "question_id": 47981, "title": "How to set, clear, and toggle a single bit", "segments": [{"type": "TEXT", "text": "How can I set, clear, and toggle a bit?"}]}
{"raw_content": "<p>What is the difference between using angle brackets and quotes in an <code>include</code> directive?</p>\n<ul>\n<li><code>#include &lt;filename&gt;</code></li>\n<li><code>#include &quot;filename&quot;</code></li>\n</ul>", "language": "cpp", "question_id": 21593, "title": "What is the difference between #include &lt;filename&gt; and #include &quot;filename&quot;?", "segments": [{"type": "CODE", "text": "#include <filename>"}, {"type": "CODE", "text": "#include \"filename\""}, {"type": "TEXT", "text": "What is the difference between using angle brackets and quotes in an"}, {"type": "TEXT", "text": "directive?"}]}
{"raw_content": "<ul>\n<li>What does <em>copying an object</em> mean?</li>\n<li>What are the <em>copy constructor</em> and the <em>copy assignment operator</em>?</li>\n<li>When do I need to declare them myself?</li>\n<li>How can I prevent my objects from being copied?</li>\n</ul>", "language": "cpp", "question_id": 4172722, "title": "What is The Rule of Three?", "segments": [{"type": "TEXT", "text": "What does"}, {"type": "TEXT", "text": "copying an object"}, {"type": "TEXT", "text": "mean?"}, {"type": "TEXT", "text": "What are the"}, {"type": "TEXT", "text": "copy constructor"}, {"type": "TEXT", "text": "and the"}, {"type": "TEXT", "text": "copy assignment operator"}, {"type": "TEXT", "text": "?"}, {"type": "TEXT", "text": "When do I need to declare them myself?"}, {"type": "TEXT", "text": "How can I prevent my objects from being copied?"}]}
{"raw_content": "<p>Note: The answers were given in a specific order, and have received varying amounts of votes over time. Since the order of answers depends on your answer sorting preferences, here's an <em><strong>index of the answers</strong></em> in the order in which they make the most sense:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/4421706/operator-overloading-in-c/4421715#4421715\">The General Syntax of Operator Overloading in C++</a></li>\n<li><a href=\"https://stackoverflow.com/questions/4421706/operator-overloading-in-c/4421708#4421708\">The Three Basic Rules of Operator Overloading in C++</a></li>\n<li><a href=\"https://stackoverflow.com/questions/4421706/operator-overloading-in-c/4421729#4421729\">The Decision between Member and Non-member</a></li>\n<li><a href=\"https://stackoverflow.com/questions/4421706/operator-overloading-in-c/4421719#4421719\">Common Operators to Overload</a>\n<ul>\n<li>Assignment Operator</li>\n<li>Stream Insertion and Extraction</li>\n<li>Function Call Operator</li>\n<li>Logical Operators</li>\n<li>Arithmetic Operators</li>\n<li>Subscript Operator</li>\n<li>Operators for Pointer-like Types</li>\n</ul>\n</li>\n<li><a href=\"https://stackoverflow.com/questions/4421706/operator-overloading-in-c/77055231#77055231\">Comparison Operators, Including C++20 Three-Way Comparison</a></li>\n<li><a href=\"https://stackoverflow.com/questions/4421706/operator-overloading/16615725#16615725\">Conversion Operators</a></li>\n<li><a href=\"https://stackoverflow.com/questions/4421706/operator-overloading-in-c/4421791#4421791\">Overloading new and delete</a></li>\n<li><a href=\"https://stackoverflow.com/a/77112654\">Summary of Canonical Function Signatures</a></li>\n</ul>\n<p><sub><em>(Note: This is meant to be an entry to <a href=\"https://stackoverflow.com/questions/tagged/c++-faq\">Stack Overflow's C++ FAQ</a>. If you want to critique the idea of providing an FAQ in this form, then <a href=\"https://meta.stackexchange.com/questions/68647/setting-up-a-faq-for-the-c-tag\">the posting on meta that started all this</a> would be the place to do that. Answers to that question are monitored in the <a href=\"https://chat.stackoverflow.com/rooms/10/c-lounge\">C++ chatroom</a>, where the FAQ idea started in the first place, so your answer is very likely to get read by those who came up with the idea.)</em>\n</sub></p>", "language": "cpp", "question_id": 4421706, "title": "What are the basic rules and idioms for operator overloading?", "segments": [{"type": "TEXT", "text": "Note: The answers were given in a specific order, and have received varying amounts of votes over time. Since the order of answers depends on your answer sorting preferences, here's an"}, {"type": "TEXT", "text": "index of the answers"}, {"type": "TEXT", "text": "in the order in which they make the most sense:"}, {"type": "TEXT", "text": "The General Syntax of Operator Overloading in C++"}, {"type": "TEXT", "text": "The Three Basic Rules of Operator Overloading in C++"}, {"type": "TEXT", "text": "The Decision between Member and Non-member"}, {"type": "TEXT", "text": "Common Operators to Overload"}, {"type": "TEXT", "text": "Assignment Operator"}, {"type": "TEXT", "text": "Stream Insertion and Extraction"}, {"type": "TEXT", "text": "Function Call Operator"}, {"type": "TEXT", "text": "Logical Operators"}, {"type": "TEXT", "text": "Arithmetic Operators"}, {"type": "TEXT", "text": "Subscript Operator"}, {"type": "TEXT", "text": "Operators for Pointer-like Types"}, {"type": "TEXT", "text": "Comparison Operators, Including C++20 Three-Way Comparison"}, {"type": "TEXT", "text": "Conversion Operators"}, {"type": "TEXT", "text": "Overloading new and delete"}, {"type": "TEXT", "text": "Summary of Canonical Function Signatures"}, {"type": "TEXT", "text": "(Note: This is meant to be an entry to"}, {"type": "TEXT", "text": "Stack Overflow's C++ FAQ"}, {"type": "TEXT", "text": ". If you want to critique the idea of providing an FAQ in this form, then"}, {"type": "TEXT", "text": "the posting on meta that started all this"}, {"type": "TEXT", "text": "would be the place to do that. Answers to that question are monitored in the"}, {"type": "TEXT", "text": "C++ chatroom"}, {"type": "TEXT", "text": ", where the FAQ idea started in the first place, so your answer is very likely to get read by those who came up with the idea.)"}]}
{"raw_content": "<p>Suppose <code>a1</code>, <code>b1</code>, <code>c1</code>, and <code>d1</code> point to heap memory, and my numerical code has the following core loop.</p>\n<pre><code>const int n = 100000;\n\nfor (int j = 0; j &lt; n; j++) {\n    a1[j] += b1[j];\n    c1[j] += d1[j];\n}\n</code></pre>\n<p>This loop is executed 10,000 times via another outer <code>for</code> loop. To speed it up, I changed the code to:</p>\n<pre><code>for (int j = 0; j &lt; n; j++) {\n    a1[j] += b1[j];\n}\n\nfor (int j = 0; j &lt; n; j++) {\n    c1[j] += d1[j];\n}\n</code></pre>\n<p>Compiled on <a href=\"http://en.wikipedia.org/wiki/Visual_C++#32-bit_versions\" rel=\"noreferrer\">Microsoft Visual C++ 10.0</a> with full optimization and <a href=\"http://en.wikipedia.org/wiki/SSE2\" rel=\"noreferrer\">SSE2</a> enabled for 32-bit on a <a href=\"http://en.wikipedia.org/wiki/Intel_Core_2\" rel=\"noreferrer\">Intel Core 2</a> Duo (x64), the first example takes 5.5 seconds and the double-loop example takes only 1.9 seconds.</p>\n<p>Disassembly for the first loop basically looks like this (this block is repeated about five times in the full program):</p>\n<pre><code>movsd       xmm0,mmword ptr [edx+18h]\naddsd       xmm0,mmword ptr [ecx+20h]\nmovsd       mmword ptr [ecx+20h],xmm0\nmovsd       xmm0,mmword ptr [esi+10h]\naddsd       xmm0,mmword ptr [eax+30h]\nmovsd       mmword ptr [eax+30h],xmm0\nmovsd       xmm0,mmword ptr [edx+20h]\naddsd       xmm0,mmword ptr [ecx+28h]\nmovsd       mmword ptr [ecx+28h],xmm0\nmovsd       xmm0,mmword ptr [esi+18h]\naddsd       xmm0,mmword ptr [eax+38h]\n</code></pre>\n<p>Each loop of the double loop example produces this code (the following block is repeated about three times):</p>\n<pre><code>addsd       xmm0,mmword ptr [eax+28h]\nmovsd       mmword ptr [eax+28h],xmm0\nmovsd       xmm0,mmword ptr [ecx+20h]\naddsd       xmm0,mmword ptr [eax+30h]\nmovsd       mmword ptr [eax+30h],xmm0\nmovsd       xmm0,mmword ptr [ecx+28h]\naddsd       xmm0,mmword ptr [eax+38h]\nmovsd       mmword ptr [eax+38h],xmm0\nmovsd       xmm0,mmword ptr [ecx+30h]\naddsd       xmm0,mmword ptr [eax+40h]\nmovsd       mmword ptr [eax+40h],xmm0\n</code></pre>\n<p>The question turned out to be of no relevance, as the behavior severely depends on the sizes of the arrays (n) and the CPU cache. So if there is further interest, I rephrase the question:</p>\n<ul>\n<li><p>Could you provide some solid insight into the details that lead to the different cache behaviors as illustrated by the five regions on the following graph?</p>\n</li>\n<li><p>It might also be interesting to point out the differences between CPU/cache architectures, by providing a similar graph for these CPUs.</p>\n</li>\n</ul>\n<p>Here is the full code. It uses <a href=\"https://www.threadingbuildingblocks.org/\" rel=\"noreferrer\">TBB</a> <code>Tick_Count</code> for higher resolution timing, which can be disabled by not defining the <code>TBB_TIMING</code> Macro:</p>\n<pre><code>#include &lt;iostream&gt;\n#include &lt;iomanip&gt;\n#include &lt;cmath&gt;\n#include &lt;string&gt;\n\n//#define TBB_TIMING\n\n#ifdef TBB_TIMING   \n#include &lt;tbb/tick_count.h&gt;\nusing tbb::tick_count;\n#else\n#include &lt;time.h&gt;\n#endif\n\nusing namespace std;\n\n//#define preallocate_memory new_cont\n\nenum { new_cont, new_sep };\n\ndouble *a1, *b1, *c1, *d1;\n\n\nvoid allo(int cont, int n)\n{\n    switch(cont) {\n      case new_cont:\n        a1 = new double[n*4];\n        b1 = a1 + n;\n        c1 = b1 + n;\n        d1 = c1 + n;\n        break;\n      case new_sep:\n        a1 = new double[n];\n        b1 = new double[n];\n        c1 = new double[n];\n        d1 = new double[n];\n        break;\n    }\n\n    for (int i = 0; i &lt; n; i++) {\n        a1[i] = 1.0;\n        d1[i] = 1.0;\n        c1[i] = 1.0;\n        b1[i] = 1.0;\n    }\n}\n\nvoid ff(int cont)\n{\n    switch(cont){\n      case new_sep:\n        delete[] b1;\n        delete[] c1;\n        delete[] d1;\n      case new_cont:\n        delete[] a1;\n    }\n}\n\ndouble plain(int n, int m, int cont, int loops)\n{\n#ifndef preallocate_memory\n    allo(cont,n);\n#endif\n\n#ifdef TBB_TIMING   \n    tick_count t0 = tick_count::now();\n#else\n    clock_t start = clock();\n#endif\n        \n    if (loops == 1) {\n        for (int i = 0; i &lt; m; i++) {\n            for (int j = 0; j &lt; n; j++){\n                a1[j] += b1[j];\n                c1[j] += d1[j];\n            }\n        }\n    } else {\n        for (int i = 0; i &lt; m; i++) {\n            for (int j = 0; j &lt; n; j++) {\n                a1[j] += b1[j];\n            }\n            for (int j = 0; j &lt; n; j++) {\n                c1[j] += d1[j];\n            }\n        }\n    }\n    double ret;\n\n#ifdef TBB_TIMING   \n    tick_count t1 = tick_count::now();\n    ret = 2.0*double(n)*double(m)/(t1-t0).seconds();\n#else\n    clock_t end = clock();\n    ret = 2.0*double(n)*double(m)/(double)(end - start) *double(CLOCKS_PER_SEC);\n#endif\n    \n#ifndef preallocate_memory\n    ff(cont);\n#endif\n\n    return ret;\n}\n\n\nvoid main()\n{   \n    freopen(&quot;C:\\\\test.csv&quot;, &quot;w&quot;, stdout);\n\n    char *s = &quot; &quot;;\n\n    string na[2] ={&quot;new_cont&quot;, &quot;new_sep&quot;};\n\n    cout &lt;&lt; &quot;n&quot;;\n\n    for (int j = 0; j &lt; 2; j++)\n        for (int i = 1; i &lt;= 2; i++)\n#ifdef preallocate_memory\n            cout &lt;&lt; s &lt;&lt; i &lt;&lt; &quot;_loops_&quot; &lt;&lt; na[preallocate_memory];\n#else\n            cout &lt;&lt; s &lt;&lt; i &lt;&lt; &quot;_loops_&quot; &lt;&lt; na[j];\n#endif\n            \n    cout &lt;&lt; endl;\n\n    long long nmax = 1000000;\n\n#ifdef preallocate_memory\n    allo(preallocate_memory, nmax);\n#endif\n    \n    for (long long n = 1L; n &lt; nmax; n = max(n+1, long long(n*1.2)))\n    {\n        const long long m = 10000000/n;\n        cout &lt;&lt; n;\n\n        for (int j = 0; j &lt; 2; j++)\n            for (int i = 1; i &lt;= 2; i++)\n                cout &lt;&lt; s &lt;&lt; plain(n, m, j, i);\n        cout &lt;&lt; endl;\n    }\n}\n</code></pre>\n<p>It shows FLOPS for different values of <code>n</code>.</p>\n<p><a href=\"https://i.sstatic.net/426bP.gif\" rel=\"noreferrer\"><img src=\"https://i.sstatic.net/426bP.gif\" alt=\"Performace chart\" /></a></p>", "language": "cpp", "question_id": 8547778, "title": "Why are elementwise additions much faster in separate loops than in a combined loop?", "segments": [{"type": "CODE", "text": "const int n = 100000;\n\nfor (int j = 0; j < n; j++) {\n    a1[j] += b1[j];\n    c1[j] += d1[j];\n}"}, {"type": "CODE", "text": "for (int j = 0; j < n; j++) {\n    a1[j] += b1[j];\n}\n\nfor (int j = 0; j < n; j++) {\n    c1[j] += d1[j];\n}"}, {"type": "CODE", "text": "movsd       xmm0,mmword ptr [edx+18h]\naddsd       xmm0,mmword ptr [ecx+20h]\nmovsd       mmword ptr [ecx+20h],xmm0\nmovsd       xmm0,mmword ptr [esi+10h]\naddsd       xmm0,mmword ptr [eax+30h]\nmovsd       mmword ptr [eax+30h],xmm0\nmovsd       xmm0,mmword ptr [edx+20h]\naddsd       xmm0,mmword ptr [ecx+28h]\nmovsd       mmword ptr [ecx+28h],xmm0\nmovsd       xmm0,mmword ptr [esi+18h]\naddsd       xmm0,mmword ptr [eax+38h]"}, {"type": "CODE", "text": "addsd       xmm0,mmword ptr [eax+28h]\nmovsd       mmword ptr [eax+28h],xmm0\nmovsd       xmm0,mmword ptr [ecx+20h]\naddsd       xmm0,mmword ptr [eax+30h]\nmovsd       mmword ptr [eax+30h],xmm0\nmovsd       xmm0,mmword ptr [ecx+28h]\naddsd       xmm0,mmword ptr [eax+38h]\nmovsd       mmword ptr [eax+38h],xmm0\nmovsd       xmm0,mmword ptr [ecx+30h]\naddsd       xmm0,mmword ptr [eax+40h]\nmovsd       mmword ptr [eax+40h],xmm0"}, {"type": "CODE", "text": "#include <iostream>\n#include <iomanip>\n#include <cmath>\n#include <string>\n\n//#define TBB_TIMING\n\n#ifdef TBB_TIMING   \n#include <tbb/tick_count.h>\nusing tbb::tick_count;\n#else\n#include <time.h>\n#endif\n\nusing namespace std;\n\n//#define preallocate_memory new_cont\n\nenum { new_cont, new_sep };\n\ndouble *a1, *b1, *c1, *d1;\n\n\nvoid allo(int cont, int n)\n{\n    switch(cont) {\n      case new_cont:\n        a1 = new double[n*4];\n        b1 = a1 + n;\n        c1 = b1 + n;\n        d1 = c1 + n;\n        break;\n      case new_sep:\n        a1 = new double[n];\n        b1 = new double[n];\n        c1 = new double[n];\n        d1 = new double[n];\n        break;\n    }\n\n    for (int i = 0; i < n; i++) {\n        a1[i] = 1.0;\n        d1[i] = 1.0;\n        c1[i] = 1.0;\n        b1[i] = 1.0;\n    }\n}\n\nvoid ff(int cont)\n{\n    switch(cont){\n      case new_sep:\n        delete[] b1;\n        delete[] c1;\n        delete[] d1;\n      case new_cont:\n        delete[] a1;\n    }\n}\n\ndouble plain(int n, int m, int cont, int loops)\n{\n#ifndef preallocate_memory\n    allo(cont,n);\n#endif\n\n#ifdef TBB_TIMING   \n    tick_count t0 = tick_count::now();\n#else\n    clock_t start = clock();\n#endif\n        \n    if (loops == 1) {\n        for (int i = 0; i < m; i++) {\n            for (int j = 0; j < n; j++){\n                a1[j] += b1[j];\n                c1[j] += d1[j];\n            }\n        }\n    } else {\n        for (int i = 0; i < m; i++) {\n            for (int j = 0; j < n; j++) {\n                a1[j] += b1[j];\n            }\n            for (int j = 0; j < n; j++) {\n                c1[j] += d1[j];\n            }\n        }\n    }\n    double ret;\n\n#ifdef TBB_TIMING   \n    tick_count t1 = tick_count::now();\n    ret = 2.0*double(n)*double(m)/(t1-t0).seconds();\n#else\n    clock_t end = clock();\n    ret = 2.0*double(n)*double(m)/(double)(end - start) *double(CLOCKS_PER_SEC);\n#endif\n    \n#ifndef preallocate_memory\n    ff(cont);\n#endif\n\n    return ret;\n}\n\n\nvoid main()\n{   \n    freopen(\"C:\\\\test.csv\", \"w\", stdout);\n\n    char *s = \" \";\n\n    string na[2] ={\"new_cont\", \"new_sep\"};\n\n    cout << \"n\";\n\n    for (int j = 0; j < 2; j++)\n        for (int i = 1; i <= 2; i++)\n#ifdef preallocate_memory\n            cout << s << i << \"_loops_\" << na[preallocate_memory];\n#else\n            cout << s << i << \"_loops_\" << na[j];\n#endif\n            \n    cout << endl;\n\n    long long nmax = 1000000;\n\n#ifdef preallocate_memory\n    allo(preallocate_memory, nmax);\n#endif\n    \n    for (long long n = 1L; n < nmax; n = max(n+1, long long(n*1.2)))\n    {\n        const long long m = 10000000/n;\n        cout << n;\n\n        for (int j = 0; j < 2; j++)\n            for (int i = 1; i <= 2; i++)\n                cout << s << plain(n, m, j, i);\n        cout << endl;\n    }\n}"}, {"type": "TEXT", "text": "Suppose"}, {"type": "TEXT", "text": ", and"}, {"type": "TEXT", "text": "point to heap memory, and my numerical code has the following core loop."}, {"type": "TEXT", "text": "This loop is executed 10,000 times via another outer"}, {"type": "TEXT", "text": "loop. To speed it up, I changed the code to:"}, {"type": "TEXT", "text": "Compiled on"}, {"type": "TEXT", "text": "Microsoft Visual C++ 10.0"}, {"type": "TEXT", "text": "with full optimization and"}, {"type": "TEXT", "text": "SSE2"}, {"type": "TEXT", "text": "enabled for 32-bit on a"}, {"type": "TEXT", "text": "Intel Core 2"}, {"type": "TEXT", "text": "Duo (x64), the first example takes 5.5 seconds and the double-loop example takes only 1.9 seconds."}, {"type": "TEXT", "text": "Disassembly for the first loop basically looks like this (this block is repeated about five times in the full program):"}, {"type": "TEXT", "text": "Each loop of the double loop example produces this code (the following block is repeated about three times):"}, {"type": "TEXT", "text": "The question turned out to be of no relevance, as the behavior severely depends on the sizes of the arrays (n) and the CPU cache. So if there is further interest, I rephrase the question:"}, {"type": "TEXT", "text": "Could you provide some solid insight into the details that lead to the different cache behaviors as illustrated by the five regions on the following graph?"}, {"type": "TEXT", "text": "It might also be interesting to point out the differences between CPU/cache architectures, by providing a similar graph for these CPUs."}, {"type": "TEXT", "text": "Here is the full code. It uses"}, {"type": "TEXT", "text": "Tick_Count"}, {"type": "TEXT", "text": "for higher resolution timing, which can be disabled by not defining the"}, {"type": "TEXT", "text": "Macro:"}, {"type": "TEXT", "text": "It shows FLOPS for different values of"}]}
{"raw_content": "<p>What is the copy-and-swap idiom and when should it be used? What problems does it solve? Does it change for C++11?</p>\n<p>Related:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/276173/what-are-your-favorite-c-coding-style-idioms/2034447#2034447\">What are your favorite C++ Coding Style idioms:  Copy-swap</a></li>\n<li><a href=\"https://stackoverflow.com/questions/1734628/copy-constructor-and-operator-overload-in-c-is-a-common-function-possible/1734640#1734640\">Copy constructor and = operator overload in C++: is a common function possible?</a></li>\n<li><a href=\"https://stackoverflow.com/questions/2143787/what-is-copy-elision-and-how-it-optimizes-copy-and-swap-idiom\">What is copy elision and how it optimizes copy-and-swap idiom</a></li>\n<li><a href=\"https://stackoverflow.com/questions/255612/c-dynamically-allocating-an-array-of-objects/255744#255744\">C++: dynamically allocating an array of objects?</a></li>\n</ul>", "language": "cpp", "question_id": 3279543, "title": "What is the copy-and-swap idiom?", "segments": [{"type": "TEXT", "text": "What is the copy-and-swap idiom and when should it be used? What problems does it solve? Does it change for C++11?"}, {"type": "TEXT", "text": "Related:"}, {"type": "TEXT", "text": "What are your favorite C++ Coding Style idioms:  Copy-swap"}, {"type": "TEXT", "text": "Copy constructor and = operator overload in C++: is a common function possible?"}, {"type": "TEXT", "text": "What is copy elision and how it optimizes copy-and-swap idiom"}, {"type": "TEXT", "text": "C++: dynamically allocating an array of objects?"}]}
{"raw_content": "<p>Quote from <a href=\"http://books.google.com/books?id=n9VEG2Gp5pkC&amp;pg=PA10&amp;lpg=PA10&amp;dq=%22The%20only%20portable%20way%20of%20using%20templates%20at%20the%20moment%20is%20to%20implement%20them%20in%20header%20files%20by%20using%20inline%20functions.%22&amp;source=bl&amp;ots=Ref8pl8dPX&amp;sig=t4K5gvxtBblpcujNxodpwMfei8I&amp;hl=en&amp;ei=qkR6TvbiGojE0AHq4IzqAg&amp;sa=X&amp;oi=book_result&amp;ct=result&amp;resnum=3&amp;ved=0CC8Q6AEwAg#v=onepage&amp;q=%22The%20only%20portable%20way%20of%20using%20templates%20at%20the%20moment%20is%20to%20implement%20them%20in%20header%20files%20by%20using%20inline%20functions.%22&amp;f=false\" rel=\"noreferrer\">The C++ standard library: a tutorial and handbook</a>:</p>\n\n<blockquote>\n  <p>The only portable way of using templates at the moment is to implement them in header files by using inline functions.</p>\n</blockquote>\n\n<p>Why is this?</p>\n\n<p>(Clarification: header files are not the <em>only</em> portable solution. But they are the most convenient portable solution.)</p>", "language": "cpp", "question_id": 495021, "title": "Why can templates only be implemented in the header file?", "segments": [{"type": "TEXT", "text": "Quote from"}, {"type": "TEXT", "text": "The C++ standard library: a tutorial and handbook"}, {"type": "TEXT", "text": ":"}, {"type": "TEXT", "text": "The only portable way of using templates at the moment is to implement them in header files by using inline functions."}, {"type": "TEXT", "text": "Why is this?"}, {"type": "TEXT", "text": "(Clarification: header files are not the"}, {"type": "TEXT", "text": "only"}, {"type": "TEXT", "text": "portable solution. But they are the most convenient portable solution.)"}]}
{"raw_content": "<p>C++11 introduced a standardized memory model, but what exactly does that mean? And how is it going to affect C++ programming?</p>\n<p><a href=\"http://www.theregister.co.uk/2011/06/11/herb_sutter_next_c_plus_plus/page2.html\" rel=\"noreferrer\">This article</a> (by <strong>Gavin Clarke</strong> who quotes <strong><a href=\"https://en.wikipedia.org/wiki/Herb_Sutter\" rel=\"noreferrer\">Herb Sutter</a></strong>) says that,</p>\n<blockquote>\n<p>The memory model means that C++ code\nnow has a standardized library to call\nregardless of who made the compiler\nand on what platform it's running.\nThere's a standard way to control how\ndifferent threads talk to the\nprocessor's memory.</p>\n<p>&quot;When you are talking about splitting\n[code] across different cores that's\nin the standard, we are talking about\nthe memory model. We are going to\noptimize it without breaking the\nfollowing assumptions people are going\nto make in the code,&quot; <strong>Sutter</strong> said.</p>\n</blockquote>\n<p>Well, I can <em>memorize</em> this and similar paragraphs available online (as I've had my own memory model since birth :P) and can even post as an answer to questions asked by others, but to be honest, I don't exactly understand this.</p>\n<p>C++ programmers used to develop multi-threaded applications even before, so how does it matter if it's POSIX threads, or Windows threads, or C++11 threads? What are the benefits? I want to understand the low-level details.</p>\n<p>I also get this feeling that the C++11 memory model is somehow related to C++11 multi-threading support, as I often see these two together. If it is, how exactly? Why should they be related?</p>\n<p>I don't know how the internals of multi-threading work, and what memory model means in general.</p>", "language": "cpp", "question_id": 6319146, "title": "C++11 introduced a standardized memory model. What does it mean? And how is it going to affect C++ programming?", "segments": [{"type": "TEXT", "text": "C++11 introduced a standardized memory model, but what exactly does that mean? And how is it going to affect C++ programming?"}, {"type": "TEXT", "text": "This article"}, {"type": "TEXT", "text": "(by"}, {"type": "TEXT", "text": "Gavin Clarke"}, {"type": "TEXT", "text": "who quotes"}, {"type": "TEXT", "text": "Herb Sutter"}, {"type": "TEXT", "text": ") says that,"}, {"type": "TEXT", "text": "The memory model means that C++ code\nnow has a standardized library to call\nregardless of who made the compiler\nand on what platform it's running.\nThere's a standard way to control how\ndifferent threads talk to the\nprocessor's memory."}, {"type": "TEXT", "text": "\"When you are talking about splitting\n[code] across different cores that's\nin the standard, we are talking about\nthe memory model. We are going to\noptimize it without breaking the\nfollowing assumptions people are going\nto make in the code,\""}, {"type": "TEXT", "text": "Sutter"}, {"type": "TEXT", "text": "said."}, {"type": "TEXT", "text": "Well, I can"}, {"type": "TEXT", "text": "memorize"}, {"type": "TEXT", "text": "this and similar paragraphs available online (as I've had my own memory model since birth :P) and can even post as an answer to questions asked by others, but to be honest, I don't exactly understand this."}, {"type": "TEXT", "text": "C++ programmers used to develop multi-threaded applications even before, so how does it matter if it's POSIX threads, or Windows threads, or C++11 threads? What are the benefits? I want to understand the low-level details."}, {"type": "TEXT", "text": "I also get this feeling that the C++11 memory model is somehow related to C++11 multi-threading support, as I often see these two together. If it is, how exactly? Why should they be related?"}, {"type": "TEXT", "text": "I don't know how the internals of multi-threading work, and what memory model means in general."}]}
{"raw_content": "<p>I wanted to compare reading lines of string input from stdin using Python and C++ and was shocked to see my C++ code run an order of magnitude slower than the equivalent Python code. Since my C++ is rusty and I'm not yet an expert Pythonista, please tell me if I'm doing something wrong or if I'm misunderstanding something.</p>\n<hr />\n<p>(<strong>TLDR answer:</strong> include the statement: <code>cin.sync_with_stdio(false)</code> or just use <code>fgets</code> instead.</p>\n<p><strong>TLDR results:</strong> scroll all the way down to the bottom of my question and look at the table.)</p>\n<hr />\n<p><strong>C++ code:</strong></p>\n<pre class=\"lang-cpp prettyprint-override\"><code>#include &lt;iostream&gt;\n#include &lt;time.h&gt;\n\nusing namespace std;\n\nint main() {\n    string input_line;\n    long line_count = 0;\n    time_t start = time(NULL);\n    int sec;\n    int lps;\n\n    while (cin) {\n        getline(cin, input_line);\n        if (!cin.eof())\n            line_count++;\n    };\n\n    sec = (int) time(NULL) - start;\n    cerr &lt;&lt; &quot;Read &quot; &lt;&lt; line_count &lt;&lt; &quot; lines in &quot; &lt;&lt; sec &lt;&lt; &quot; seconds.&quot;;\n    if (sec &gt; 0) {\n        lps = line_count / sec;\n        cerr &lt;&lt; &quot; LPS: &quot; &lt;&lt; lps &lt;&lt; endl;\n    } else\n        cerr &lt;&lt; endl;\n    return 0;\n}\n\n// Compiled with:\n// g++ -O3 -o readline_test_cpp foo.cpp\n</code></pre>\n<p><strong>Python Equivalent:</strong></p>\n<pre class=\"lang-py prettyprint-override\"><code>#!/usr/bin/env python\nimport time\nimport sys\n\ncount = 0\nstart = time.time()\n\nfor line in  sys.stdin:\n    count += 1\n\ndelta_sec = int(time.time() - start_time)\nif delta_sec &gt;= 0:\n    lines_per_sec = int(round(count/delta_sec))\n    print(&quot;Read {0} lines in {1} seconds. LPS: {2}&quot;.format(count, delta_sec,\n       lines_per_sec))\n</code></pre>\n<p><strong>Here are my results:</strong></p>\n<pre class=\"lang-none prettyprint-override\"><code>$ cat test_lines | ./readline_test_cpp\nRead 5570000 lines in 9 seconds. LPS: 618889\n\n$ cat test_lines | ./readline_test.py\nRead 5570000 lines in 1 seconds. LPS: 5570000\n</code></pre>\n<p><em>I should note that I tried this both under MacOSXv10.6.8 (SnowLeopard) and Linux 2.6.32 (Red Hat Linux 6.2). The former is a MacBook Pro, and the latter is a very beefy server, not that this is too pertinent.</em></p>\n<pre class=\"lang-sh prettyprint-override\"><code>$ for i in {1..5}; do echo &quot;Test run $i at `date`&quot;; echo -n &quot;CPP:&quot;; cat test_lines | ./readline_test_cpp ; echo -n &quot;Python:&quot;; cat test_lines | ./readline_test.py ; done\n</code></pre>\n<pre class=\"lang-none prettyprint-override\"><code>Test run 1 at Mon Feb 20 21:29:28 EST 2012\nCPP:   Read 5570001 lines in 9 seconds. LPS: 618889\nPython:Read 5570000 lines in 1 seconds. LPS: 5570000\nTest run 2 at Mon Feb 20 21:29:39 EST 2012\nCPP:   Read 5570001 lines in 9 seconds. LPS: 618889\nPython:Read 5570000 lines in 1 seconds. LPS: 5570000\nTest run 3 at Mon Feb 20 21:29:50 EST 2012\nCPP:   Read 5570001 lines in 9 seconds. LPS: 618889\nPython:Read 5570000 lines in 1 seconds. LPS: 5570000\nTest run 4 at Mon Feb 20 21:30:01 EST 2012\nCPP:   Read 5570001 lines in 9 seconds. LPS: 618889\nPython:Read 5570000 lines in 1 seconds. LPS: 5570000\nTest run 5 at Mon Feb 20 21:30:11 EST 2012\nCPP:   Read 5570001 lines in 10 seconds. LPS: 557000\nPython:Read 5570000 lines in  1 seconds. LPS: 5570000\n</code></pre>\n<hr />\n<p>Tiny benchmark addendum and recap</p>\n<p>For completeness, I thought I'd update the read speed for the same file on the same box with the original (synced) C++ code. Again, this is for a 100M line file on a fast disk. Here's the comparison, with several solutions/approaches:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th style=\"text-align: left;\">Implementation</th>\n<th style=\"text-align: right;\">Lines per second</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align: left;\">python (default)</td>\n<td style=\"text-align: right;\">3,571,428</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">cin (default/naive)</td>\n<td style=\"text-align: right;\">819,672</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">cin (no sync)</td>\n<td style=\"text-align: right;\">12,500,000</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">fgets</td>\n<td style=\"text-align: right;\">14,285,714</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">wc (not fair comparison)</td>\n<td style=\"text-align: right;\">54,644,808</td>\n</tr>\n</tbody>\n</table>\n</div>", "language": "cpp", "question_id": 9371238, "title": "Why is reading lines from stdin much slower in C++ than Python?", "segments": [{"type": "CODE", "text": "#include <iostream>\n#include <time.h>\n\nusing namespace std;\n\nint main() {\n    string input_line;\n    long line_count = 0;\n    time_t start = time(NULL);\n    int sec;\n    int lps;\n\n    while (cin) {\n        getline(cin, input_line);\n        if (!cin.eof())\n            line_count++;\n    };\n\n    sec = (int) time(NULL) - start;\n    cerr << \"Read \" << line_count << \" lines in \" << sec << \" seconds.\";\n    if (sec > 0) {\n        lps = line_count / sec;\n        cerr << \" LPS: \" << lps << endl;\n    } else\n        cerr << endl;\n    return 0;\n}\n\n// Compiled with:\n// g++ -O3 -o readline_test_cpp foo.cpp"}, {"type": "CODE", "text": "#!/usr/bin/env python\nimport time\nimport sys\n\ncount = 0\nstart = time.time()\n\nfor line in  sys.stdin:\n    count += 1\n\ndelta_sec = int(time.time() - start_time)\nif delta_sec >= 0:\n    lines_per_sec = int(round(count/delta_sec))\n    print(\"Read {0} lines in {1} seconds. LPS: {2}\".format(count, delta_sec,\n       lines_per_sec))"}, {"type": "CODE", "text": "$ cat test_lines | ./readline_test_cpp\nRead 5570000 lines in 9 seconds. LPS: 618889\n\n$ cat test_lines | ./readline_test.py\nRead 5570000 lines in 1 seconds. LPS: 5570000"}, {"type": "CODE", "text": "$ for i in {1..5}; do echo \"Test run $i at `date`\"; echo -n \"CPP:\"; cat test_lines | ./readline_test_cpp ; echo -n \"Python:\"; cat test_lines | ./readline_test.py ; done"}, {"type": "CODE", "text": "Test run 1 at Mon Feb 20 21:29:28 EST 2012\nCPP:   Read 5570001 lines in 9 seconds. LPS: 618889\nPython:Read 5570000 lines in 1 seconds. LPS: 5570000\nTest run 2 at Mon Feb 20 21:29:39 EST 2012\nCPP:   Read 5570001 lines in 9 seconds. LPS: 618889\nPython:Read 5570000 lines in 1 seconds. LPS: 5570000\nTest run 3 at Mon Feb 20 21:29:50 EST 2012\nCPP:   Read 5570001 lines in 9 seconds. LPS: 618889\nPython:Read 5570000 lines in 1 seconds. LPS: 5570000\nTest run 4 at Mon Feb 20 21:30:01 EST 2012\nCPP:   Read 5570001 lines in 9 seconds. LPS: 618889\nPython:Read 5570000 lines in 1 seconds. LPS: 5570000\nTest run 5 at Mon Feb 20 21:30:11 EST 2012\nCPP:   Read 5570001 lines in 10 seconds. LPS: 557000\nPython:Read 5570000 lines in  1 seconds. LPS: 5570000"}, {"type": "TEXT", "text": "I wanted to compare reading lines of string input from stdin using Python and C++ and was shocked to see my C++ code run an order of magnitude slower than the equivalent Python code. Since my C++ is rusty and I'm not yet an expert Pythonista, please tell me if I'm doing something wrong or if I'm misunderstanding something."}, {"type": "TEXT", "text": "TLDR answer:"}, {"type": "TEXT", "text": "include the statement:"}, {"type": "TEXT", "text": "cin.sync_with_stdio(false)"}, {"type": "TEXT", "text": "or just use"}, {"type": "TEXT", "text": "fgets"}, {"type": "TEXT", "text": "instead."}, {"type": "TEXT", "text": "TLDR results:"}, {"type": "TEXT", "text": "scroll all the way down to the bottom of my question and look at the table.)"}, {"type": "TEXT", "text": "C++ code:"}, {"type": "TEXT", "text": "Python Equivalent:"}, {"type": "TEXT", "text": "Here are my results:"}, {"type": "TEXT", "text": "I should note that I tried this both under MacOSXv10.6.8 (SnowLeopard) and Linux 2.6.32 (Red Hat Linux 6.2). The former is a MacBook Pro, and the latter is a very beefy server, not that this is too pertinent."}, {"type": "TEXT", "text": "Tiny benchmark addendum and recap"}, {"type": "TEXT", "text": "For completeness, I thought I'd update the read speed for the same file on the same box with the original (synced) C++ code. Again, this is for a 100M line file on a fast disk. Here's the comparison, with several solutions/approaches:"}, {"type": "TEXT", "text": "Implementation"}, {"type": "TEXT", "text": "Lines per second"}, {"type": "TEXT", "text": "python (default)"}, {"type": "TEXT", "text": "3,571,428"}, {"type": "TEXT", "text": "cin (default/naive)"}, {"type": "TEXT", "text": "819,672"}, {"type": "TEXT", "text": "cin (no sync)"}, {"type": "TEXT", "text": "12,500,000"}, {"type": "TEXT", "text": "fgets"}, {"type": "TEXT", "text": "14,285,714"}, {"type": "TEXT", "text": "wc (not fair comparison)"}, {"type": "TEXT", "text": "54,644,808"}]}
{"raw_content": "<p>What is a smart pointer and when should I use one?</p>", "language": "cpp", "question_id": 106508, "title": "What is a smart pointer and when should I use one?", "segments": [{"type": "TEXT", "text": "What is a smart pointer and when should I use one?"}]}
{"raw_content": "<p>How can I convert from <code>int</code> to the equivalent <code>string</code> in C++?  I am aware of two methods. Is there another way?</p>\n<p>(1)</p>\n<pre><code>int a = 10;\nchar *intStr = itoa(a);\nstring str = string(intStr);\n</code></pre>\n<p>(2)</p>\n<pre><code>int a = 10;\nstringstream ss;\nss &lt;&lt; a;\nstring str = ss.str();\n</code></pre>", "language": "cpp", "question_id": 5590381, "title": "How can I convert int to string in C++?", "segments": [{"type": "CODE", "text": "int a = 10;\nchar *intStr = itoa(a);\nstring str = string(intStr);"}, {"type": "CODE", "text": "int a = 10;\nstringstream ss;\nss << a;\nstring str = ss.str();"}, {"type": "TEXT", "text": "How can I convert from"}, {"type": "TEXT", "text": "to the equivalent"}, {"type": "TEXT", "text": "in C++?  I am aware of two methods. Is there another way?"}, {"type": "TEXT", "text": "(1)"}, {"type": "TEXT", "text": "(2)"}]}
{"raw_content": "<p>What exactly does putting <code>extern \"C\"</code> into C++ code do?</p>\n\n<p>For example:</p>\n\n<pre><code>extern \"C\" {\n   void foo();\n}\n</code></pre>", "language": "cpp", "question_id": 1041866, "title": "What is the effect of extern &quot;C&quot; in C++?", "segments": [{"type": "CODE", "text": "extern \"C\""}, {"type": "CODE", "text": "extern \"C\" {\n   void foo();\n}"}, {"type": "TEXT", "text": "What exactly does putting"}, {"type": "TEXT", "text": "into C++ code do?"}, {"type": "TEXT", "text": "For example:"}]}
{"raw_content": "<p>How do I find areas of my code that run slowly in a C++ application running on Linux?</p>", "language": "cpp", "question_id": 375913, "title": "How do I profile C++ code running on Linux?", "segments": [{"type": "TEXT", "text": "How do I find areas of my code that run slowly in a C++ application running on Linux?"}]}
{"raw_content": "<p>I've just finished listening to the Software Engineering radio <a href=\"http://www.se-radio.net/2010/04/episode-159-c-0x-with-scott-meyers/\" rel=\"noreferrer\">podcast interview with Scott Meyers</a> regarding <a href=\"http://en.wikipedia.org/wiki/C++11\" rel=\"noreferrer\">C++11</a>. Most of the new features made sense to me, with the exception of one. I still don't get <em>move semantics</em>... What is it exactly?</p>", "language": "cpp", "question_id": 3106110, "title": "What is move semantics?", "segments": [{"type": "TEXT", "text": "I've just finished listening to the Software Engineering radio"}, {"type": "TEXT", "text": "podcast interview with Scott Meyers"}, {"type": "TEXT", "text": "regarding"}, {"type": "TEXT", "text": "C++11"}, {"type": "TEXT", "text": ". Most of the new features made sense to me, with the exception of one. I still don't get"}, {"type": "TEXT", "text": "move semantics"}, {"type": "TEXT", "text": "... What is it exactly?"}]}
{"raw_content": "<p>I've been writing C and C++ code for almost twenty years, but there's one aspect of these languages that I've never really understood. I've obviously used regular casts i.e.</p>\n\n<pre><code>MyClass *m = (MyClass *)ptr;\n</code></pre>\n\n<p>all over the place, but there seem to be two other types of casts, and I don't know the difference. What's the difference between the following lines of code?</p>\n\n<pre><code>MyClass *m = (MyClass *)ptr;\nMyClass *m = static_cast&lt;MyClass *&gt;(ptr);\nMyClass *m = dynamic_cast&lt;MyClass *&gt;(ptr);\n</code></pre>", "language": "cpp", "question_id": 28002, "title": "Regular cast vs. static_cast vs. dynamic_cast", "segments": [{"type": "CODE", "text": "MyClass *m = (MyClass *)ptr;"}, {"type": "CODE", "text": "MyClass *m = (MyClass *)ptr;\nMyClass *m = static_cast<MyClass *>(ptr);\nMyClass *m = dynamic_cast<MyClass *>(ptr);"}, {"type": "TEXT", "text": "I've been writing C and C++ code for almost twenty years, but there's one aspect of these languages that I've never really understood. I've obviously used regular casts i.e."}, {"type": "TEXT", "text": "all over the place, but there seem to be two other types of casts, and I don't know the difference. What's the difference between the following lines of code?"}]}
{"raw_content": "<p>I have a solid understanding of most <code>OOP</code> theory but the one thing that confuses me a lot is virtual destructors.</p>\n<p>I thought that the destructor always gets called no matter what and for every object in the chain.</p>\n<p>When are you meant to make them virtual and why?</p>", "language": "cpp", "question_id": 461203, "title": "When to use virtual destructors?", "segments": [{"type": "TEXT", "text": "I have a solid understanding of most"}, {"type": "TEXT", "text": "OOP"}, {"type": "TEXT", "text": "theory but the one thing that confuses me a lot is virtual destructors."}, {"type": "TEXT", "text": "I thought that the destructor always gets called no matter what and for every object in the chain."}, {"type": "TEXT", "text": "When are you meant to make them virtual and why?"}]}
{"raw_content": "<p>One of the most interesting projects I've worked on in the past couple of years was a project about <a href=\"https://en.wikipedia.org/wiki/Image_processing\" rel=\"noreferrer\">image processing</a>. The goal was to develop a system to be able to recognize Coca-Cola <strong>'cans'</strong> (note that I'm stressing the word 'cans', you'll see why in a minute). You can see a sample below, with the can recognized in the <em>green rectangle</em> with scale and rotation.</p>\n<p><img src=\"https://i.sstatic.net/irQtR.png\" alt=\"Template matching\" /></p>\n<p>Some constraints on the project:</p>\n<ul>\n<li>The background could be very noisy.</li>\n<li>The <em>can</em> could have any <em>scale</em> or <em>rotation</em> or even orientation (within reasonable limits).</li>\n<li>The image could have some degree of fuzziness (contours might not be entirely straight).</li>\n<li>There could be Coca-Cola bottles in the image, and the algorithm should only detect the <em>can</em>!</li>\n<li>The brightness of the image could vary a lot (so you can't rely &quot;too much&quot; on color detection).</li>\n<li>The <em>can</em> could be partly hidden on the sides or the middle and possibly partly hidden behind a bottle.</li>\n<li>There could be no <em>can</em> at all in the image, in which case you had to find nothing and write a message saying so.</li>\n</ul>\n<p>So you could end up with tricky things like this (which in this case had my algorithm totally fail):</p>\n<p><img src=\"https://i.sstatic.net/Byw82.png\" alt=\"Total fail\" /></p>\n<p>I did this project a while ago, and had a lot of fun doing it, and I had a decent implementation. Here are some details about my implementation:</p>\n<p><strong>Language</strong>: Done in C++ using <a href=\"http://opencv.org\" rel=\"noreferrer\">OpenCV</a> library.</p>\n<p><strong>Pre-processing</strong>: For the image pre-processing, i.e. transforming the image into a more raw form to give to the algorithm, I used 2 methods:</p>\n<ol>\n<li>Changing color domain from RGB to <a href=\"http://en.wikipedia.org/wiki/HSL_and_HSV\" rel=\"noreferrer\">HSV</a> and filtering based on &quot;red&quot; hue, saturation above a certain threshold to avoid orange-like colors, and filtering of low value to avoid dark tones. The end result was a binary black and white image, where all white pixels would represent the pixels that match this threshold. Obviously there is still a lot of crap in the image, but this reduces the number of dimensions you have to work with.\n<img src=\"https://i.sstatic.net/ktdAB.png\" alt=\"Binarized image\" /></li>\n<li>Noise filtering using median filtering (taking the median pixel value of all neighbors and replace the pixel by this value) to reduce noise.</li>\n<li>Using <a href=\"http://en.wikipedia.org/wiki/Canny_edge_detector\" rel=\"noreferrer\">Canny Edge Detection Filter</a> to get the contours of all items after 2 precedent steps.\n<img src=\"https://i.sstatic.net/F9319.png\" alt=\"Contour detection\" /></li>\n</ol>\n<p><strong>Algorithm</strong>: The algorithm itself I chose for this task was taken from <a href=\"https://rads.stackoverflow.com/amzn/click/com/0123725380\" rel=\"noreferrer\" rel=\"nofollow noreferrer\">this</a> awesome book on feature extraction and called <a href=\"http://en.wikipedia.org/wiki/Generalised_Hough_transform\" rel=\"noreferrer\">Generalized Hough Transform</a> (pretty different from the regular Hough Transform). It basically says a few things:</p>\n<ul>\n<li>You can describe an object in space without knowing its analytical equation (which is the case here).</li>\n<li>It is resistant to image deformations such as scaling and rotation, as it will basically test your image for every combination of scale factor and rotation factor.</li>\n<li>It uses a base model (a template) that the algorithm will &quot;learn&quot;.</li>\n<li>Each pixel remaining in the contour image will vote for another pixel which will supposedly be the center (in terms of gravity) of your object, based on what it learned from the model.</li>\n</ul>\n<p>In the end, you end up with a heat map of the votes, for example here all the pixels of the contour of the can will vote for its gravitational center, so you'll have a lot of votes in the same pixel corresponding to the center, and will see a peak in the heat map as below:</p>\n<p><img src=\"https://i.sstatic.net/wxrT1.png\" alt=\"GHT\" /></p>\n<p>Once you have that, a simple threshold-based heuristic can give you the location of the center pixel, from which you can derive the scale and rotation and then plot your little rectangle around it (final scale and rotation factor will obviously be relative to your original template). In theory at least...</p>\n<p><strong>Results</strong>: Now, while this approach worked in the basic cases, it was severely lacking in some areas:</p>\n<ul>\n<li>It is <strong>extremely slow</strong>! I'm not stressing this enough. Almost a full day was needed to process the 30 test images, obviously because I had a very high scaling factor for rotation and translation, since some of the cans were very small.</li>\n<li>It was completely lost when bottles were in the image, and for some reason almost always found the bottle instead of the can (perhaps because bottles were bigger, thus had more pixels, thus more votes)</li>\n<li>Fuzzy images were also no good, since the votes ended up in pixel at random locations around the center, thus ending with a very noisy heat map.</li>\n<li>In-variance in translation and rotation was achieved, but not in orientation, meaning that a can that was not directly facing the camera objective wasn't recognized.</li>\n</ul>\n<p>How do I improve my <strong>specific</strong> algorithm, using <strong>exclusively OpenCV</strong> features, to resolve the <strong>four specific</strong> issues mentioned?</p>", "language": "cpp", "question_id": 10168686, "title": "Image Processing: Algorithm Improvement for &#39;Coca-Cola Can&#39; Recognition", "segments": [{"type": "TEXT", "text": "One of the most interesting projects I've worked on in the past couple of years was a project about"}, {"type": "TEXT", "text": "image processing"}, {"type": "TEXT", "text": ". The goal was to develop a system to be able to recognize Coca-Cola"}, {"type": "TEXT", "text": "'cans'"}, {"type": "TEXT", "text": "(note that I'm stressing the word 'cans', you'll see why in a minute). You can see a sample below, with the can recognized in the"}, {"type": "TEXT", "text": "green rectangle"}, {"type": "TEXT", "text": "with scale and rotation."}, {"type": "TEXT", "text": "Some constraints on the project:"}, {"type": "TEXT", "text": "The background could be very noisy."}, {"type": "TEXT", "text": "The"}, {"type": "TEXT", "text": "can"}, {"type": "TEXT", "text": "could have any"}, {"type": "TEXT", "text": "scale"}, {"type": "TEXT", "text": "or"}, {"type": "TEXT", "text": "rotation"}, {"type": "TEXT", "text": "or even orientation (within reasonable limits)."}, {"type": "TEXT", "text": "The image could have some degree of fuzziness (contours might not be entirely straight)."}, {"type": "TEXT", "text": "There could be Coca-Cola bottles in the image, and the algorithm should only detect the"}, {"type": "TEXT", "text": "can"}, {"type": "TEXT", "text": "!"}, {"type": "TEXT", "text": "The brightness of the image could vary a lot (so you can't rely \"too much\" on color detection)."}, {"type": "TEXT", "text": "The"}, {"type": "TEXT", "text": "can"}, {"type": "TEXT", "text": "could be partly hidden on the sides or the middle and possibly partly hidden behind a bottle."}, {"type": "TEXT", "text": "There could be no"}, {"type": "TEXT", "text": "can"}, {"type": "TEXT", "text": "at all in the image, in which case you had to find nothing and write a message saying so."}, {"type": "TEXT", "text": "So you could end up with tricky things like this (which in this case had my algorithm totally fail):"}, {"type": "TEXT", "text": "I did this project a while ago, and had a lot of fun doing it, and I had a decent implementation. Here are some details about my implementation:"}, {"type": "TEXT", "text": "Language"}, {"type": "TEXT", "text": ": Done in C++ using"}, {"type": "TEXT", "text": "OpenCV"}, {"type": "TEXT", "text": "library."}, {"type": "TEXT", "text": "Pre-processing"}, {"type": "TEXT", "text": ": For the image pre-processing, i.e. transforming the image into a more raw form to give to the algorithm, I used 2 methods:"}, {"type": "TEXT", "text": "Changing color domain from RGB to"}, {"type": "TEXT", "text": "HSV"}, {"type": "TEXT", "text": "and filtering based on \"red\" hue, saturation above a certain threshold to avoid orange-like colors, and filtering of low value to avoid dark tones. The end result was a binary black and white image, where all white pixels would represent the pixels that match this threshold. Obviously there is still a lot of crap in the image, but this reduces the number of dimensions you have to work with."}, {"type": "TEXT", "text": "Noise filtering using median filtering (taking the median pixel value of all neighbors and replace the pixel by this value) to reduce noise."}, {"type": "TEXT", "text": "Using"}, {"type": "TEXT", "text": "Canny Edge Detection Filter"}, {"type": "TEXT", "text": "to get the contours of all items after 2 precedent steps."}, {"type": "TEXT", "text": "Algorithm"}, {"type": "TEXT", "text": ": The algorithm itself I chose for this task was taken from"}, {"type": "TEXT", "text": "this"}, {"type": "TEXT", "text": "awesome book on feature extraction and called"}, {"type": "TEXT", "text": "Generalized Hough Transform"}, {"type": "TEXT", "text": "(pretty different from the regular Hough Transform). It basically says a few things:"}, {"type": "TEXT", "text": "You can describe an object in space without knowing its analytical equation (which is the case here)."}, {"type": "TEXT", "text": "It is resistant to image deformations such as scaling and rotation, as it will basically test your image for every combination of scale factor and rotation factor."}, {"type": "TEXT", "text": "It uses a base model (a template) that the algorithm will \"learn\"."}, {"type": "TEXT", "text": "Each pixel remaining in the contour image will vote for another pixel which will supposedly be the center (in terms of gravity) of your object, based on what it learned from the model."}, {"type": "TEXT", "text": "In the end, you end up with a heat map of the votes, for example here all the pixels of the contour of the can will vote for its gravitational center, so you'll have a lot of votes in the same pixel corresponding to the center, and will see a peak in the heat map as below:"}, {"type": "TEXT", "text": "Once you have that, a simple threshold-based heuristic can give you the location of the center pixel, from which you can derive the scale and rotation and then plot your little rectangle around it (final scale and rotation factor will obviously be relative to your original template). In theory at least..."}, {"type": "TEXT", "text": "Results"}, {"type": "TEXT", "text": ": Now, while this approach worked in the basic cases, it was severely lacking in some areas:"}, {"type": "TEXT", "text": "It is"}, {"type": "TEXT", "text": "extremely slow"}, {"type": "TEXT", "text": "! I'm not stressing this enough. Almost a full day was needed to process the 30 test images, obviously because I had a very high scaling factor for rotation and translation, since some of the cans were very small."}, {"type": "TEXT", "text": "It was completely lost when bottles were in the image, and for some reason almost always found the bottle instead of the can (perhaps because bottles were bigger, thus had more pixels, thus more votes)"}, {"type": "TEXT", "text": "Fuzzy images were also no good, since the votes ended up in pixel at random locations around the center, thus ending with a very noisy heat map."}, {"type": "TEXT", "text": "In-variance in translation and rotation was achieved, but not in orientation, meaning that a can that was not directly facing the camera objective wasn't recognized."}, {"type": "TEXT", "text": "How do I improve my"}, {"type": "TEXT", "text": "specific"}, {"type": "TEXT", "text": "algorithm, using"}, {"type": "TEXT", "text": "exclusively OpenCV"}, {"type": "TEXT", "text": "features, to resolve the"}, {"type": "TEXT", "text": "four specific"}, {"type": "TEXT", "text": "issues mentioned?"}]}
{"raw_content": "<p>I'm coming from a Java background and have started working with objects in C++. But one thing that occurred to me is that people often use pointers to objects rather than the objects themselves, for example this declaration:</p>\n\n<pre><code>Object *myObject = new Object;\n</code></pre>\n\n<p>rather than:</p>\n\n<pre><code>Object myObject;\n</code></pre>\n\n<p>Or instead of using a function, let's say <code>testFunc()</code>, like this:</p>\n\n<pre><code>myObject.testFunc();\n</code></pre>\n\n<p>we have to write:</p>\n\n<pre><code>myObject-&gt;testFunc();\n</code></pre>\n\n<p>But I can't figure out why should we do it this way. I would assume it has to do with efficiency and speed since we get direct access to the memory address. Am I right?</p>", "language": "cpp", "question_id": 22146094, "title": "Why should I use a pointer rather than the object itself?", "segments": [{"type": "CODE", "text": "Object *myObject = new Object;"}, {"type": "CODE", "text": "Object myObject;"}, {"type": "TEXT", "text": "I'm coming from a Java background and have started working with objects in C++. But one thing that occurred to me is that people often use pointers to objects rather than the objects themselves, for example this declaration:"}, {"type": "TEXT", "text": "rather than:"}, {"type": "TEXT", "text": "Or instead of using a function, let's say"}, {"type": "TEXT", "text": "testFunc()"}, {"type": "TEXT", "text": ", like this:"}, {"type": "TEXT", "text": "myObject.testFunc();"}, {"type": "TEXT", "text": "we have to write:"}, {"type": "TEXT", "text": "myObject->testFunc();"}, {"type": "TEXT", "text": "But I can't figure out why should we do it this way. I would assume it has to do with efficiency and speed since we get direct access to the memory address. Am I right?"}]}
{"raw_content": "<p>I always mess up how to use <code>const int *</code>, <code>const int * const</code>, and <code>int * const</code> correctly. Is there a set of rules defining what you can and cannot do?</p>\n<p>I want to know all the do's and all don'ts in terms of assignments, passing to the functions, etc.</p>", "language": "cpp", "question_id": 1143262, "title": "What is the difference between const int*, const int * const, and int * const?", "segments": [{"type": "CODE", "text": "const int *"}, {"type": "CODE", "text": "const int * const"}, {"type": "CODE", "text": "int * const"}, {"type": "TEXT", "text": "I always mess up how to use"}, {"type": "TEXT", "text": ","}, {"type": "TEXT", "text": ", and"}, {"type": "TEXT", "text": "correctly. Is there a set of rules defining what you can and cannot do?"}, {"type": "TEXT", "text": "I want to know all the do's and all don'ts in terms of assignments, passing to the functions, etc."}]}
{"raw_content": "<p>What are undefined reference/unresolved external symbol errors? What are common causes, and how do I fix and prevent these errors?</p>", "language": "cpp", "question_id": 12573816, "title": "What is an undefined reference/unresolved external symbol error and how do I fix it?", "segments": [{"type": "TEXT", "text": "What are undefined reference/unresolved external symbol errors? What are common causes, and how do I fix and prevent these errors?"}]}
{"raw_content": "<p>Is <code>if (a &lt; 901)</code> faster than <code>if (a &lt;= 900)</code>?</p>\n<p>Not exactly as in this simple example, but there are slight performance changes on loop complex code. I suppose this has to do something with generated machine code in case it's even true.</p>", "language": "cpp", "question_id": 12135518, "title": "Is &lt; faster than &lt;=?", "segments": [{"type": "CODE", "text": "if (a < 901)"}, {"type": "CODE", "text": "if (a <= 900)"}, {"type": "TEXT", "text": "Is"}, {"type": "TEXT", "text": "faster than"}, {"type": "TEXT", "text": "?"}, {"type": "TEXT", "text": "Not exactly as in this simple example, but there are slight performance changes on loop complex code. I suppose this has to do something with generated machine code in case it's even true."}]}
{"raw_content": "<p>What is a lambda expression in C++11? When would I use one? What class of problem do they solve that wasn't possible prior to their introduction?</p>\n\n<p>A few examples, and use cases would be useful. </p>", "language": "cpp", "question_id": 7627098, "title": "What is a lambda expression, and when should I use one?", "segments": [{"type": "TEXT", "text": "What is a lambda expression in C++11? When would I use one? What class of problem do they solve that wasn't possible prior to their introduction?"}, {"type": "TEXT", "text": "A few examples, and use cases would be useful."}]}
{"raw_content": "<p>In C++03, an expression is either an <strong>rvalue</strong> or an <strong>lvalue</strong>.</p>\n<p>In C++11, an expression can be an:</p>\n<ol>\n<li><strong>rvalue</strong></li>\n<li><strong>lvalue</strong></li>\n<li><strong>xvalue</strong></li>\n<li><strong>glvalue</strong></li>\n<li><strong>prvalue</strong></li>\n</ol>\n<p>Two categories have become five categories.</p>\n<ul>\n<li>What are these new categories of expressions?</li>\n<li>How do these new categories relate to the existing rvalue and lvalue categories?</li>\n<li>Are the rvalue and lvalue categories in C++0x the same as they are in C++03?</li>\n<li>Why are these new categories needed?  Are the <a href=\"http://www.open-std.org/jtc1/sc22/wg21/\" rel=\"noreferrer\">WG21</a> gods just trying to confuse us mere mortals?</li>\n</ul>", "language": "cpp", "question_id": 3601602, "title": "What are rvalues, lvalues, xvalues, glvalues, and prvalues?", "segments": [{"type": "TEXT", "text": "In C++03, an expression is either an"}, {"type": "TEXT", "text": "rvalue"}, {"type": "TEXT", "text": "or an"}, {"type": "TEXT", "text": "lvalue"}, {"type": "TEXT", "text": "."}, {"type": "TEXT", "text": "In C++11, an expression can be an:"}, {"type": "TEXT", "text": "rvalue"}, {"type": "TEXT", "text": "lvalue"}, {"type": "TEXT", "text": "xvalue"}, {"type": "TEXT", "text": "glvalue"}, {"type": "TEXT", "text": "prvalue"}, {"type": "TEXT", "text": "Two categories have become five categories."}, {"type": "TEXT", "text": "What are these new categories of expressions?"}, {"type": "TEXT", "text": "How do these new categories relate to the existing rvalue and lvalue categories?"}, {"type": "TEXT", "text": "Are the rvalue and lvalue categories in C++0x the same as they are in C++03?"}, {"type": "TEXT", "text": "Why are these new categories needed?  Are the"}, {"type": "TEXT", "text": "WG21"}, {"type": "TEXT", "text": "gods just trying to confuse us mere mortals?"}]}
{"raw_content": "<p>Why does this bit of code,</p>\n\n<pre><code>const float x[16] = {  1.1,   1.2,   1.3,     1.4,   1.5,   1.6,   1.7,   1.8,\n                       1.9,   2.0,   2.1,     2.2,   2.3,   2.4,   2.5,   2.6};\nconst float z[16] = {1.123, 1.234, 1.345, 156.467, 1.578, 1.689, 1.790, 1.812,\n                     1.923, 2.034, 2.145,   2.256, 2.367, 2.478, 2.589, 2.690};\nfloat y[16];\nfor (int i = 0; i &lt; 16; i++)\n{\n    y[i] = x[i];\n}\n\nfor (int j = 0; j &lt; 9000000; j++)\n{\n    for (int i = 0; i &lt; 16; i++)\n    {\n        y[i] *= x[i];\n        y[i] /= z[i];\n        y[i] = y[i] + 0.1f; // &lt;--\n        y[i] = y[i] - 0.1f; // &lt;--\n    }\n}\n</code></pre>\n\n<p>run more than 10 times faster than the following bit (identical except where noted)?</p>\n\n<pre><code>const float x[16] = {  1.1,   1.2,   1.3,     1.4,   1.5,   1.6,   1.7,   1.8,\n                       1.9,   2.0,   2.1,     2.2,   2.3,   2.4,   2.5,   2.6};\nconst float z[16] = {1.123, 1.234, 1.345, 156.467, 1.578, 1.689, 1.790, 1.812,\n                     1.923, 2.034, 2.145,   2.256, 2.367, 2.478, 2.589, 2.690};\nfloat y[16];\nfor (int i = 0; i &lt; 16; i++)\n{\n    y[i] = x[i];\n}\n\nfor (int j = 0; j &lt; 9000000; j++)\n{\n    for (int i = 0; i &lt; 16; i++)\n    {\n        y[i] *= x[i];\n        y[i] /= z[i];\n        y[i] = y[i] + 0; // &lt;--\n        y[i] = y[i] - 0; // &lt;--\n    }\n}\n</code></pre>\n\n<p>when compiling with Visual Studio 2010 SP1. \nThe optimization level was <code>-02</code> with <code>sse2</code> enabled.\nI haven't tested with other compilers.</p>", "language": "cpp", "question_id": 9314534, "title": "Why does changing 0.1f to 0 slow down performance by 10x?", "segments": [{"type": "CODE", "text": "const float x[16] = {  1.1,   1.2,   1.3,     1.4,   1.5,   1.6,   1.7,   1.8,\n                       1.9,   2.0,   2.1,     2.2,   2.3,   2.4,   2.5,   2.6};\nconst float z[16] = {1.123, 1.234, 1.345, 156.467, 1.578, 1.689, 1.790, 1.812,\n                     1.923, 2.034, 2.145,   2.256, 2.367, 2.478, 2.589, 2.690};\nfloat y[16];\nfor (int i = 0; i < 16; i++)\n{\n    y[i] = x[i];\n}\n\nfor (int j = 0; j < 9000000; j++)\n{\n    for (int i = 0; i < 16; i++)\n    {\n        y[i] *= x[i];\n        y[i] /= z[i];\n        y[i] = y[i] + 0.1f; // <--\n        y[i] = y[i] - 0.1f; // <--\n    }\n}"}, {"type": "CODE", "text": "const float x[16] = {  1.1,   1.2,   1.3,     1.4,   1.5,   1.6,   1.7,   1.8,\n                       1.9,   2.0,   2.1,     2.2,   2.3,   2.4,   2.5,   2.6};\nconst float z[16] = {1.123, 1.234, 1.345, 156.467, 1.578, 1.689, 1.790, 1.812,\n                     1.923, 2.034, 2.145,   2.256, 2.367, 2.478, 2.589, 2.690};\nfloat y[16];\nfor (int i = 0; i < 16; i++)\n{\n    y[i] = x[i];\n}\n\nfor (int j = 0; j < 9000000; j++)\n{\n    for (int i = 0; i < 16; i++)\n    {\n        y[i] *= x[i];\n        y[i] /= z[i];\n        y[i] = y[i] + 0; // <--\n        y[i] = y[i] - 0; // <--\n    }\n}"}, {"type": "TEXT", "text": "Why does this bit of code,"}, {"type": "TEXT", "text": "run more than 10 times faster than the following bit (identical except where noted)?"}, {"type": "TEXT", "text": "when compiling with Visual Studio 2010 SP1. \nThe optimization level was"}, {"type": "TEXT", "text": "-02"}, {"type": "TEXT", "text": "with"}, {"type": "TEXT", "text": "sse2"}, {"type": "TEXT", "text": "enabled.\nI haven't tested with other compilers."}]}
{"raw_content": "<p>From what I've read, <a href=\"https://en.m.wikipedia.org/wiki/Virtual_function\" rel=\"noreferrer\">virtual functions</a> are functions in the base class that you can override in its derived classes.</p>\n<p>But earlier, when learning about basic <a href=\"https://en.m.wikipedia.org/wiki/Inheritance_(object-oriented_programming)\" rel=\"noreferrer\">inheritance</a>, I was able to override base functions in derived classes without using <code>virtual</code>.</p>\n<p>What am I missing here? I know there is more to virtual functions, and it seems to be important so I want to be clear on what it is exactly.</p>", "language": "cpp", "question_id": 2391679, "title": "Why do we need virtual functions in C++?", "segments": [{"type": "TEXT", "text": "From what I've read,"}, {"type": "TEXT", "text": "virtual functions"}, {"type": "TEXT", "text": "are functions in the base class that you can override in its derived classes."}, {"type": "TEXT", "text": "But earlier, when learning about basic"}, {"type": "TEXT", "text": "inheritance"}, {"type": "TEXT", "text": ", I was able to override base functions in derived classes without using"}, {"type": "TEXT", "text": "virtual"}, {"type": "TEXT", "text": "."}, {"type": "TEXT", "text": "What am I missing here? I know there is more to virtual functions, and it seems to be important so I want to be clear on what it is exactly."}]}
{"raw_content": "<p>I was looking for the fastest way to <code>popcount</code> large arrays of data. I encountered a <em>very weird</em> effect: Changing the loop variable from <code>unsigned</code> to <code>uint64_t</code> made the performance drop by 50% on my PC.</p>\n\n<h2>The Benchmark</h2>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;chrono&gt;\n#include &lt;x86intrin.h&gt;\n\nint main(int argc, char* argv[]) {\n\n    using namespace std;\n    if (argc != 2) {\n       cerr &lt;&lt; \"usage: array_size in MB\" &lt;&lt; endl;\n       return -1;\n    }\n\n    uint64_t size = atol(argv[1])&lt;&lt;20;\n    uint64_t* buffer = new uint64_t[size/8];\n    char* charbuffer = reinterpret_cast&lt;char*&gt;(buffer);\n    for (unsigned i=0; i&lt;size; ++i)\n        charbuffer[i] = rand()%256;\n\n    uint64_t count,duration;\n    chrono::time_point&lt;chrono::system_clock&gt; startP,endP;\n    {\n        startP = chrono::system_clock::now();\n        count = 0;\n        for( unsigned k = 0; k &lt; 10000; k++){\n            // Tight unrolled loop with unsigned\n            for (unsigned i=0; i&lt;size/8; i+=4) {\n                count += _mm_popcnt_u64(buffer[i]);\n                count += _mm_popcnt_u64(buffer[i+1]);\n                count += _mm_popcnt_u64(buffer[i+2]);\n                count += _mm_popcnt_u64(buffer[i+3]);\n            }\n        }\n        endP = chrono::system_clock::now();\n        duration = chrono::duration_cast&lt;std::chrono::nanoseconds&gt;(endP-startP).count();\n        cout &lt;&lt; \"unsigned\\t\" &lt;&lt; count &lt;&lt; '\\t' &lt;&lt; (duration/1.0E9) &lt;&lt; \" sec \\t\"\n             &lt;&lt; (10000.0*size)/(duration) &lt;&lt; \" GB/s\" &lt;&lt; endl;\n    }\n    {\n        startP = chrono::system_clock::now();\n        count=0;\n        for( unsigned k = 0; k &lt; 10000; k++){\n            // Tight unrolled loop with uint64_t\n            for (uint64_t i=0;i&lt;size/8;i+=4) {\n                count += _mm_popcnt_u64(buffer[i]);\n                count += _mm_popcnt_u64(buffer[i+1]);\n                count += _mm_popcnt_u64(buffer[i+2]);\n                count += _mm_popcnt_u64(buffer[i+3]);\n            }\n        }\n        endP = chrono::system_clock::now();\n        duration = chrono::duration_cast&lt;std::chrono::nanoseconds&gt;(endP-startP).count();\n        cout &lt;&lt; \"uint64_t\\t\"  &lt;&lt; count &lt;&lt; '\\t' &lt;&lt; (duration/1.0E9) &lt;&lt; \" sec \\t\"\n             &lt;&lt; (10000.0*size)/(duration) &lt;&lt; \" GB/s\" &lt;&lt; endl;\n    }\n\n    free(charbuffer);\n}\n</code></pre>\n\n<p>As you see, we create a buffer of random data, with the size being <code>x</code> megabytes where <code>x</code> is read from the command line. Afterwards, we iterate over the buffer and use an unrolled version of the x86 <code>popcount</code> intrinsic to perform the popcount. To get a more precise result, we do the popcount 10,000 times. We measure the times for the popcount. In the upper case, the inner loop variable is <code>unsigned</code>, in the lower case, the inner loop variable is <code>uint64_t</code>. I thought that this should make no difference, but the opposite is the case.</p>\n\n<h2>The (absolutely crazy) results</h2>\n\n<p>I compile it like this (g++ version: Ubuntu 4.8.2-19ubuntu1):</p>\n\n<pre><code>g++ -O3 -march=native -std=c++11 test.cpp -o test\n</code></pre>\n\n<p>Here are the results on my <a href=\"http://en.wikipedia.org/wiki/Haswell_%28microarchitecture%29\" rel=\"noreferrer\">Haswell</a> <a href=\"http://en.wikipedia.org/wiki/Haswell_%28microarchitecture%29#Desktop_processors\" rel=\"noreferrer\">Core i7-4770K</a> CPU @ 3.50&nbsp;GHz, running <code>test 1</code> (so 1&nbsp;MB random data):</p>\n\n<ul>\n<li>unsigned  41959360000  0.401554 sec   <strong>26.113&nbsp;GB/s</strong></li>\n<li>uint64_t  41959360000  0.759822 sec   <strong>13.8003&nbsp;GB/s</strong></li>\n</ul>\n\n<p>As you see, the throughput of the <code>uint64_t</code> version is <strong>only half</strong> the one of the <code>unsigned</code> version! The problem seems to be that different assembly gets generated, but why? First, I thought of a compiler bug, so I tried <code>clang++</code> (Ubuntu <a href=\"http://en.wikipedia.org/wiki/Clang\" rel=\"noreferrer\">Clang</a> version 3.4-1ubuntu3):</p>\n\n<pre><code>clang++ -O3 -march=native -std=c++11 teest.cpp -o test\n</code></pre>\n\n<p>Result: <code>test 1</code></p>\n\n<ul>\n<li>unsigned  41959360000  0.398293 sec   <strong>26.3267 GB/s</strong></li>\n<li>uint64_t  41959360000  0.680954 sec   <strong>15.3986 GB/s</strong></li>\n</ul>\n\n<p>So, it is almost the same result and is still strange. <em>But now it gets super strange.</em> I replace the buffer size that was read from input with a constant <code>1</code>, so I change:</p>\n\n<pre><code>uint64_t size = atol(argv[1]) &lt;&lt; 20;\n</code></pre>\n\n<p>to</p>\n\n<pre><code>uint64_t size = 1 &lt;&lt; 20;\n</code></pre>\n\n<p>Thus, the compiler now knows the buffer size at compile time. Maybe it can add some optimizations! Here are the numbers for <code>g++</code>:</p>\n\n<ul>\n<li>unsigned  41959360000  0.509156 sec   <strong>20.5944&nbsp;GB/s</strong></li>\n<li>uint64_t  41959360000  0.508673 sec   <strong>20.6139&nbsp;GB/s</strong></li>\n</ul>\n\n<p>Now, both versions are equally fast. However, the <code>unsigned</code> <strong>got even slower</strong>! It dropped from <code>26</code> to <code>20 GB/s</code>, thus replacing a non-constant by a constant value lead to a <strong>deoptimization</strong>. Seriously, I have no clue what is going on here! But now to <code>clang++</code> with the new version:</p>\n\n<ul>\n<li>unsigned  41959360000  0.677009 sec   <strong>15.4884&nbsp;GB/s</strong></li>\n<li>uint64_t  41959360000  0.676909 sec   <strong>15.4906&nbsp;GB/s</strong></li>\n</ul>\n\n<p><em>Wait, what?</em> Now, both versions dropped to the <strong>slow</strong> number of 15&nbsp;GB/s. Thus, replacing a non-constant by a constant value even lead to slow code in <strong>both</strong> cases for Clang!</p>\n\n<p>I asked a colleague with an <a href=\"http://en.wikipedia.org/wiki/Ivy_Bridge_%28microarchitecture%29\" rel=\"noreferrer\">Ivy Bridge</a> CPU to compile my benchmark. He got similar results, so it does not seem to be Haswell. Because two compilers produce strange results here, it also does not seem to be a compiler bug. We do not have an AMD CPU here, so we could only test with Intel.</p>\n\n<h2>More madness, please!</h2>\n\n<p>Take the first example (the one with <code>atol(argv[1])</code>) and put a <code>static</code> before the variable, i.e.:</p>\n\n<pre><code>static uint64_t size=atol(argv[1])&lt;&lt;20;\n</code></pre>\n\n<p>Here are my results in g++:</p>\n\n<ul>\n<li>unsigned  41959360000  0.396728 sec   <strong>26.4306 GB/s</strong></li>\n<li>uint64_t  41959360000  0.509484 sec   <strong>20.5811 GB/s</strong></li>\n</ul>\n\n<p><em>Yay, yet another alternative</em>. We still have the fast 26&nbsp;GB/s with <code>u32</code>, but we managed to get <code>u64</code> at least from the 13&nbsp;GB/s to the 20&nbsp;GB/s version! <strong>On my collegue's PC, the <code>u64</code> version became even faster than the <code>u32</code> version, yielding the fastest result of all.</strong> Sadly, this only works for <code>g++</code>, <code>clang++</code> does not seem to care about <code>static</code>.</p>\n\n<h2>My question</h2>\n\n<p>Can you explain these results? Especially:</p>\n\n<ul>\n<li>How can there be such a difference between <code>u32</code> and <code>u64</code>?</li>\n<li>How can replacing a non-constant by a constant buffer size trigger <em>less optimal code</em>?</li>\n<li>How can the insertion of the <code>static</code> keyword make the <code>u64</code> loop faster? Even faster than the original code on my collegue's computer!</li>\n</ul>\n\n<p>I know that optimization is a tricky territory, however, I never thought that such small changes can lead to a <strong>100% difference</strong> in execution time and that small factors like a constant buffer size can again mix results totally. Of course, I always want to have the version that is able to popcount 26&nbsp;GB/s. The only reliable way I can think of is copy paste the assembly for this case and use inline assembly. This is the only way I can get rid of compilers that seem to go mad on small changes. What do you think? Is there another way to reliably get the code with most performance?</p>\n\n<h2>The Disassembly</h2>\n\n<p>Here is the disassembly for the various results:</p>\n\n<p>26&nbsp;GB/s version from <strong>g++ / u32 / non-const bufsize</strong>:</p>\n\n<pre><code>0x400af8:\nlea 0x1(%rdx),%eax\npopcnt (%rbx,%rax,8),%r9\nlea 0x2(%rdx),%edi\npopcnt (%rbx,%rcx,8),%rax\nlea 0x3(%rdx),%esi\nadd %r9,%rax\npopcnt (%rbx,%rdi,8),%rcx\nadd $0x4,%edx\nadd %rcx,%rax\npopcnt (%rbx,%rsi,8),%rcx\nadd %rcx,%rax\nmov %edx,%ecx\nadd %rax,%r14\ncmp %rbp,%rcx\njb 0x400af8\n</code></pre>\n\n<p>13&nbsp;GB/s version from <strong>g++ / u64 / non-const bufsize</strong>:</p>\n\n<pre><code>0x400c00:\npopcnt 0x8(%rbx,%rdx,8),%rcx\npopcnt (%rbx,%rdx,8),%rax\nadd %rcx,%rax\npopcnt 0x10(%rbx,%rdx,8),%rcx\nadd %rcx,%rax\npopcnt 0x18(%rbx,%rdx,8),%rcx\nadd $0x4,%rdx\nadd %rcx,%rax\nadd %rax,%r12\ncmp %rbp,%rdx\njb 0x400c00\n</code></pre>\n\n<p>15&nbsp;GB/s version from <strong>clang++ / u64 / non-const bufsize</strong>:</p>\n\n<pre><code>0x400e50:\npopcnt (%r15,%rcx,8),%rdx\nadd %rbx,%rdx\npopcnt 0x8(%r15,%rcx,8),%rsi\nadd %rdx,%rsi\npopcnt 0x10(%r15,%rcx,8),%rdx\nadd %rsi,%rdx\npopcnt 0x18(%r15,%rcx,8),%rbx\nadd %rdx,%rbx\nadd $0x4,%rcx\ncmp %rbp,%rcx\njb 0x400e50\n</code></pre>\n\n<p>20&nbsp;GB/s version from <strong>g++ / u32&amp;u64 / const bufsize</strong>:</p>\n\n<pre><code>0x400a68:\npopcnt (%rbx,%rdx,1),%rax\npopcnt 0x8(%rbx,%rdx,1),%rcx\nadd %rax,%rcx\npopcnt 0x10(%rbx,%rdx,1),%rax\nadd %rax,%rcx\npopcnt 0x18(%rbx,%rdx,1),%rsi\nadd $0x20,%rdx\nadd %rsi,%rcx\nadd %rcx,%rbp\ncmp $0x100000,%rdx\njne 0x400a68\n</code></pre>\n\n<p>15&nbsp;GB/s version from <strong>clang++ / u32&amp;u64 / const bufsize</strong>:</p>\n\n<pre><code>0x400dd0:\npopcnt (%r14,%rcx,8),%rdx\nadd %rbx,%rdx\npopcnt 0x8(%r14,%rcx,8),%rsi\nadd %rdx,%rsi\npopcnt 0x10(%r14,%rcx,8),%rdx\nadd %rsi,%rdx\npopcnt 0x18(%r14,%rcx,8),%rbx\nadd %rdx,%rbx\nadd $0x4,%rcx\ncmp $0x20000,%rcx\njb 0x400dd0\n</code></pre>\n\n<p>Interestingly, the fastest (26&nbsp;GB/s) version is also the longest! It seems to be the only solution that uses <code>lea</code>. Some versions use <code>jb</code> to jump, others use <code>jne</code>. But apart from that, all versions seem to be comparable. I don't see where a 100% performance gap could originate from, but I am not too adept at deciphering assembly. The slowest (13&nbsp;GB/s) version looks even very short and good. Can anyone explain this?</p>\n\n<h2>Lessons learned</h2>\n\n<p>No matter what the answer to this question will be; I have learned that in really hot loops <em>every</em> detail can matter, <em>even details that do not seem to have any association to the hot code</em>. I have never thought about what type to use for a loop variable, but as you see such a minor change can make a <em>100%</em> difference! Even the storage type of a buffer can make a huge difference, as we saw with the insertion of the <code>static</code> keyword in front of the size variable! In the future, I will always test various alternatives on various compilers when writing really tight and hot loops that are crucial for system performance.</p>\n\n<p>The interesting thing is also that the performance difference is still so high although I have already unrolled the loop four times. So even if you unroll, you can still get hit by major performance deviations. Quite interesting.</p>", "language": "cpp", "question_id": 25078285, "title": "Replacing a 32-bit loop counter with 64-bit introduces crazy performance deviations with _mm_popcnt_u64 on Intel CPUs", "segments": [{"type": "CODE", "text": "#include <iostream>\n#include <chrono>\n#include <x86intrin.h>\n\nint main(int argc, char* argv[]) {\n\n    using namespace std;\n    if (argc != 2) {\n       cerr << \"usage: array_size in MB\" << endl;\n       return -1;\n    }\n\n    uint64_t size = atol(argv[1])<<20;\n    uint64_t* buffer = new uint64_t[size/8];\n    char* charbuffer = reinterpret_cast<char*>(buffer);\n    for (unsigned i=0; i<size; ++i)\n        charbuffer[i] = rand()%256;\n\n    uint64_t count,duration;\n    chrono::time_point<chrono::system_clock> startP,endP;\n    {\n        startP = chrono::system_clock::now();\n        count = 0;\n        for( unsigned k = 0; k < 10000; k++){\n            // Tight unrolled loop with unsigned\n            for (unsigned i=0; i<size/8; i+=4) {\n                count += _mm_popcnt_u64(buffer[i]);\n                count += _mm_popcnt_u64(buffer[i+1]);\n                count += _mm_popcnt_u64(buffer[i+2]);\n                count += _mm_popcnt_u64(buffer[i+3]);\n            }\n        }\n        endP = chrono::system_clock::now();\n        duration = chrono::duration_cast<std::chrono::nanoseconds>(endP-startP).count();\n        cout << \"unsigned\\t\" << count << '\\t' << (duration/1.0E9) << \" sec \\t\"\n             << (10000.0*size)/(duration) << \" GB/s\" << endl;\n    }\n    {\n        startP = chrono::system_clock::now();\n        count=0;\n        for( unsigned k = 0; k < 10000; k++){\n            // Tight unrolled loop with uint64_t\n            for (uint64_t i=0;i<size/8;i+=4) {\n                count += _mm_popcnt_u64(buffer[i]);\n                count += _mm_popcnt_u64(buffer[i+1]);\n                count += _mm_popcnt_u64(buffer[i+2]);\n                count += _mm_popcnt_u64(buffer[i+3]);\n            }\n        }\n        endP = chrono::system_clock::now();\n        duration = chrono::duration_cast<std::chrono::nanoseconds>(endP-startP).count();\n        cout << \"uint64_t\\t\"  << count << '\\t' << (duration/1.0E9) << \" sec \\t\"\n             << (10000.0*size)/(duration) << \" GB/s\" << endl;\n    }\n\n    free(charbuffer);\n}"}, {"type": "CODE", "text": "g++ -O3 -march=native -std=c++11 test.cpp -o test"}, {"type": "CODE", "text": "test 1"}, {"type": "CODE", "text": "clang++ -O3 -march=native -std=c++11 teest.cpp -o test"}, {"type": "CODE", "text": "uint64_t size = atol(argv[1]) << 20;"}, {"type": "CODE", "text": "uint64_t size = 1 << 20;"}, {"type": "CODE", "text": "20 GB/s"}, {"type": "CODE", "text": "static uint64_t size=atol(argv[1])<<20;"}, {"type": "CODE", "text": "0x400af8:\nlea 0x1(%rdx),%eax\npopcnt (%rbx,%rax,8),%r9\nlea 0x2(%rdx),%edi\npopcnt (%rbx,%rcx,8),%rax\nlea 0x3(%rdx),%esi\nadd %r9,%rax\npopcnt (%rbx,%rdi,8),%rcx\nadd $0x4,%edx\nadd %rcx,%rax\npopcnt (%rbx,%rsi,8),%rcx\nadd %rcx,%rax\nmov %edx,%ecx\nadd %rax,%r14\ncmp %rbp,%rcx\njb 0x400af8"}, {"type": "CODE", "text": "0x400c00:\npopcnt 0x8(%rbx,%rdx,8),%rcx\npopcnt (%rbx,%rdx,8),%rax\nadd %rcx,%rax\npopcnt 0x10(%rbx,%rdx,8),%rcx\nadd %rcx,%rax\npopcnt 0x18(%rbx,%rdx,8),%rcx\nadd $0x4,%rdx\nadd %rcx,%rax\nadd %rax,%r12\ncmp %rbp,%rdx\njb 0x400c00"}, {"type": "CODE", "text": "0x400e50:\npopcnt (%r15,%rcx,8),%rdx\nadd %rbx,%rdx\npopcnt 0x8(%r15,%rcx,8),%rsi\nadd %rdx,%rsi\npopcnt 0x10(%r15,%rcx,8),%rdx\nadd %rsi,%rdx\npopcnt 0x18(%r15,%rcx,8),%rbx\nadd %rdx,%rbx\nadd $0x4,%rcx\ncmp %rbp,%rcx\njb 0x400e50"}, {"type": "CODE", "text": "0x400a68:\npopcnt (%rbx,%rdx,1),%rax\npopcnt 0x8(%rbx,%rdx,1),%rcx\nadd %rax,%rcx\npopcnt 0x10(%rbx,%rdx,1),%rax\nadd %rax,%rcx\npopcnt 0x18(%rbx,%rdx,1),%rsi\nadd $0x20,%rdx\nadd %rsi,%rcx\nadd %rcx,%rbp\ncmp $0x100000,%rdx\njne 0x400a68"}, {"type": "CODE", "text": "0x400dd0:\npopcnt (%r14,%rcx,8),%rdx\nadd %rbx,%rdx\npopcnt 0x8(%r14,%rcx,8),%rsi\nadd %rdx,%rsi\npopcnt 0x10(%r14,%rcx,8),%rdx\nadd %rsi,%rdx\npopcnt 0x18(%r14,%rcx,8),%rbx\nadd %rdx,%rbx\nadd $0x4,%rcx\ncmp $0x20000,%rcx\njb 0x400dd0"}, {"type": "TEXT", "text": "I was looking for the fastest way to"}, {"type": "TEXT", "text": "popcount"}, {"type": "TEXT", "text": "large arrays of data. I encountered a"}, {"type": "TEXT", "text": "very weird"}, {"type": "TEXT", "text": "effect: Changing the loop variable from"}, {"type": "TEXT", "text": "made the performance drop by 50% on my PC."}, {"type": "TEXT", "text": "The Benchmark"}, {"type": "TEXT", "text": "As you see, we create a buffer of random data, with the size being"}, {"type": "TEXT", "text": "megabytes where"}, {"type": "TEXT", "text": "is read from the command line. Afterwards, we iterate over the buffer and use an unrolled version of the x86"}, {"type": "TEXT", "text": "popcount"}, {"type": "TEXT", "text": "intrinsic to perform the popcount. To get a more precise result, we do the popcount 10,000 times. We measure the times for the popcount. In the upper case, the inner loop variable is"}, {"type": "TEXT", "text": ", in the lower case, the inner loop variable is"}, {"type": "TEXT", "text": ". I thought that this should make no difference, but the opposite is the case."}, {"type": "TEXT", "text": "The (absolutely crazy) results"}, {"type": "TEXT", "text": "I compile it like this (g++ version: Ubuntu 4.8.2-19ubuntu1):"}, {"type": "TEXT", "text": "Here are the results on my"}, {"type": "TEXT", "text": "Haswell"}, {"type": "TEXT", "text": "Core i7-4770K"}, {"type": "TEXT", "text": "CPU @ 3.50GHz, running"}, {"type": "TEXT", "text": "(so 1MB random data):"}, {"type": "TEXT", "text": "unsigned  41959360000  0.401554 sec"}, {"type": "TEXT", "text": "26.113GB/s"}, {"type": "TEXT", "text": "uint64_t  41959360000  0.759822 sec"}, {"type": "TEXT", "text": "13.8003GB/s"}, {"type": "TEXT", "text": "As you see, the throughput of the"}, {"type": "TEXT", "text": "version is"}, {"type": "TEXT", "text": "only half"}, {"type": "TEXT", "text": "the one of the"}, {"type": "TEXT", "text": "version! The problem seems to be that different assembly gets generated, but why? First, I thought of a compiler bug, so I tried"}, {"type": "TEXT", "text": "(Ubuntu"}, {"type": "TEXT", "text": "Clang"}, {"type": "TEXT", "text": "version 3.4-1ubuntu3):"}, {"type": "TEXT", "text": "Result:"}, {"type": "TEXT", "text": "unsigned  41959360000  0.398293 sec"}, {"type": "TEXT", "text": "26.3267 GB/s"}, {"type": "TEXT", "text": "uint64_t  41959360000  0.680954 sec"}, {"type": "TEXT", "text": "15.3986 GB/s"}, {"type": "TEXT", "text": "So, it is almost the same result and is still strange."}, {"type": "TEXT", "text": "But now it gets super strange."}, {"type": "TEXT", "text": "I replace the buffer size that was read from input with a constant"}, {"type": "TEXT", "text": ", so I change:"}, {"type": "TEXT", "text": "Thus, the compiler now knows the buffer size at compile time. Maybe it can add some optimizations! Here are the numbers for"}, {"type": "TEXT", "text": "unsigned  41959360000  0.509156 sec"}, {"type": "TEXT", "text": "20.5944GB/s"}, {"type": "TEXT", "text": "uint64_t  41959360000  0.508673 sec"}, {"type": "TEXT", "text": "20.6139GB/s"}, {"type": "TEXT", "text": "Now, both versions are equally fast. However, the"}, {"type": "TEXT", "text": "got even slower"}, {"type": "TEXT", "text": "! It dropped from"}, {"type": "TEXT", "text": "26"}, {"type": "TEXT", "text": ", thus replacing a non-constant by a constant value lead to a"}, {"type": "TEXT", "text": "deoptimization"}, {"type": "TEXT", "text": ". Seriously, I have no clue what is going on here! But now to"}, {"type": "TEXT", "text": "with the new version:"}, {"type": "TEXT", "text": "unsigned  41959360000  0.677009 sec"}, {"type": "TEXT", "text": "15.4884GB/s"}, {"type": "TEXT", "text": "uint64_t  41959360000  0.676909 sec"}, {"type": "TEXT", "text": "15.4906GB/s"}, {"type": "TEXT", "text": "Wait, what?"}, {"type": "TEXT", "text": "Now, both versions dropped to the"}, {"type": "TEXT", "text": "slow"}, {"type": "TEXT", "text": "number of 15GB/s. Thus, replacing a non-constant by a constant value even lead to slow code in"}, {"type": "TEXT", "text": "both"}, {"type": "TEXT", "text": "cases for Clang!"}, {"type": "TEXT", "text": "I asked a colleague with an"}, {"type": "TEXT", "text": "Ivy Bridge"}, {"type": "TEXT", "text": "CPU to compile my benchmark. He got similar results, so it does not seem to be Haswell. Because two compilers produce strange results here, it also does not seem to be a compiler bug. We do not have an AMD CPU here, so we could only test with Intel."}, {"type": "TEXT", "text": "More madness, please!"}, {"type": "TEXT", "text": "Take the first example (the one with"}, {"type": "TEXT", "text": ") and put a"}, {"type": "TEXT", "text": "before the variable, i.e.:"}, {"type": "TEXT", "text": "Here are my results in g++:"}, {"type": "TEXT", "text": "unsigned  41959360000  0.396728 sec"}, {"type": "TEXT", "text": "26.4306 GB/s"}, {"type": "TEXT", "text": "uint64_t  41959360000  0.509484 sec"}, {"type": "TEXT", "text": "20.5811 GB/s"}, {"type": "TEXT", "text": "Yay, yet another alternative"}, {"type": "TEXT", "text": ". We still have the fast 26GB/s with"}, {"type": "TEXT", "text": "u32"}, {"type": "TEXT", "text": ", but we managed to get"}, {"type": "TEXT", "text": "at least from the 13GB/s to the 20GB/s version!"}, {"type": "TEXT", "text": "On my collegue's PC, the"}, {"type": "TEXT", "text": "version became even faster than the"}, {"type": "TEXT", "text": "u32"}, {"type": "TEXT", "text": "version, yielding the fastest result of all."}, {"type": "TEXT", "text": "Sadly, this only works for"}, {"type": "TEXT", "text": "does not seem to care about"}, {"type": "TEXT", "text": "My question"}, {"type": "TEXT", "text": "Can you explain these results? Especially:"}, {"type": "TEXT", "text": "How can there be such a difference between"}, {"type": "TEXT", "text": "u32"}, {"type": "TEXT", "text": "?"}, {"type": "TEXT", "text": "How can replacing a non-constant by a constant buffer size trigger"}, {"type": "TEXT", "text": "less optimal code"}, {"type": "TEXT", "text": "?"}, {"type": "TEXT", "text": "How can the insertion of the"}, {"type": "TEXT", "text": "keyword make the"}, {"type": "TEXT", "text": "loop faster? Even faster than the original code on my collegue's computer!"}, {"type": "TEXT", "text": "I know that optimization is a tricky territory, however, I never thought that such small changes can lead to a"}, {"type": "TEXT", "text": "100% difference"}, {"type": "TEXT", "text": "in execution time and that small factors like a constant buffer size can again mix results totally. Of course, I always want to have the version that is able to popcount 26GB/s. The only reliable way I can think of is copy paste the assembly for this case and use inline assembly. This is the only way I can get rid of compilers that seem to go mad on small changes. What do you think? Is there another way to reliably get the code with most performance?"}, {"type": "TEXT", "text": "The Disassembly"}, {"type": "TEXT", "text": "Here is the disassembly for the various results:"}, {"type": "TEXT", "text": "26GB/s version from"}, {"type": "TEXT", "text": "g++ / u32 / non-const bufsize"}, {"type": "TEXT", "text": "13GB/s version from"}, {"type": "TEXT", "text": "g++ / u64 / non-const bufsize"}, {"type": "TEXT", "text": "15GB/s version from"}, {"type": "TEXT", "text": "clang++ / u64 / non-const bufsize"}, {"type": "TEXT", "text": "20GB/s version from"}, {"type": "TEXT", "text": "g++ / u32&u64 / const bufsize"}, {"type": "TEXT", "text": "15GB/s version from"}, {"type": "TEXT", "text": "clang++ / u32&u64 / const bufsize"}, {"type": "TEXT", "text": "Interestingly, the fastest (26GB/s) version is also the longest! It seems to be the only solution that uses"}, {"type": "TEXT", "text": ". Some versions use"}, {"type": "TEXT", "text": "to jump, others use"}, {"type": "TEXT", "text": ". But apart from that, all versions seem to be comparable. I don't see where a 100% performance gap could originate from, but I am not too adept at deciphering assembly. The slowest (13GB/s) version looks even very short and good. Can anyone explain this?"}, {"type": "TEXT", "text": "Lessons learned"}, {"type": "TEXT", "text": "No matter what the answer to this question will be; I have learned that in really hot loops"}, {"type": "TEXT", "text": "every"}, {"type": "TEXT", "text": "detail can matter,"}, {"type": "TEXT", "text": "even details that do not seem to have any association to the hot code"}, {"type": "TEXT", "text": ". I have never thought about what type to use for a loop variable, but as you see such a minor change can make a"}, {"type": "TEXT", "text": "100%"}, {"type": "TEXT", "text": "difference! Even the storage type of a buffer can make a huge difference, as we saw with the insertion of the"}, {"type": "TEXT", "text": "keyword in front of the size variable! In the future, I will always test various alternatives on various compilers when writing really tight and hot loops that are crucial for system performance."}, {"type": "TEXT", "text": "The interesting thing is also that the performance difference is still so high although I have already unrolled the loop four times. So even if you unroll, you can still get hit by major performance deviations. Quite interesting."}]}
{"raw_content": "<p>We are compiling an embedded C++ application that is deployed in a shielded device in an environment bombarded with <a href=\"https://en.wikipedia.org/wiki/Ionizing_radiation\" rel=\"noreferrer\">ionizing radiation</a>. We are using GCC and cross-compiling for ARM. When deployed, our application generates some erroneous data and crashes more often than we would like. The hardware is designed for this environment, and our application has run on this platform for several years.</p>\n<p>Are there changes we can make to our code, or compile-time improvements that can be made to identify/correct <a href=\"https://en.wikipedia.org/wiki/Soft_error\" rel=\"noreferrer\">soft errors</a> and memory-corruption caused by <a href=\"https://en.wikipedia.org/wiki/Single_event_upset\" rel=\"noreferrer\">single event upsets</a>? Have any other developers had success in reducing the harmful effects of soft errors on a long-running application?</p>", "language": "cpp", "question_id": 36827659, "title": "Compiling an application for use in highly radioactive environments", "segments": [{"type": "TEXT", "text": "We are compiling an embedded C++ application that is deployed in a shielded device in an environment bombarded with"}, {"type": "TEXT", "text": "ionizing radiation"}, {"type": "TEXT", "text": ". We are using GCC and cross-compiling for ARM. When deployed, our application generates some erroneous data and crashes more often than we would like. The hardware is designed for this environment, and our application has run on this platform for several years."}, {"type": "TEXT", "text": "Are there changes we can make to our code, or compile-time improvements that can be made to identify/correct"}, {"type": "TEXT", "text": "soft errors"}, {"type": "TEXT", "text": "and memory-corruption caused by"}, {"type": "TEXT", "text": "single event upsets"}, {"type": "TEXT", "text": "? Have any other developers had success in reducing the harmful effects of soft errors on a long-running application?"}]}
{"raw_content": "<p>I am the developer of some family tree software (written in C++ and Qt). I had no problems until one of my customers mailed me a bug report. The problem is that the customer has two children with their own daughter, and, as a result, he can't use my software because of errors.</p>\n\n<p>Those errors are the result of my various assertions and invariants about the family graph being processed (for example, after walking a cycle, the program states that X can't be both father and grandfather of Y).</p>\n\n<p>How can I resolve those errors without removing all data assertions?</p>", "language": "cpp", "question_id": 6163683, "title": "Cycles in family tree software", "segments": [{"type": "TEXT", "text": "I am the developer of some family tree software (written in C++ and Qt). I had no problems until one of my customers mailed me a bug report. The problem is that the customer has two children with their own daughter, and, as a result, he can't use my software because of errors."}, {"type": "TEXT", "text": "Those errors are the result of my various assertions and invariants about the family graph being processed (for example, after walking a cycle, the program states that X can't be both father and grandfather of Y)."}, {"type": "TEXT", "text": "How can I resolve those errors without removing all data assertions?"}]}
{"raw_content": "<p>In templates, where and why do I have to put <code>typename</code> and <code>template</code> on dependent names?<br />\nWhat exactly are dependent names anyway?</p>\n<p>I have the following code:</p>\n<pre><code>template &lt;typename T, typename Tail&gt; // Tail will be a UnionNode too.\nstruct UnionNode : public Tail {\n    // ...\n    template&lt;typename U&gt; struct inUnion {\n        // Q: where to add typename/template here?\n        typedef Tail::inUnion&lt;U&gt; dummy; \n    };\n    template&lt; &gt; struct inUnion&lt;T&gt; { };\n};\ntemplate &lt;typename T&gt; // For the last node Tn.\nstruct UnionNode&lt;T, void&gt; {\n    // ...\n    template&lt;typename U&gt; struct inUnion; // intentionally not defined\n    template&lt; &gt; struct inUnion&lt;T&gt; { };   // specialization only for T\n};\n</code></pre>\n<p>The problem I have is in the <code>typedef Tail::inUnion&lt;U&gt; dummy</code> line. I'm fairly certain that <code>inUnion</code> is a dependent name, and VC++ is quite right in choking on it.</p>\n<p>I also know that I should be able to add <code>template</code> somewhere to tell the compiler that <code>inUnion</code> is a <em>template-id</em>, but where exactly? Should it then assume that <code>inUnion</code> is a class template, i.e. <code>inUnion&lt;U&gt;</code> names a type and not a function?</p>", "language": "cpp", "question_id": 610245, "title": "Where and why do I have to put the &quot;template&quot; and &quot;typename&quot; keywords?", "segments": [{"type": "CODE", "text": "template <typename T, typename Tail> // Tail will be a UnionNode too.\nstruct UnionNode : public Tail {\n    // ...\n    template<typename U> struct inUnion {\n        // Q: where to add typename/template here?\n        typedef Tail::inUnion<U> dummy; \n    };\n    template< > struct inUnion<T> { };\n};\ntemplate <typename T> // For the last node Tn.\nstruct UnionNode<T, void> {\n    // ...\n    template<typename U> struct inUnion; // intentionally not defined\n    template< > struct inUnion<T> { };   // specialization only for T\n};"}, {"type": "CODE", "text": "typedef Tail::inUnion<U> dummy"}, {"type": "TEXT", "text": "In templates, where and why do I have to put"}, {"type": "TEXT", "text": "and"}, {"type": "TEXT", "text": "on dependent names?"}, {"type": "TEXT", "text": "What exactly are dependent names anyway?"}, {"type": "TEXT", "text": "I have the following code:"}, {"type": "TEXT", "text": "The problem I have is in the"}, {"type": "TEXT", "text": "line. I'm fairly certain that"}, {"type": "TEXT", "text": "is a dependent name, and VC++ is quite right in choking on it."}, {"type": "TEXT", "text": "I also know that I should be able to add"}, {"type": "TEXT", "text": "somewhere to tell the compiler that"}, {"type": "TEXT", "text": "is a"}, {"type": "TEXT", "text": "template-id"}, {"type": "TEXT", "text": ", but where exactly? Should it then assume that"}, {"type": "TEXT", "text": "is a class template, i.e."}, {"type": "TEXT", "text": "names a type and not a function?"}]}
{"raw_content": "<p>I know that in C++11 we can now use <code>using</code> to write type alias, like <code>typedef</code>s:</p>\n<pre><code>typedef int MyInt;\n</code></pre>\n<p>Is, from what I understand, equivalent to:</p>\n<pre><code>using MyInt = int;\n</code></pre>\n<p>And that new syntax emerged from the effort to have a way to express &quot;template typedef&quot;:</p>\n<pre><code>template&lt; class T &gt; using MyType = AnotherType&lt; T, MyAllocatorType &gt;;\n</code></pre>\n<p>But, with the first two non-template examples, are there any other subtle differences in the standard? For example, <code>typedef</code>s do aliasing in a &quot;weak&quot; way. That is it does not create a new type but only a new name (conversions are implicit between those names).</p>\n<p>Is it the same with <code>using</code> or does it generate a new type? Are there any differences?</p>", "language": "cpp", "question_id": 10747810, "title": "What is the difference between &#39;typedef&#39; and &#39;using&#39;?", "segments": [{"type": "CODE", "text": "typedef int MyInt;"}, {"type": "CODE", "text": "using MyInt = int;"}, {"type": "CODE", "text": "template< class T > using MyType = AnotherType< T, MyAllocatorType >;"}, {"type": "TEXT", "text": "I know that in C++11 we can now use"}, {"type": "TEXT", "text": "to write type alias, like"}, {"type": "TEXT", "text": "s:"}, {"type": "TEXT", "text": "Is, from what I understand, equivalent to:"}, {"type": "TEXT", "text": "And that new syntax emerged from the effort to have a way to express \"template typedef\":"}, {"type": "TEXT", "text": "But, with the first two non-template examples, are there any other subtle differences in the standard? For example,"}, {"type": "TEXT", "text": "s do aliasing in a \"weak\" way. That is it does not create a new type but only a new name (conversions are implicit between those names)."}, {"type": "TEXT", "text": "Is it the same with"}, {"type": "TEXT", "text": "or does it generate a new type? Are there any differences?"}]}
{"raw_content": "<p>In what scenarios is it better to use a <code>struct</code> vs a <code>class</code> in C++?</p>", "language": "cpp", "question_id": 54585, "title": "When should you use a class vs a struct in C++?", "segments": [{"type": "TEXT", "text": "In what scenarios is it better to use a"}, {"type": "TEXT", "text": "struct"}, {"type": "TEXT", "text": "vs a"}, {"type": "TEXT", "text": "class"}, {"type": "TEXT", "text": "in C++?"}]}
{"raw_content": "<p>What is the difference between <code>public</code>, <code>private</code>, and <code>protected</code> inheritance in C++?</p>", "language": "cpp", "question_id": 860339, "title": "What is the difference between public, private, and protected inheritance?", "segments": [{"type": "TEXT", "text": "What is the difference between"}, {"type": "TEXT", "text": "public"}, {"type": "TEXT", "text": ","}, {"type": "TEXT", "text": "private"}, {"type": "TEXT", "text": ", and"}, {"type": "TEXT", "text": "protected"}, {"type": "TEXT", "text": "inheritance in C++?"}]}
{"raw_content": "<p>What are the differences between these two, and which one should I use?</p>\n<pre><code>string s = &quot;Hello world!&quot;;\nString s = &quot;Hello world!&quot;;\n</code></pre>", "language": "csharp", "question_id": 7074, "title": "What is the difference between String and string in C#?", "segments": [{"type": "CODE", "text": "string s = \"Hello world!\";\nString s = \"Hello world!\";"}, {"type": "TEXT", "text": "What are the differences between these two, and which one should I use?"}]}
{"raw_content": "<p>How can you enumerate an <code>enum</code> in C#?</p>\n<p>E.g., the following code does not compile:</p>\n<pre class=\"lang-cs prettyprint-override\"><code>public enum Suit\n{\n    Spades,\n    Hearts,\n    Clubs,\n    Diamonds\n}\n\npublic void EnumerateAllSuitsDemoMethod()\n{\n    foreach (Suit suit in Suit)\n    {\n        DoSomething(suit);\n    }\n}\n</code></pre>\n<p>And it gives the following compile-time error:</p>\n<blockquote>\n<p>'Suit' is a 'type' but is used like a 'variable'</p>\n</blockquote>\n<p>It fails on the <code>Suit</code> keyword, the second one.</p>", "language": "csharp", "question_id": 105372, "title": "How can I enumerate an enum?", "segments": [{"type": "CODE", "text": "public enum Suit\n{\n    Spades,\n    Hearts,\n    Clubs,\n    Diamonds\n}\n\npublic void EnumerateAllSuitsDemoMethod()\n{\n    foreach (Suit suit in Suit)\n    {\n        DoSomething(suit);\n    }\n}"}, {"type": "TEXT", "text": "How can you enumerate an"}, {"type": "TEXT", "text": "in C#?"}, {"type": "TEXT", "text": "E.g., the following code does not compile:"}, {"type": "TEXT", "text": "And it gives the following compile-time error:"}, {"type": "TEXT", "text": "'Suit' is a 'type' but is used like a 'variable'"}, {"type": "TEXT", "text": "It fails on the"}, {"type": "TEXT", "text": "keyword, the second one."}]}
{"raw_content": "<p>How do I cast an <code>int</code> to an <code>enum</code> in C#?</p>", "language": "csharp", "question_id": 29482, "title": "How do I cast int to enum in C#?", "segments": [{"type": "TEXT", "text": "How do I cast an"}, {"type": "TEXT", "text": "int"}, {"type": "TEXT", "text": "to an"}, {"type": "TEXT", "text": "enum"}, {"type": "TEXT", "text": "in C#?"}]}
{"raw_content": "<p>Is there a way to make the following return true?</p>\n<pre><code>string title = &quot;ASTRINGTOTEST&quot;;\ntitle.Contains(&quot;string&quot;);\n</code></pre>\n<p>There doesn't seem to be an overload that allows me to set the case sensitivity. Currently I UPPERCASE them both, but that's just silly (by which I am referring to the <a href=\"http://en.wikipedia.org/wiki/Internationalization_and_localization\" rel=\"noreferrer\">i18n</a> issues that come with up- and down casing).</p>\n<p><strong>UPDATE</strong></p>\n<p>This question is ancient and since then I have realized I asked for a simple answer for a really vast and difficult topic if you care to investigate it fully.</p>\n<p>For most cases, in mono-lingual, English code bases <a href=\"https://stackoverflow.com/a/444818/11333\">this</a> answer will suffice. I'm suspecting because most people coming here fall in this category this is the most popular answer.</p>\n<p><a href=\"https://stackoverflow.com/a/15464440/11333\">This</a> answer however brings up the inherent problem that we can't compare text case insensitive until we know both texts are the same culture and we know  what that culture is. This is maybe a less popular answer, but I think it is more correct and that's why I marked it as such.</p>", "language": "csharp", "question_id": 444798, "title": "Case insensitive &#39;Contains(string)&#39;", "segments": [{"type": "CODE", "text": "string title = \"ASTRINGTOTEST\";\ntitle.Contains(\"string\");"}, {"type": "TEXT", "text": "Is there a way to make the following return true?"}, {"type": "TEXT", "text": "There doesn't seem to be an overload that allows me to set the case sensitivity. Currently I UPPERCASE them both, but that's just silly (by which I am referring to the"}, {"type": "TEXT", "text": "i18n"}, {"type": "TEXT", "text": "issues that come with up- and down casing)."}, {"type": "TEXT", "text": "UPDATE"}, {"type": "TEXT", "text": "This question is ancient and since then I have realized I asked for a simple answer for a really vast and difficult topic if you care to investigate it fully."}, {"type": "TEXT", "text": "For most cases, in mono-lingual, English code bases"}, {"type": "TEXT", "text": "this"}, {"type": "TEXT", "text": "answer will suffice. I'm suspecting because most people coming here fall in this category this is the most popular answer."}, {"type": "TEXT", "text": "This"}, {"type": "TEXT", "text": "answer however brings up the inherent problem that we can't compare text case insensitive until we know both texts are the same culture and we know  what that culture is. This is maybe a less popular answer, but I think it is more correct and that's why I marked it as such."}]}
{"raw_content": "<p>I've seen a few different ways to iterate over a dictionary in C#.  Is there a standard way?</p>", "language": "csharp", "question_id": 141088, "title": "How to iterate over a dictionary?", "segments": [{"type": "TEXT", "text": "I've seen a few different ways to iterate over a dictionary in C#.  Is there a standard way?"}]}
{"raw_content": "<p>What are the correct version numbers for C#? What came out when? Why can't I find any answers about <strong><em>C# 3.5</em></strong>?</p>\n\n<p>This question is primarily to aid those who are searching for an answer using an incorrect version number, e.g. <strong><em>C# 3.5</em></strong>. The hope is that anyone failing to find an answer with the wrong version number will find <em>this</em> question and then search again with the right version number.</p>", "language": "csharp", "question_id": 247621, "title": "What are the correct version numbers for C#?", "segments": [{"type": "TEXT", "text": "What are the correct version numbers for C#? What came out when? Why can't I find any answers about"}, {"type": "TEXT", "text": "C# 3.5"}, {"type": "TEXT", "text": "?"}, {"type": "TEXT", "text": "This question is primarily to aid those who are searching for an answer using an incorrect version number, e.g."}, {"type": "TEXT", "text": "C# 3.5"}, {"type": "TEXT", "text": ". The hope is that anyone failing to find an answer with the wrong version number will find"}, {"type": "TEXT", "text": "this"}, {"type": "TEXT", "text": "question and then search again with the right version number."}]}
{"raw_content": "<p>I want to do something like:</p>\n\n<pre><code>MyObject myObj = GetMyObj(); // Create and fill a new object\nMyObject newObj = myObj.Clone();\n</code></pre>\n\n<p>And then make changes to the new object that are not reflected in the original object.</p>\n\n<p>I don't often need this functionality, so when it's been necessary, I've resorted to creating a new object and then copying each property individually, but it always leaves me with the feeling that there is a better or more elegant way of handling the situation.</p>\n\n<p>How can I clone or deep copy an object so that the cloned object can be modified without any changes being reflected in the original object?</p>", "language": "csharp", "question_id": 78536, "title": "Deep cloning objects", "segments": [{"type": "CODE", "text": "MyObject myObj = GetMyObj(); // Create and fill a new object\nMyObject newObj = myObj.Clone();"}, {"type": "TEXT", "text": "I want to do something like:"}, {"type": "TEXT", "text": "And then make changes to the new object that are not reflected in the original object."}, {"type": "TEXT", "text": "I don't often need this functionality, so when it's been necessary, I've resorted to creating a new object and then copying each property individually, but it always leaves me with the feeling that there is a better or more elegant way of handling the situation."}, {"type": "TEXT", "text": "How can I clone or deep copy an object so that the cloned object can be modified without any changes being reflected in the original object?"}]}
{"raw_content": "<p>It is discouraged to catch <code>System.Exception</code> errors. Instead, only the &quot;known&quot; exceptions should be caught.</p>\n<p>This sometimes leads to unnecessary repetitive code, for example:</p>\n<pre><code>try\n{\n    WebId = new Guid(queryString[&quot;web&quot;]);\n}\ncatch (FormatException)\n{\n    WebId = Guid.Empty;\n}\ncatch (OverflowException)\n{\n    WebId = Guid.Empty;\n}\n</code></pre>\n<p>Is there a way to catch both exceptions and only set <code>WebId = Guid.Empty</code> once?</p>\n<p>The given example is rather simple, as it's only a <a href=\"http://en.wikipedia.org/wiki/Globally_unique_identifier\" rel=\"noreferrer\"><code>GUID</code></a>, but imagine code where you modify an object multiple times, and if one of the manipulations fails as expected, you want to &quot;reset&quot; the object. However, if there is an unexpected exception, I still want to throw that higher.</p>", "language": "csharp", "question_id": 136035, "title": "Catch multiple exceptions at once?", "segments": [{"type": "CODE", "text": "try\n{\n    WebId = new Guid(queryString[\"web\"]);\n}\ncatch (FormatException)\n{\n    WebId = Guid.Empty;\n}\ncatch (OverflowException)\n{\n    WebId = Guid.Empty;\n}"}, {"type": "CODE", "text": "WebId = Guid.Empty"}, {"type": "TEXT", "text": "It is discouraged to catch"}, {"type": "TEXT", "text": "System.Exception"}, {"type": "TEXT", "text": "errors. Instead, only the \"known\" exceptions should be caught."}, {"type": "TEXT", "text": "This sometimes leads to unnecessary repetitive code, for example:"}, {"type": "TEXT", "text": "Is there a way to catch both exceptions and only set"}, {"type": "TEXT", "text": "once?"}, {"type": "TEXT", "text": "The given example is rather simple, as it's only a"}, {"type": "TEXT", "text": "GUID"}, {"type": "TEXT", "text": ", but imagine code where you modify an object multiple times, and if one of the manipulations fails as expected, you want to \"reset\" the object. However, if there is an unexpected exception, I still want to throw that higher."}]}
{"raw_content": "<p>How do I generate a random integer in C#?</p>", "language": "csharp", "question_id": 2706500, "title": "How do I generate a random integer in C#?", "segments": [{"type": "TEXT", "text": "How do I generate a random integer in C#?"}]}
{"raw_content": "<p>I have been running <a href=\"http://en.wikipedia.org/wiki/StyleCop\" rel=\"noreferrer\">StyleCop</a> over some C# code, and it keeps reporting that my <code>using</code> directives should be inside the namespace.</p>\n\n<p>Is there a technical reason for putting the <code>using</code> directives inside instead of outside the namespace?</p>", "language": "csharp", "question_id": 125319, "title": "Should &#39;using&#39; directives be inside or outside the namespace in C#?", "segments": [{"type": "TEXT", "text": "I have been running"}, {"type": "TEXT", "text": "StyleCop"}, {"type": "TEXT", "text": "over some C# code, and it keeps reporting that my"}, {"type": "TEXT", "text": "using"}, {"type": "TEXT", "text": "directives should be inside the namespace."}, {"type": "TEXT", "text": "Is there a technical reason for putting the"}, {"type": "TEXT", "text": "using"}, {"type": "TEXT", "text": "directives inside instead of outside the namespace?"}]}
{"raw_content": "<p>I have a class called <code>Questions</code> (plural). In this class there is an enum called <code>Question</code> (singular) which looks like this.</p>\n\n<pre><code>public enum Question\n{\n    Role = 2,\n    ProjectFunding = 3,\n    TotalEmployee = 4,\n    NumberOfServers = 5,\n    TopBusinessConcern = 6\n}\n</code></pre>\n\n<p>In the <code>Questions</code> class I have a <code>get(int foo)</code> function that returns a <code>Questions</code> object for that <code>foo</code>. Is there an easy way to get the integer value off the enum so I can do something like this <code>Questions.Get(Question.Role)</code>?</p>", "language": "csharp", "question_id": 943398, "title": "Get int value from enum in C#", "segments": [{"type": "CODE", "text": "public enum Question\n{\n    Role = 2,\n    ProjectFunding = 3,\n    TotalEmployee = 4,\n    NumberOfServers = 5,\n    TopBusinessConcern = 6\n}"}, {"type": "CODE", "text": "get(int foo)"}, {"type": "TEXT", "text": "I have a class called"}, {"type": "TEXT", "text": "Questions"}, {"type": "TEXT", "text": "(plural). In this class there is an enum called"}, {"type": "TEXT", "text": "(singular) which looks like this."}, {"type": "TEXT", "text": "In the"}, {"type": "TEXT", "text": "Questions"}, {"type": "TEXT", "text": "class I have a"}, {"type": "TEXT", "text": "function that returns a"}, {"type": "TEXT", "text": "Questions"}, {"type": "TEXT", "text": "object for that"}, {"type": "TEXT", "text": ". Is there an easy way to get the integer value off the enum so I can do something like this"}, {"type": "TEXT", "text": "Questions.Get(Question.Role)"}, {"type": "TEXT", "text": "?"}]}
{"raw_content": "<p>How do I convert a <code>string</code> to a <code>byte[]</code> in .NET (C#) without manually specifying a specific encoding?</p>\n\n<p>I'm going to encrypt the string. I can encrypt it without converting, but I'd still like to know why encoding comes to play here.</p>\n\n<p>Also, why should encoding even be taken into consideration? Can't I simply get what bytes the string has been stored in? Why is there a dependency on character encodings?</p>", "language": "csharp", "question_id": 472906, "title": "How do I get a consistent byte representation of strings in C# without manually specifying an encoding?", "segments": [{"type": "TEXT", "text": "How do I convert a"}, {"type": "TEXT", "text": "string"}, {"type": "TEXT", "text": "to a"}, {"type": "TEXT", "text": "byte[]"}, {"type": "TEXT", "text": "in .NET (C#) without manually specifying a specific encoding?"}, {"type": "TEXT", "text": "I'm going to encrypt the string. I can encrypt it without converting, but I'd still like to know why encoding comes to play here."}, {"type": "TEXT", "text": "Also, why should encoding even be taken into consideration? Can't I simply get what bytes the string has been stored in? Why is there a dependency on character encodings?"}]}
{"raw_content": "<p>How do you give a C# auto-property an initial value?</p>\n\n<p>I either use the constructor, or revert to the old syntax. </p>\n\n<p><strong> Using the Constructor:</strong></p>\n\n<pre><code>class Person \n{\n    public Person()\n    {\n        Name = \"Initial Name\";\n    }\n    public string Name { get; set; }\n}\n</code></pre>\n\n<p><strong>Using normal property syntax</strong>  (with an initial value)</p>\n\n<pre><code>private string name = \"Initial Name\";\npublic string Name \n{\n    get \n    {\n        return name;\n    }\n    set\n    {\n        name = value;\n    }\n}\n</code></pre>\n\n<p>Is there a better way?</p>", "language": "csharp", "question_id": 40730, "title": "What is the best way to give a C# auto-property an initial value?", "segments": [{"type": "CODE", "text": "class Person \n{\n    public Person()\n    {\n        Name = \"Initial Name\";\n    }\n    public string Name { get; set; }\n}"}, {"type": "CODE", "text": "private string name = \"Initial Name\";\npublic string Name \n{\n    get \n    {\n        return name;\n    }\n    set\n    {\n        name = value;\n    }\n}"}, {"type": "TEXT", "text": "How do you give a C# auto-property an initial value?"}, {"type": "TEXT", "text": "I either use the constructor, or revert to the old syntax."}, {"type": "TEXT", "text": "Using the Constructor:"}, {"type": "TEXT", "text": "Using normal property syntax"}, {"type": "TEXT", "text": "(with an initial value)"}, {"type": "TEXT", "text": "Is there a better way?"}]}
{"raw_content": "<p>Given a <code>DateTime</code> representing a person's birthday, how do I calculate their age in years?</p>", "language": "csharp", "question_id": 9, "title": "How do I calculate someone&#39;s age based on a DateTime type birthday?", "segments": [{"type": "TEXT", "text": "Given a"}, {"type": "TEXT", "text": "DateTime"}, {"type": "TEXT", "text": "representing a person's birthday, how do I calculate their age in years?"}]}
{"raw_content": "<p>How can I create an Excel spreadsheet with C# without requiring Excel to be installed on the machine that's running the code?</p>", "language": "csharp", "question_id": 151005, "title": "How do I create an Excel (.XLS and .XLSX) file in C# without installing Microsoft Office?", "segments": [{"type": "TEXT", "text": "How can I create an Excel spreadsheet with C# without requiring Excel to be installed on the machine that's running the code?"}]}
{"raw_content": "<p>I want to implement <a href=\"https://en.wikipedia.org/wiki/Dependency_injection\" rel=\"noreferrer\">dependency injection</a> (DI) in ASP.NET Core. So after adding this code to <strong><code>ConfigureServices</code></strong> method, both ways work.</p>\n<p>What is the difference between the <code>services.AddTransient</code> and <code>service.AddScoped</code> methods in ASP.NET Core?</p>\n<pre><code>public void ConfigureServices(IServiceCollection services)\n{\n    // Add framework services.\n\n    // Add application services.\n    services.AddTransient&lt;IEmailSender, AuthMessageSender&gt;();\n    services.AddScoped&lt;IEmailSender, AuthMessageSender&gt;();\n}\n</code></pre>", "language": "csharp", "question_id": 38138100, "title": "AddTransient, AddScoped and AddSingleton Services Differences", "segments": [{"type": "CODE", "text": "public void ConfigureServices(IServiceCollection services)\n{\n    // Add framework services.\n\n    // Add application services.\n    services.AddTransient<IEmailSender, AuthMessageSender>();\n    services.AddScoped<IEmailSender, AuthMessageSender>();\n}"}, {"type": "TEXT", "text": "I want to implement"}, {"type": "TEXT", "text": "dependency injection"}, {"type": "TEXT", "text": "(DI) in ASP.NET Core. So after adding this code to"}, {"type": "TEXT", "text": "method, both ways work."}, {"type": "TEXT", "text": "What is the difference between the"}, {"type": "TEXT", "text": "and"}, {"type": "TEXT", "text": "service.AddScoped"}, {"type": "TEXT", "text": "methods in ASP.NET Core?"}]}
{"raw_content": "<p>A C# desktop application (on the Visual Studio Express edition) worked, but then it didn't work 5 seconds later.</p>\n<p>I tried the following:</p>\n<ul>\n<li>Ensure debug configuration, debug flag, and full debug information are set on all assemblies.</li>\n<li>Delete all bin and obj folders and all DLL files related to the project from my entire machine.</li>\n<li>Recreate projects causing the problem from scratch.</li>\n<li>Reboot.</li>\n</ul>\n<p>I have two Windows Forms projects in the solution. One of them loads the debug information, one doesn't. They both refer to the assembly I'm trying to get debug information on in exactly the same way in the project file. Any ideas?</p>\n<hr />\n<p>I want to add here, mostly for myself when I come back to review this question, that symbols are not loaded until the assembly is loaded, and the assembly is not loaded until it is needed. If the breakpoint is in a library that is only used in one function in your main assembly, the symbols will not be loaded (and it will show the breakpoint as not being hit) until that function is called.</p>", "language": "csharp", "question_id": 2155930, "title": "How do I remedy &quot;The breakpoint will not currently be hit. No symbols have been loaded for this document.&quot; warning?", "segments": [{"type": "TEXT", "text": "A C# desktop application (on the Visual Studio Express edition) worked, but then it didn't work 5 seconds later."}, {"type": "TEXT", "text": "I tried the following:"}, {"type": "TEXT", "text": "Ensure debug configuration, debug flag, and full debug information are set on all assemblies."}, {"type": "TEXT", "text": "Delete all bin and obj folders and all DLL files related to the project from my entire machine."}, {"type": "TEXT", "text": "Recreate projects causing the problem from scratch."}, {"type": "TEXT", "text": "Reboot."}, {"type": "TEXT", "text": "I have two Windows Forms projects in the solution. One of them loads the debug information, one doesn't. They both refer to the assembly I'm trying to get debug information on in exactly the same way in the project file. Any ideas?"}, {"type": "TEXT", "text": "I want to add here, mostly for myself when I come back to review this question, that symbols are not loaded until the assembly is loaded, and the assembly is not loaded until it is needed. If the breakpoint is in a library that is only used in one function in your main assembly, the symbols will not be loaded (and it will show the breakpoint as not being hit) until that function is called."}]}
{"raw_content": "<p>Ran across this line of code:</p>\n\n<pre><code>FormsAuth = formsAuth ?? new FormsAuthenticationWrapper();\n</code></pre>\n\n<p>What do the two question marks mean, is it some kind of ternary operator?\nIt's hard to look up in Google.</p>", "language": "csharp", "question_id": 446835, "title": "What do two question marks together mean in C#?", "segments": [{"type": "CODE", "text": "FormsAuth = formsAuth ?? new FormsAuthenticationWrapper();"}, {"type": "TEXT", "text": "Ran across this line of code:"}, {"type": "TEXT", "text": "What do the two question marks mean, is it some kind of ternary operator?\nIt's hard to look up in Google."}]}
{"raw_content": "<p>I've seen many people use the following code:</p>\n<pre><code>Type t = typeof(SomeType);\nif (t == typeof(int))\n    // Some code here\n</code></pre>\n<p>But I know you could also do this:</p>\n<pre><code>if (obj1.GetType() == typeof(int))\n    // Some code here\n</code></pre>\n<p>Or this:</p>\n<pre><code>if (obj1 is int)\n    // Some code here\n</code></pre>\n<p>Personally, I feel the last one is the cleanest, but is there something I'm missing? Which one is the best to use, or is it personal preference?</p>", "language": "csharp", "question_id": 983030, "title": "Type Checking: typeof, GetType, or is?", "segments": [{"type": "CODE", "text": "Type t = typeof(SomeType);\nif (t == typeof(int))\n    // Some code here"}, {"type": "CODE", "text": "if (obj1.GetType() == typeof(int))\n    // Some code here"}, {"type": "CODE", "text": "if (obj1 is int)\n    // Some code here"}, {"type": "TEXT", "text": "I've seen many people use the following code:"}, {"type": "TEXT", "text": "But I know you could also do this:"}, {"type": "TEXT", "text": "Or this:"}, {"type": "TEXT", "text": "Personally, I feel the last one is the cleanest, but is there something I'm missing? Which one is the best to use, or is it personal preference?"}]}
{"raw_content": "<p>I know from reading <a href=\"https://learn.microsoft.com/dotnet/api/system.idisposable\" rel=\"noreferrer\">Microsoft documentation</a> that the &quot;primary&quot; use of the <code>IDisposable</code> interface is to clean up unmanaged resources.</p>\n<p>To me, &quot;unmanaged&quot; means things like database connections, sockets, window handles, etc.  But, I've seen code where the <code>Dispose()</code> method is implemented to free <em>managed</em> resources, which seems redundant to me, since the garbage collector should take care of that for you.</p>\n<p>For example:</p>\n<pre class=\"lang-cs prettyprint-override\"><code>public class MyCollection : IDisposable\n{\n    private List&lt;String&gt; _theList = new List&lt;String&gt;();\n    private Dictionary&lt;String, Point&gt; _theDict = new Dictionary&lt;String, Point&gt;();\n\n    // Die, clear it up! (free unmanaged resources)\n    public void Dispose()\n    {\n        _theList.clear();\n        _theDict.clear();\n        _theList = null;\n        _theDict = null;\n    }\n}\n</code></pre>\n<p>My question is, does this make the garbage collector free memory used by <code>MyCollection</code> any faster than it normally would?</p>\n<hr />\n<p><strong>Edit</strong>:  So far people have posted some good examples of using <code>IDisposable</code> to clean up unmanaged resources such as database connections and bitmaps.  But suppose that <code>_theList</code> in the above code contained a million strings, and you wanted to free that memory <em>now</em>, rather than waiting for the garbage collector.  Would the above code accomplish that?</p>", "language": "csharp", "question_id": 538060, "title": "Proper use of the IDisposable interface", "segments": [{"type": "CODE", "text": "public class MyCollection : IDisposable\n{\n    private List<String> _theList = new List<String>();\n    private Dictionary<String, Point> _theDict = new Dictionary<String, Point>();\n\n    // Die, clear it up! (free unmanaged resources)\n    public void Dispose()\n    {\n        _theList.clear();\n        _theDict.clear();\n        _theList = null;\n        _theDict = null;\n    }\n}"}, {"type": "TEXT", "text": "I know from reading"}, {"type": "TEXT", "text": "Microsoft documentation"}, {"type": "TEXT", "text": "that the \"primary\" use of the"}, {"type": "TEXT", "text": "interface is to clean up unmanaged resources."}, {"type": "TEXT", "text": "To me, \"unmanaged\" means things like database connections, sockets, window handles, etc.  But, I've seen code where the"}, {"type": "TEXT", "text": "method is implemented to free"}, {"type": "TEXT", "text": "resources, which seems redundant to me, since the garbage collector should take care of that for you."}, {"type": "TEXT", "text": "For example:"}, {"type": "TEXT", "text": "My question is, does this make the garbage collector free memory used by"}, {"type": "TEXT", "text": "any faster than it normally would?"}, {"type": "TEXT", "text": "Edit"}, {"type": "TEXT", "text": ":  So far people have posted some good examples of using"}, {"type": "TEXT", "text": "to clean up unmanaged resources such as database connections and bitmaps.  But suppose that"}, {"type": "TEXT", "text": "in the above code contained a million strings, and you wanted to free that memory"}, {"type": "TEXT", "text": "now"}, {"type": "TEXT", "text": ", rather than waiting for the garbage collector.  Would the above code accomplish that?"}]}
{"raw_content": "<p>If I inherit from a base class and want to pass something from the constructor of the inherited class to the constructor of the base class, how do I do that?</p>\n\n<p>For example, if I inherit from the Exception class I want to do something like this:</p>\n\n<pre><code>class MyExceptionClass : Exception\n{\n     public MyExceptionClass(string message, string extraInfo)\n     {\n         //This is where it's all falling apart\n         base(message);\n     }\n}\n</code></pre>\n\n<p>Basically what I want is to be able to pass the string message to the base Exception class.</p>", "language": "csharp", "question_id": 12051, "title": "Calling the base constructor in C#", "segments": [{"type": "CODE", "text": "class MyExceptionClass : Exception\n{\n     public MyExceptionClass(string message, string extraInfo)\n     {\n         //This is where it's all falling apart\n         base(message);\n     }\n}"}, {"type": "TEXT", "text": "If I inherit from a base class and want to pass something from the constructor of the inherited class to the constructor of the base class, how do I do that?"}, {"type": "TEXT", "text": "For example, if I inherit from the Exception class I want to do something like this:"}, {"type": "TEXT", "text": "Basically what I want is to be able to pass the string message to the base Exception class."}]}
{"raw_content": "<p>When using lambda expressions or anonymous methods in C#, we have to be wary of the <em>access to modified closure</em> pitfall. For example:</p>\n\n<pre><code>foreach (var s in strings)\n{\n   query = query.Where(i =&gt; i.Prop == s); // access to modified closure\n   ...\n}\n</code></pre>\n\n<p>Due to the modified closure, the above code will cause all of the <code>Where</code> clauses on the query to be based on the final value of <code>s</code>.</p>\n\n<p>As explained <a href=\"http://resnikb.wordpress.com/2009/06/17/c-lambda-and-foreach-variable/\" rel=\"noreferrer\">here</a>, this happens because the <code>s</code> variable declared in <code>foreach</code> loop above is translated like this in the compiler:</p>\n\n<pre><code>string s;\nwhile (enumerator.MoveNext())\n{\n   s = enumerator.Current;\n   ...\n}\n</code></pre>\n\n<p>instead of like this:</p>\n\n<pre><code>while (enumerator.MoveNext())\n{\n   string s;\n   s = enumerator.Current;\n   ...\n}\n</code></pre>\n\n<p>As pointed out <a href=\"https://stackoverflow.com/a/2388644/120955\">here</a>, there are no performance advantages to declaring a variable outside the loop, and under normal circumstances the only reason I can think of for doing this is if you plan to use the variable outside the scope of the loop:</p>\n\n<pre><code>string s;\nwhile (enumerator.MoveNext())\n{\n   s = enumerator.Current;\n   ...\n}\nvar finalString = s;\n</code></pre>\n\n<p>However variables defined in a <code>foreach</code> loop cannot be used outside the loop:</p>\n\n<pre><code>foreach(string s in strings)\n{\n}\nvar finalString = s; // won't work: you're outside the scope.\n</code></pre>\n\n<p>So the compiler declares the variable in a way that makes it highly prone to an error that is often difficult to find and debug, while producing no perceivable benefits.</p>\n\n<p>Is there something you can do with <code>foreach</code> loops this way that you couldn't if they were compiled with an inner-scoped variable, or is this just an arbitrary choice that was made before anonymous methods and lambda expressions were available or common, and which hasn't been revised since then?</p>", "language": "csharp", "question_id": 8898925, "title": "Is there a reason for C#&#39;s reuse of the variable in a foreach?", "segments": [{"type": "CODE", "text": "foreach (var s in strings)\n{\n   query = query.Where(i => i.Prop == s); // access to modified closure\n   ...\n}"}, {"type": "CODE", "text": "string s;\nwhile (enumerator.MoveNext())\n{\n   s = enumerator.Current;\n   ...\n}"}, {"type": "CODE", "text": "while (enumerator.MoveNext())\n{\n   string s;\n   s = enumerator.Current;\n   ...\n}"}, {"type": "CODE", "text": "string s;\nwhile (enumerator.MoveNext())\n{\n   s = enumerator.Current;\n   ...\n}\nvar finalString = s;"}, {"type": "CODE", "text": "foreach(string s in strings)\n{\n}\nvar finalString = s; // won't work: you're outside the scope."}, {"type": "TEXT", "text": "When using lambda expressions or anonymous methods in C#, we have to be wary of the"}, {"type": "TEXT", "text": "pitfall. For example:"}, {"type": "TEXT", "text": "Due to the modified closure, the above code will cause all of the"}, {"type": "TEXT", "text": "clauses on the query to be based on the final value of"}, {"type": "TEXT", "text": "As explained"}, {"type": "TEXT", "text": ", this happens because the"}, {"type": "TEXT", "text": "variable declared in"}, {"type": "TEXT", "text": "loop above is translated like this in the compiler:"}, {"type": "TEXT", "text": "instead of like this:"}, {"type": "TEXT", "text": "As pointed out"}, {"type": "TEXT", "text": ", there are no performance advantages to declaring a variable outside the loop, and under normal circumstances the only reason I can think of for doing this is if you plan to use the variable outside the scope of the loop:"}, {"type": "TEXT", "text": "However variables defined in a"}, {"type": "TEXT", "text": "loop cannot be used outside the loop:"}, {"type": "TEXT", "text": "So the compiler declares the variable in a way that makes it highly prone to an error that is often difficult to find and debug, while producing no perceivable benefits."}, {"type": "TEXT", "text": "Is there something you can do with"}, {"type": "TEXT", "text": "loops this way that you couldn't if they were compiled with an inner-scoped variable, or is this just an arbitrary choice that was made before anonymous methods and lambda expressions were available or common, and which hasn't been revised since then?"}]}
{"raw_content": "<p>I have some code and when it executes, it throws a <code>NullReferenceException</code>, saying:</p>\n\n<blockquote>\n  <p>Object reference not set to an instance of an object.</p>\n</blockquote>\n\n<p>What does this mean, and what can I do to fix this error?</p>", "language": "csharp", "question_id": 4660142, "title": "What is a NullReferenceException, and how do I fix it?", "segments": [{"type": "TEXT", "text": "I have some code and when it executes, it throws a"}, {"type": "TEXT", "text": "NullReferenceException"}, {"type": "TEXT", "text": ", saying:"}, {"type": "TEXT", "text": "Object reference not set to an instance of an object."}, {"type": "TEXT", "text": "What does this mean, and what can I do to fix this error?"}]}
{"raw_content": "<p>From time to time I see an enum like the following:</p>\n\n<pre><code>[Flags]\npublic enum Options \n{\n    None    = 0,\n    Option1 = 1,\n    Option2 = 2,\n    Option3 = 4,\n    Option4 = 8\n}\n</code></pre>\n\n<p>I don't understand what exactly the <code>[Flags]</code> attribute does.</p>\n\n<p>Anyone have a good explanation or example they could post?</p>", "language": "csharp", "question_id": 8447, "title": "What does the [Flags] Enum Attribute mean in C#?", "segments": [{"type": "CODE", "text": "[Flags]\npublic enum Options \n{\n    None    = 0,\n    Option1 = 1,\n    Option2 = 2,\n    Option3 = 4,\n    Option4 = 8\n}"}, {"type": "TEXT", "text": "From time to time I see an enum like the following:"}, {"type": "TEXT", "text": "I don't understand what exactly the"}, {"type": "TEXT", "text": "attribute does."}, {"type": "TEXT", "text": "Anyone have a good explanation or example they could post?"}]}
{"raw_content": "<pre><code>public enum Foos\n{\n    A,\n    B,\n    C\n}\n</code></pre>\n<p>Is there a way to loop through the possible values of <code>Foos</code>?</p>\n<p>Basically?</p>\n<pre><code>foreach(Foo in Foos)\n</code></pre>", "language": "csharp", "question_id": 972307, "title": "How to loop through all enum values in C#?", "segments": [{"type": "CODE", "text": "public enum Foos\n{\n    A,\n    B,\n    C\n}"}, {"type": "CODE", "text": "foreach(Foo in Foos)"}, {"type": "TEXT", "text": "Is there a way to loop through the possible values of"}, {"type": "TEXT", "text": "?"}, {"type": "TEXT", "text": "Basically?"}]}
{"raw_content": "<p>When planning out my programs, I often start with a chain of thought like so:</p>\n\n<blockquote>\n  <p>A football team is just a list of football players. Therefore, I should represent it with:</p>\n\n<pre><code>var football_team = new List&lt;FootballPlayer&gt;();\n</code></pre>\n  \n  <p>The ordering of this list represent the order in which the players are listed in the roster.</p>\n</blockquote>\n\n<p>But I realize later that teams also have other properties, besides the mere list of players, that must be recorded. For example, the running total of scores this season, the current budget, the uniform colors, a <code>string</code> representing the name of the team, etc..</p>\n\n<p>So then I think:</p>\n\n<blockquote>\n  <p>Okay, a football team is just like a list of players, but additionally, it has a name (a <code>string</code>) and a running total of scores (an <code>int</code>). .NET does not provide a class for storing football teams, so I will make my own class. The most similar and relevant existing structure is <code>List&lt;FootballPlayer&gt;</code>, so I will inherit from it:</p>\n\n<pre><code>class FootballTeam : List&lt;FootballPlayer&gt; \n{ \n    public string TeamName; \n    public int RunningTotal \n}\n</code></pre>\n</blockquote>\n\n<p>But it turns out that <a href=\"https://stackoverflow.com/a/5376343/1042555\">a guideline says you shouldn't inherit from <code>List&lt;T&gt;</code></a>. I'm thoroughly confused by this guideline in two respects.</p>\n\n<h2>Why not?</h2>\n\n<p>Apparently <a href=\"https://stackoverflow.com/a/5376358/1042555\"><code>List</code> is somehow optimized for performance</a>. How so? What performance problems will I cause if I extend <code>List</code>? What exactly will break?</p>\n\n<p>Another reason I've seen is that <code>List</code> is provided by Microsoft, and I have no control over it, so <a href=\"https://stackoverflow.com/questions/5376203/inherit-listt#comment6077237_5376343\">I cannot change it later, after exposing a \"public API\"</a>. But I struggle to understand this. What is a public API and why should I care? If my current project does not and is not likely to ever have this public API, can I safely ignore this guideline? If I do inherit from <code>List</code> <em>and</em> it turns out I need a public API, what difficulties will I have?</p>\n\n<p>Why does it even matter? A list is a list. What could possibly change? What could I possibly want to change?</p>\n\n<p>And lastly, if Microsoft did not want me to inherit from <code>List</code>, why didn't they make the class <code>sealed</code>?</p>\n\n<h2>What else am I supposed to use?</h2>\n\n<p>Apparently, for custom collections, Microsoft has provided a <code>Collection</code> class which should be extended instead of <code>List</code>. But this class is very bare, and does not have many useful things, <a href=\"https://stackoverflow.com/questions/1474863/addrange-to-a-collection\">such as <code>AddRange</code></a>, for instance. <a href=\"https://stackoverflow.com/a/12039943/1042555\">jvitor83's answer</a> provides a performance rationale for that particular method, but how is a slow <code>AddRange</code> not better than no <code>AddRange</code>?</p>\n\n<p>Inheriting from <code>Collection</code> is way more work than inheriting from <code>List</code>, and I see no benefit. Surely Microsoft wouldn't tell me to do extra work for no reason, so I can't help feeling like I am somehow misunderstanding something, and inheriting <code>Collection</code> is actually not the right solution for my problem.</p>\n\n<p>I've seen suggestions such as implementing <code>IList</code>. Just no. This is dozens of lines of boilerplate code which gains me nothing.</p>\n\n<p>Lastly, some suggest wrapping the <code>List</code> in something: </p>\n\n<pre><code>class FootballTeam \n{ \n    public List&lt;FootballPlayer&gt; Players; \n}\n</code></pre>\n\n<p>There are two problems with this:</p>\n\n<ol>\n<li><p>It makes my code needlessly verbose. I must now call <code>my_team.Players.Count</code> instead of just <code>my_team.Count</code>. Thankfully, with C# I can define indexers to make indexing transparent, and forward all the methods of the internal <code>List</code>... But that's a lot of code! What do I get for all that work?</p></li>\n<li><p>It just plain doesn't make any sense. A football team doesn't \"have\" a list of players. It <em>is</em> the list of players. You don't say \"John McFootballer has joined SomeTeam's players\". You say \"John has joined SomeTeam\". You don't add a letter to \"a string's characters\", you add a letter to a string. You don't add a book to a library's books, you add a book to a library.</p></li>\n</ol>\n\n<p>I realize that what happens \"under the hood\" can be said to be \"adding X to Y's internal list\", but this seems like a very counter-intuitive way of thinking about the world.</p>\n\n<h2>My question (summarized)</h2>\n\n<p>What is the correct C# way of representing a data structure, which, \"logically\" (that is to say, \"to the human mind\") is just a <code>list</code> of <code>things</code> with a few bells and whistles?</p>\n\n<p>Is inheriting from <code>List&lt;T&gt;</code> always unacceptable? When is it acceptable? Why/why not? What must a programmer consider, when deciding whether to inherit from <code>List&lt;T&gt;</code> or not?</p>", "language": "csharp", "question_id": 21692193, "title": "Why not inherit from List&lt;T&gt;?", "segments": [{"type": "CODE", "text": "var football_team = new List<FootballPlayer>();"}, {"type": "CODE", "text": "class FootballTeam : List<FootballPlayer> \n{ \n    public string TeamName; \n    public int RunningTotal \n}"}, {"type": "CODE", "text": "class FootballTeam \n{ \n    public List<FootballPlayer> Players; \n}"}, {"type": "TEXT", "text": "When planning out my programs, I often start with a chain of thought like so:"}, {"type": "TEXT", "text": "A football team is just a list of football players. Therefore, I should represent it with:"}, {"type": "TEXT", "text": "The ordering of this list represent the order in which the players are listed in the roster."}, {"type": "TEXT", "text": "But I realize later that teams also have other properties, besides the mere list of players, that must be recorded. For example, the running total of scores this season, the current budget, the uniform colors, a"}, {"type": "TEXT", "text": "representing the name of the team, etc.."}, {"type": "TEXT", "text": "So then I think:"}, {"type": "TEXT", "text": "Okay, a football team is just like a list of players, but additionally, it has a name (a"}, {"type": "TEXT", "text": ") and a running total of scores (an"}, {"type": "TEXT", "text": "). .NET does not provide a class for storing football teams, so I will make my own class. The most similar and relevant existing structure is"}, {"type": "TEXT", "text": ", so I will inherit from it:"}, {"type": "TEXT", "text": "But it turns out that"}, {"type": "TEXT", "text": "a guideline says you shouldn't inherit from"}, {"type": "TEXT", "text": "List<T>"}, {"type": "TEXT", "text": ". I'm thoroughly confused by this guideline in two respects."}, {"type": "TEXT", "text": "Why not?"}, {"type": "TEXT", "text": "Apparently"}, {"type": "TEXT", "text": "is somehow optimized for performance"}, {"type": "TEXT", "text": ". How so? What performance problems will I cause if I extend"}, {"type": "TEXT", "text": "? What exactly will break?"}, {"type": "TEXT", "text": "Another reason I've seen is that"}, {"type": "TEXT", "text": "is provided by Microsoft, and I have no control over it, so"}, {"type": "TEXT", "text": "I cannot change it later, after exposing a \"public API\""}, {"type": "TEXT", "text": ". But I struggle to understand this. What is a public API and why should I care? If my current project does not and is not likely to ever have this public API, can I safely ignore this guideline? If I do inherit from"}, {"type": "TEXT", "text": "and"}, {"type": "TEXT", "text": "it turns out I need a public API, what difficulties will I have?"}, {"type": "TEXT", "text": "Why does it even matter? A list is a list. What could possibly change? What could I possibly want to change?"}, {"type": "TEXT", "text": "And lastly, if Microsoft did not want me to inherit from"}, {"type": "TEXT", "text": ", why didn't they make the class"}, {"type": "TEXT", "text": "sealed"}, {"type": "TEXT", "text": "?"}, {"type": "TEXT", "text": "What else am I supposed to use?"}, {"type": "TEXT", "text": "Apparently, for custom collections, Microsoft has provided a"}, {"type": "TEXT", "text": "Collection"}, {"type": "TEXT", "text": "class which should be extended instead of"}, {"type": "TEXT", "text": ". But this class is very bare, and does not have many useful things,"}, {"type": "TEXT", "text": "such as"}, {"type": "TEXT", "text": "AddRange"}, {"type": "TEXT", "text": ", for instance."}, {"type": "TEXT", "text": "jvitor83's answer"}, {"type": "TEXT", "text": "provides a performance rationale for that particular method, but how is a slow"}, {"type": "TEXT", "text": "AddRange"}, {"type": "TEXT", "text": "not better than no"}, {"type": "TEXT", "text": "AddRange"}, {"type": "TEXT", "text": "?"}, {"type": "TEXT", "text": "Inheriting from"}, {"type": "TEXT", "text": "Collection"}, {"type": "TEXT", "text": "is way more work than inheriting from"}, {"type": "TEXT", "text": ", and I see no benefit. Surely Microsoft wouldn't tell me to do extra work for no reason, so I can't help feeling like I am somehow misunderstanding something, and inheriting"}, {"type": "TEXT", "text": "Collection"}, {"type": "TEXT", "text": "is actually not the right solution for my problem."}, {"type": "TEXT", "text": "I've seen suggestions such as implementing"}, {"type": "TEXT", "text": "IList"}, {"type": "TEXT", "text": ". Just no. This is dozens of lines of boilerplate code which gains me nothing."}, {"type": "TEXT", "text": "Lastly, some suggest wrapping the"}, {"type": "TEXT", "text": "in something:"}, {"type": "TEXT", "text": "There are two problems with this:"}, {"type": "TEXT", "text": "It makes my code needlessly verbose. I must now call"}, {"type": "TEXT", "text": "my_team.Players.Count"}, {"type": "TEXT", "text": "instead of just"}, {"type": "TEXT", "text": "my_team.Count"}, {"type": "TEXT", "text": ". Thankfully, with C# I can define indexers to make indexing transparent, and forward all the methods of the internal"}, {"type": "TEXT", "text": "... But that's a lot of code! What do I get for all that work?"}, {"type": "TEXT", "text": "It just plain doesn't make any sense. A football team doesn't \"have\" a list of players. It"}, {"type": "TEXT", "text": "the list of players. You don't say \"John McFootballer has joined SomeTeam's players\". You say \"John has joined SomeTeam\". You don't add a letter to \"a string's characters\", you add a letter to a string. You don't add a book to a library's books, you add a book to a library."}, {"type": "TEXT", "text": "I realize that what happens \"under the hood\" can be said to be \"adding X to Y's internal list\", but this seems like a very counter-intuitive way of thinking about the world."}, {"type": "TEXT", "text": "My question (summarized)"}, {"type": "TEXT", "text": "What is the correct C# way of representing a data structure, which, \"logically\" (that is to say, \"to the human mind\") is just a"}, {"type": "TEXT", "text": "list"}, {"type": "TEXT", "text": "of"}, {"type": "TEXT", "text": "things"}, {"type": "TEXT", "text": "with a few bells and whistles?"}, {"type": "TEXT", "text": "Is inheriting from"}, {"type": "TEXT", "text": "List<T>"}, {"type": "TEXT", "text": "always unacceptable? When is it acceptable? Why/why not? What must a programmer consider, when deciding whether to inherit from"}, {"type": "TEXT", "text": "List<T>"}, {"type": "TEXT", "text": "or not?"}]}
{"raw_content": "<p>What is the difference between <strong><code>const</code></strong> and <strong><code>readonly</code></strong> in C#? </p>\n\n<p>When would you use one over the other?</p>", "language": "csharp", "question_id": 55984, "title": "What is the difference between const and readonly in C#?", "segments": [{"type": "TEXT", "text": "What is the difference between"}, {"type": "TEXT", "text": "const"}, {"type": "TEXT", "text": "and"}, {"type": "TEXT", "text": "readonly"}, {"type": "TEXT", "text": "in C#?"}, {"type": "TEXT", "text": "When would you use one over the other?"}]}
{"raw_content": "<p>I have a class called <code>Order</code> which has properties such as <code>OrderId</code>, <code>OrderDate</code>, <code>Quantity</code>, and <code>Total</code>. I have a list of this <code>Order</code> class:</p>\n<pre class=\"lang-cs prettyprint-override\"><code>List&lt;Order&gt; objListOrder = new List&lt;Order&gt;();\nGetOrderList(objListOrder); // fill list of orders\n</code></pre>\n<p>I want to sort the list based on one property of the <code>Order</code> object; for example, either by <code>OrderDate</code> or <code>OrderID</code>.</p>\n<p>How can I do this in C#?</p>", "language": "csharp", "question_id": 3309188, "title": "How to Sort a List&lt;T&gt; by a property in the object", "segments": [{"type": "CODE", "text": "List<Order> objListOrder = new List<Order>();\nGetOrderList(objListOrder); // fill list of orders"}, {"type": "TEXT", "text": "I have a class called"}, {"type": "TEXT", "text": "which has properties such as"}, {"type": "TEXT", "text": "OrderId"}, {"type": "TEXT", "text": ","}, {"type": "TEXT", "text": "OrderDate"}, {"type": "TEXT", "text": ","}, {"type": "TEXT", "text": "Quantity"}, {"type": "TEXT", "text": ", and"}, {"type": "TEXT", "text": "Total"}, {"type": "TEXT", "text": ". I have a list of this"}, {"type": "TEXT", "text": "class:"}, {"type": "TEXT", "text": "I want to sort the list based on one property of the"}, {"type": "TEXT", "text": "object; for example, either by"}, {"type": "TEXT", "text": "OrderDate"}, {"type": "TEXT", "text": "OrderID"}, {"type": "TEXT", "text": "."}, {"type": "TEXT", "text": "How can I do this in C#?"}]}
{"raw_content": "<p>Given the following class</p>\n\n<pre><code>public class Foo\n{\n    public int FooId { get; set; }\n    public string FooName { get; set; }\n\n    public override bool Equals(object obj)\n    {\n        Foo fooItem = obj as Foo;\n\n        if (fooItem == null) \n        {\n           return false;\n        }\n\n        return fooItem.FooId == this.FooId;\n    }\n\n    public override int GetHashCode()\n    {\n        // Which is preferred?\n\n        return base.GetHashCode();\n\n        //return this.FooId.GetHashCode();\n    }\n}\n</code></pre>\n\n<p>I have overridden the <code>Equals</code> method because <code>Foo</code> represent a row for the <code>Foo</code>s table.  Which is the preferred method for overriding the <code>GetHashCode</code>?</p>\n\n<p>Why is it important to override <code>GetHashCode</code>?</p>", "language": "csharp", "question_id": 371328, "title": "Why is it important to override GetHashCode when Equals method is overridden?", "segments": [{"type": "CODE", "text": "public class Foo\n{\n    public int FooId { get; set; }\n    public string FooName { get; set; }\n\n    public override bool Equals(object obj)\n    {\n        Foo fooItem = obj as Foo;\n\n        if (fooItem == null) \n        {\n           return false;\n        }\n\n        return fooItem.FooId == this.FooId;\n    }\n\n    public override int GetHashCode()\n    {\n        // Which is preferred?\n\n        return base.GetHashCode();\n\n        //return this.FooId.GetHashCode();\n    }\n}"}, {"type": "TEXT", "text": "Given the following class"}, {"type": "TEXT", "text": "I have overridden the"}, {"type": "TEXT", "text": "method because"}, {"type": "TEXT", "text": "represent a row for the"}, {"type": "TEXT", "text": "s table.  Which is the preferred method for overriding the"}, {"type": "TEXT", "text": "Why is it important to override"}]}
{"raw_content": "<p>How can you convert a byte array to a hexadecimal string and vice versa?</p>", "language": "csharp", "question_id": 311165, "title": "How do you convert a byte array to a hexadecimal string, and vice versa?", "segments": [{"type": "TEXT", "text": "How can you convert a byte array to a hexadecimal string and vice versa?"}]}
{"raw_content": "<p>Given a specific <code>DateTime</code> value, how do I display relative time, like:</p>\n<ul>\n<li><code>2 hours ago</code></li>\n<li><code>3 days ago</code></li>\n<li><code>a month ago</code></li>\n</ul>", "language": "csharp", "question_id": 11, "title": "Calculate relative time in C#", "segments": [{"type": "CODE", "text": "2 hours ago"}, {"type": "CODE", "text": "3 days ago"}, {"type": "CODE", "text": "a month ago"}, {"type": "TEXT", "text": "Given a specific"}, {"type": "TEXT", "text": "DateTime"}, {"type": "TEXT", "text": "value, how do I display relative time, like:"}]}
{"raw_content": "<p>When should you use struct and not class in C#? My conceptual model is that structs are used in times when the item is <em>merely a collection of value types</em>.  A way to logically hold them all together into a cohesive whole.</p>\n\n<p>I came across these rules <a href=\"https://web.archive.org/web/20110829190107/http://www.johnnycantcode.com/Post/C_Classes_vs._Structs\" rel=\"noreferrer\" title=\"Archived from the original site: www.johnnycantcode.com/Post/C_Classes_vs._Structs\">here</a>:</p>\n\n<ul>\n<li>A struct should represent a single\nvalue.</li>\n<li>A struct should have a memory\nfootprint less than 16 bytes.</li>\n<li>A struct should not be changed after\ncreation.</li>\n</ul>\n\n<p>Do these rules work? What does a struct mean semantically? </p>", "language": "csharp", "question_id": 521298, "title": "When should I use a struct rather than a class in C#?", "segments": [{"type": "TEXT", "text": "When should you use struct and not class in C#? My conceptual model is that structs are used in times when the item is"}, {"type": "TEXT", "text": "merely a collection of value types"}, {"type": "TEXT", "text": ".  A way to logically hold them all together into a cohesive whole."}, {"type": "TEXT", "text": "I came across these rules"}, {"type": "TEXT", "text": "here"}, {"type": "TEXT", "text": ":"}, {"type": "TEXT", "text": "A struct should represent a single\nvalue."}, {"type": "TEXT", "text": "A struct should have a memory\nfootprint less than 16 bytes."}, {"type": "TEXT", "text": "A struct should not be changed after\ncreation."}, {"type": "TEXT", "text": "Do these rules work? What does a struct mean semantically?"}]}
{"raw_content": "<p>I wrote some code for testing the impact of try-catch, but seeing some surprising results.</p>\n\n<pre><code>static void Main(string[] args)\n{\n    Thread.CurrentThread.Priority = ThreadPriority.Highest;\n    Process.GetCurrentProcess().PriorityClass = ProcessPriorityClass.RealTime;\n\n    long start = 0, stop = 0, elapsed = 0;\n    double avg = 0.0;\n\n    long temp = Fibo(1);\n\n    for (int i = 1; i &lt; 100000000; i++)\n    {\n        start = Stopwatch.GetTimestamp();\n        temp = Fibo(100);\n        stop = Stopwatch.GetTimestamp();\n\n        elapsed = stop - start;\n        avg = avg + ((double)elapsed - avg) / i;\n    }\n\n    Console.WriteLine(\"Elapsed: \" + avg);\n    Console.ReadKey();\n}\n\nstatic long Fibo(int n)\n{\n    long n1 = 0, n2 = 1, fibo = 0;\n    n++;\n\n    for (int i = 1; i &lt; n; i++)\n    {\n        n1 = n2;\n        n2 = fibo;\n        fibo = n1 + n2;\n    }\n\n    return fibo;\n}\n</code></pre>\n\n<p>On my computer, this consistently prints out a value around 0.96..</p>\n\n<p>When I wrap the for loop inside Fibo() with a try-catch block like this:</p>\n\n<pre><code>static long Fibo(int n)\n{\n    long n1 = 0, n2 = 1, fibo = 0;\n    n++;\n\n    try\n    {\n        for (int i = 1; i &lt; n; i++)\n        {\n            n1 = n2;\n            n2 = fibo;\n            fibo = n1 + n2;\n        }\n    }\n    catch {}\n\n    return fibo;\n}\n</code></pre>\n\n<p>Now it consistently prints out 0.69... -- it actually runs faster! But why?</p>\n\n<p>Note: I compiled this using the Release configuration and directly ran the EXE file (outside Visual Studio).</p>\n\n<p>EDIT: <a href=\"https://stackoverflow.com/a/8928476/282110\">Jon Skeet's <em>excellent</em> analysis</a> shows that try-catch is somehow causing the x86 CLR to use the CPU registers in a more favorable way in this specific case (and I think we're yet to understand why). I confirmed Jon's finding that x64 CLR doesn't have this difference, and that it was faster than the x86 CLR. I also tested using <code>int</code> types inside the Fibo method instead of <code>long</code> types, and then the x86 CLR was as equally fast as the x64 CLR.</p>\n\n<hr>\n\n<p><strong>UPDATE:</strong> It looks like this issue has been fixed by Roslyn. Same machine, same CLR version -- the issue remains as above when compiled with VS 2013, but the problem goes away when compiled with VS 2015. </p>", "language": "csharp", "question_id": 8928403, "title": "Try-catch speeding up my code?", "segments": [{"type": "CODE", "text": "static void Main(string[] args)\n{\n    Thread.CurrentThread.Priority = ThreadPriority.Highest;\n    Process.GetCurrentProcess().PriorityClass = ProcessPriorityClass.RealTime;\n\n    long start = 0, stop = 0, elapsed = 0;\n    double avg = 0.0;\n\n    long temp = Fibo(1);\n\n    for (int i = 1; i < 100000000; i++)\n    {\n        start = Stopwatch.GetTimestamp();\n        temp = Fibo(100);\n        stop = Stopwatch.GetTimestamp();\n\n        elapsed = stop - start;\n        avg = avg + ((double)elapsed - avg) / i;\n    }\n\n    Console.WriteLine(\"Elapsed: \" + avg);\n    Console.ReadKey();\n}\n\nstatic long Fibo(int n)\n{\n    long n1 = 0, n2 = 1, fibo = 0;\n    n++;\n\n    for (int i = 1; i < n; i++)\n    {\n        n1 = n2;\n        n2 = fibo;\n        fibo = n1 + n2;\n    }\n\n    return fibo;\n}"}, {"type": "CODE", "text": "static long Fibo(int n)\n{\n    long n1 = 0, n2 = 1, fibo = 0;\n    n++;\n\n    try\n    {\n        for (int i = 1; i < n; i++)\n        {\n            n1 = n2;\n            n2 = fibo;\n            fibo = n1 + n2;\n        }\n    }\n    catch {}\n\n    return fibo;\n}"}, {"type": "TEXT", "text": "I wrote some code for testing the impact of try-catch, but seeing some surprising results."}, {"type": "TEXT", "text": "On my computer, this consistently prints out a value around 0.96.."}, {"type": "TEXT", "text": "When I wrap the for loop inside Fibo() with a try-catch block like this:"}, {"type": "TEXT", "text": "Now it consistently prints out 0.69... -- it actually runs faster! But why?"}, {"type": "TEXT", "text": "Note: I compiled this using the Release configuration and directly ran the EXE file (outside Visual Studio)."}, {"type": "TEXT", "text": "EDIT:"}, {"type": "TEXT", "text": "Jon Skeet's"}, {"type": "TEXT", "text": "excellent"}, {"type": "TEXT", "text": "analysis"}, {"type": "TEXT", "text": "shows that try-catch is somehow causing the x86 CLR to use the CPU registers in a more favorable way in this specific case (and I think we're yet to understand why). I confirmed Jon's finding that x64 CLR doesn't have this difference, and that it was faster than the x86 CLR. I also tested using"}, {"type": "TEXT", "text": "types inside the Fibo method instead of"}, {"type": "TEXT", "text": "types, and then the x86 CLR was as equally fast as the x64 CLR."}, {"type": "TEXT", "text": "UPDATE:"}, {"type": "TEXT", "text": "It looks like this issue has been fixed by Roslyn. Same machine, same CLR version -- the issue remains as above when compiled with VS 2013, but the problem goes away when compiled with VS 2015."}]}
{"raw_content": "<p>I've read around about <code>const</code> and <code>static readonly</code> fields. We have some classes which contain only constant values. They are used for various things around in our system. So I am wondering if my observation is correct:</p>\n<p>Should these kind of constant values always be <code>static readonly</code> for everything that is public? And only use <code>const</code> for <code>internal</code>/<code>protected</code>/<code>private</code> values?</p>\n<p>What do you recommend? Should I maybe even not use <code>static readonly</code> fields, but rather use properties maybe?</p>", "language": "csharp", "question_id": 755685, "title": "&#39;Static readonly&#39; vs. &#39;const&#39;", "segments": [{"type": "CODE", "text": "static readonly"}, {"type": "TEXT", "text": "I've read around about"}, {"type": "TEXT", "text": "const"}, {"type": "TEXT", "text": "and"}, {"type": "TEXT", "text": "fields. We have some classes which contain only constant values. They are used for various things around in our system. So I am wondering if my observation is correct:"}, {"type": "TEXT", "text": "Should these kind of constant values always be"}, {"type": "TEXT", "text": "for everything that is public? And only use"}, {"type": "TEXT", "text": "const"}, {"type": "TEXT", "text": "for"}, {"type": "TEXT", "text": "internal"}, {"type": "TEXT", "text": "/"}, {"type": "TEXT", "text": "protected"}, {"type": "TEXT", "text": "/"}, {"type": "TEXT", "text": "private"}, {"type": "TEXT", "text": "values?"}, {"type": "TEXT", "text": "What do you recommend? Should I maybe even not use"}, {"type": "TEXT", "text": "fields, but rather use properties maybe?"}]}
{"raw_content": "<p>Which is the simplest way to update a <code>Label</code> from another <code>Thread</code>?</p>\n\n<ul>\n<li><p>I have a <code>Form</code> running on <code>thread1</code>, and from that I'm starting another thread (<code>thread2</code>). </p></li>\n<li><p>While <code>thread2</code> is processing some files I would like to update a <code>Label</code> on the <code>Form</code> with the current status of <code>thread2</code>'s work.</p></li>\n</ul>\n\n<p>How could I do that?</p>", "language": "csharp", "question_id": 661561, "title": "How do I update the GUI from another thread?", "segments": [{"type": "TEXT", "text": "Which is the simplest way to update a"}, {"type": "TEXT", "text": "Label"}, {"type": "TEXT", "text": "from another"}, {"type": "TEXT", "text": "Thread"}, {"type": "TEXT", "text": "?"}, {"type": "TEXT", "text": "I have a"}, {"type": "TEXT", "text": "Form"}, {"type": "TEXT", "text": "running on"}, {"type": "TEXT", "text": "thread1"}, {"type": "TEXT", "text": ", and from that I'm starting another thread ("}, {"type": "TEXT", "text": "thread2"}, {"type": "TEXT", "text": ")."}, {"type": "TEXT", "text": "While"}, {"type": "TEXT", "text": "thread2"}, {"type": "TEXT", "text": "is processing some files I would like to update a"}, {"type": "TEXT", "text": "Label"}, {"type": "TEXT", "text": "on the"}, {"type": "TEXT", "text": "Form"}, {"type": "TEXT", "text": "with the current status of"}, {"type": "TEXT", "text": "thread2"}, {"type": "TEXT", "text": "'s work."}, {"type": "TEXT", "text": "How could I do that?"}]}
{"raw_content": "<p>In C#, what makes a field different from a property, and when should a field be used instead of a property?</p>", "language": "csharp", "question_id": 295104, "title": "What is the difference between a field and a property?", "segments": [{"type": "TEXT", "text": "In C#, what makes a field different from a property, and when should a field be used instead of a property?"}]}
{"raw_content": "<p>In most programming languages, dictionaries are preferred over hashtables.\nWhat are the reasons behind that?</p>", "language": "csharp", "question_id": 301371, "title": "Why is Dictionary preferred over Hashtable in C#?", "segments": [{"type": "TEXT", "text": "In most programming languages, dictionaries are preferred over hashtables.\nWhat are the reasons behind that?"}]}
{"raw_content": "<p><a href=\"https://msdn.microsoft.com/en-us/library/system.io.path.combine%28v=vs.110%29.aspx\" rel=\"noreferrer\">Path.Combine</a> is handy, but is there a similar function in the .NET framework for <a href=\"http://en.wikipedia.org/wiki/Uniform_resource_locator\" rel=\"noreferrer\">URLs</a>?</p>\n\n<p>I'm looking for syntax like this:</p>\n\n<pre><code>Url.Combine(\"http://MyUrl.com/\", \"/Images/Image.jpg\")\n</code></pre>\n\n<p>which would return:</p>\n\n<p><code>\"http://MyUrl.com/Images/Image.jpg\"</code></p>", "language": "csharp", "question_id": 372865, "title": "Path.Combine for URLs?", "segments": [{"type": "CODE", "text": "Url.Combine(\"http://MyUrl.com/\", \"/Images/Image.jpg\")"}, {"type": "TEXT", "text": "Path.Combine"}, {"type": "TEXT", "text": "is handy, but is there a similar function in the .NET framework for"}, {"type": "TEXT", "text": "URLs"}, {"type": "TEXT", "text": "?"}, {"type": "TEXT", "text": "I'm looking for syntax like this:"}, {"type": "TEXT", "text": "which would return:"}, {"type": "TEXT", "text": "\"http://MyUrl.com/Images/Image.jpg\""}]}
{"raw_content": "<p>I am playing with LINQ to learn about it, but I can't figure out how to use <a href=\"https://learn.microsoft.com/en-us/dotnet/api/system.linq.enumerable.distinct\" rel=\"noreferrer\"><code>Distinct</code></a> when I do not have a simple list (a simple list of integers is pretty easy to do, this is not the question). What I if want to use <code>Distinct</code> on a <code>List&lt;TElement&gt;</code> on <em>one</em> or <em>more</em> properties of the <code>TElement</code>?</p>\n<p>Example: If an object is <code>Person</code>, with property <code>Id</code>. How can I get all <code>Person</code> and use <code>Distinct</code> on them with the property <code>Id</code> of the object?</p>\n<pre class=\"lang-none prettyprint-override\"><code>Person1: Id=1, Name=&quot;Test1&quot;\nPerson2: Id=1, Name=&quot;Test1&quot;\nPerson3: Id=2, Name=&quot;Test2&quot;\n</code></pre>\n<p>How can I get just <code>Person1</code> and <code>Person3</code>? Is that possible?</p>\n<p>If it's not possible with LINQ, what would be the best way to have a list of <code>Person</code> depending on some of its properties?</p>", "language": "csharp", "question_id": 489258, "title": "LINQ&#39;s Distinct() on a particular property", "segments": [{"type": "CODE", "text": "Person1: Id=1, Name=\"Test1\"\nPerson2: Id=1, Name=\"Test1\"\nPerson3: Id=2, Name=\"Test2\""}, {"type": "TEXT", "text": "I am playing with LINQ to learn about it, but I can't figure out how to use"}, {"type": "TEXT", "text": "Distinct"}, {"type": "TEXT", "text": "when I do not have a simple list (a simple list of integers is pretty easy to do, this is not the question). What I if want to use"}, {"type": "TEXT", "text": "Distinct"}, {"type": "TEXT", "text": "on a"}, {"type": "TEXT", "text": "List<TElement>"}, {"type": "TEXT", "text": "one"}, {"type": "TEXT", "text": "or"}, {"type": "TEXT", "text": "more"}, {"type": "TEXT", "text": "properties of the"}, {"type": "TEXT", "text": "TElement"}, {"type": "TEXT", "text": "?"}, {"type": "TEXT", "text": "Example: If an object is"}, {"type": "TEXT", "text": ", with property"}, {"type": "TEXT", "text": ". How can I get all"}, {"type": "TEXT", "text": "and use"}, {"type": "TEXT", "text": "Distinct"}, {"type": "TEXT", "text": "on them with the property"}, {"type": "TEXT", "text": "of the object?"}, {"type": "TEXT", "text": "How can I get just"}, {"type": "TEXT", "text": "and"}, {"type": "TEXT", "text": "? Is that possible?"}, {"type": "TEXT", "text": "If it's not possible with LINQ, what would be the best way to have a list of"}, {"type": "TEXT", "text": "depending on some of its properties?"}]}
{"raw_content": "<p>I'm getting a warning from ReSharper about a call to a virtual member from my objects constructor. </p>\n\n<p>Why would this be something not to do?</p>", "language": "csharp", "question_id": 119506, "title": "Virtual member call in a constructor", "segments": [{"type": "TEXT", "text": "I'm getting a warning from ReSharper about a call to a virtual member from my objects constructor."}, {"type": "TEXT", "text": "Why would this be something not to do?"}]}
{"raw_content": "<p>I know I can iterate over a map <code>m</code> with</p>\n<pre><code>for k, v := range m { ... }\n</code></pre>\n<p>and look for a key, but is there a more efficient way of testing for a key's existence in a map?</p>", "language": "go", "question_id": 2050391, "title": "How to check if a map contains a key in Go?", "segments": [{"type": "CODE", "text": "for k, v := range m { ... }"}, {"type": "TEXT", "text": "I know I can iterate over a map"}, {"type": "TEXT", "text": "with"}, {"type": "TEXT", "text": "and look for a key, but is there a more efficient way of testing for a key's existence in a map?"}]}
{"raw_content": "<p>In Go, a <code>string</code> is a primitive type, which means it is read-only, and every manipulation of it will create a new string.</p>\n<p>So if I want to concatenate strings many times without knowing the length of the resulting string, what's the best way to do it?</p>\n<p>The naive way would be:</p>\n<pre><code>var s string\nfor i := 0; i &lt; 1000; i++ {\n    s += getShortStringFromSomewhere()\n}\nreturn s\n</code></pre>\n<p>but that does not seem very efficient.</p>", "language": "go", "question_id": 1760757, "title": "How to efficiently concatenate strings in go", "segments": [{"type": "CODE", "text": "var s string\nfor i := 0; i < 1000; i++ {\n    s += getShortStringFromSomewhere()\n}\nreturn s"}, {"type": "TEXT", "text": "In Go, a"}, {"type": "TEXT", "text": "is a primitive type, which means it is read-only, and every manipulation of it will create a new string."}, {"type": "TEXT", "text": "So if I want to concatenate strings many times without knowing the length of the resulting string, what's the best way to do it?"}, {"type": "TEXT", "text": "The naive way would be:"}, {"type": "TEXT", "text": "but that does not seem very efficient."}]}
{"raw_content": "<p>Does Go have anything similar to Python's multiline strings: </p>\n\n<pre class=\"lang-python prettyprint-override\"><code>\"\"\"line 1\nline 2\nline 3\"\"\"\n</code></pre>\n\n<p>If not, what is the preferred way of writing strings spanning multiple lines?</p>", "language": "go", "question_id": 7933460, "title": "How do you write multiline strings in Go?", "segments": [{"type": "CODE", "text": "\"\"\"line 1\nline 2\nline 3\"\"\""}, {"type": "TEXT", "text": "Does Go have anything similar to Python's multiline strings:"}, {"type": "TEXT", "text": "If not, what is the preferred way of writing strings spanning multiple lines?"}]}
{"raw_content": "<p>I'm trying to combine the slice <code>[1, 2]</code> and the slice <code>[3, 4]</code>. How can I do this in Go?</p>\n\n<p>I tried:</p>\n\n<pre><code>append([]int{1,2}, []int{3,4})\n</code></pre>\n\n<p>but got:</p>\n\n<pre><code>cannot use []int literal (type []int) as type int in append\n</code></pre>\n\n<p>However, <a href=\"http://golang.org/pkg/builtin/#append\">the documentation</a> seems to indicate this is possible, what am I missing?</p>\n\n<pre><code>slice = append(slice, anotherSlice...)\n</code></pre>", "language": "go", "question_id": 16248241, "title": "Concatenate two slices in Go", "segments": [{"type": "CODE", "text": "[1, 2]"}, {"type": "CODE", "text": "[3, 4]"}, {"type": "CODE", "text": "append([]int{1,2}, []int{3,4})"}, {"type": "CODE", "text": "cannot use []int literal (type []int) as type int in append"}, {"type": "CODE", "text": "slice = append(slice, anotherSlice...)"}, {"type": "TEXT", "text": "I'm trying to combine the slice"}, {"type": "TEXT", "text": "and the slice"}, {"type": "TEXT", "text": ". How can I do this in Go?"}, {"type": "TEXT", "text": "I tried:"}, {"type": "TEXT", "text": "but got:"}, {"type": "TEXT", "text": "However,"}, {"type": "TEXT", "text": "the documentation"}, {"type": "TEXT", "text": "seems to indicate this is possible, what am I missing?"}]}
{"raw_content": "<pre><code>i := 123\ns := string(i) \n</code></pre>\n\n<p>s is 'E', but what I want is \"123\"</p>\n\n<p>Please tell me how can I get \"123\".</p>\n\n<p>And in Java, I can do in this way: </p>\n\n<pre><code>String s = \"ab\" + \"c\"  // s is \"abc\"\n</code></pre>\n\n<p>how can I <code>concat</code> two strings in Go?</p>", "language": "go", "question_id": 10105935, "title": "How to convert an int value to string in Go?", "segments": [{"type": "CODE", "text": "i := 123\ns := string(i)"}, {"type": "CODE", "text": "String s = \"ab\" + \"c\"  // s is \"abc\""}, {"type": "TEXT", "text": "s is 'E', but what I want is \"123\""}, {"type": "TEXT", "text": "Please tell me how can I get \"123\"."}, {"type": "TEXT", "text": "And in Java, I can do in this way:"}, {"type": "TEXT", "text": "how can I"}, {"type": "TEXT", "text": "concat"}, {"type": "TEXT", "text": "two strings in Go?"}]}
{"raw_content": "<p>I'm trying to represent a simplified chromosome, which consists of N bases, each of which can only be one of <code>{A, C, T, G}</code>.</p>\n\n<p>I'd like to formalize the constraints with an enum, but I'm wondering what the most idiomatic way of emulating an enum is in Go.</p>", "language": "go", "question_id": 14426366, "title": "What is an idiomatic way of representing enums in Go?", "segments": [{"type": "CODE", "text": "{A, C, T, G}"}, {"type": "TEXT", "text": "I'm trying to represent a simplified chromosome, which consists of N bases, each of which can only be one of"}, {"type": "TEXT", "text": "."}, {"type": "TEXT", "text": "I'd like to formalize the constraints with an enum, but I'm wondering what the most idiomatic way of emulating an enum is in Go."}]}
{"raw_content": "<p>Can Go have optional parameters? Or can I just define two different functions with the same name and a different number of arguments?</p>", "language": "go", "question_id": 2032149, "title": "Optional Parameters in Go?", "segments": [{"type": "TEXT", "text": "Can Go have optional parameters? Or can I just define two different functions with the same name and a different number of arguments?"}]}
{"raw_content": "<p>Is there a <code>foreach</code> construct in the Go language?\nCan I iterate over a slice or array using a <code>for</code>?</p>", "language": "go", "question_id": 7782411, "title": "Is there a foreach loop in Go?", "segments": [{"type": "TEXT", "text": "Is there a"}, {"type": "TEXT", "text": "foreach"}, {"type": "TEXT", "text": "construct in the Go language?\nCan I iterate over a slice or array using a"}, {"type": "TEXT", "text": "for"}, {"type": "TEXT", "text": "?"}]}
{"raw_content": "<p>How can I print (to the console) the <code>Id</code>, <code>Title</code>, <code>Name</code>, etc. of this struct in Golang?</p>\n<pre><code>type Project struct {\n    Id      int64   `json:&quot;project_id&quot;`\n    Title   string  `json:&quot;title&quot;`\n    Name    string  `json:&quot;name&quot;`\n    Data    Data    `json:&quot;data&quot;`\n    Commits Commits `json:&quot;commits&quot;`\n}\n</code></pre>", "language": "go", "question_id": 24512112, "title": "How to print struct variables in console?", "segments": [{"type": "CODE", "text": "type Project struct {\n    Id      int64   `json:\"project_id\"`\n    Title   string  `json:\"title\"`\n    Name    string  `json:\"name\"`\n    Data    Data    `json:\"data\"`\n    Commits Commits `json:\"commits\"`\n}"}, {"type": "TEXT", "text": "How can I print (to the console) the"}, {"type": "TEXT", "text": ","}, {"type": "TEXT", "text": ","}, {"type": "TEXT", "text": ", etc. of this struct in Golang?"}]}
{"raw_content": "<p>Does the Go standard library have a function which checks if a file exists (like Python's <a href=\"http://docs.python.org/library/os.path.html#os.path.exists\" rel=\"noreferrer\"><code>os.path.exists</code></a>).</p>\n<p>Is there an <strong>idiomatic</strong> way to check file existence / non-existence?</p>", "language": "go", "question_id": 12518876, "title": "How to check if a file exists in Go?", "segments": [{"type": "TEXT", "text": "Does the Go standard library have a function which checks if a file exists (like Python's"}, {"type": "TEXT", "text": "os.path.exists"}, {"type": "TEXT", "text": ")."}, {"type": "TEXT", "text": "Is there an"}, {"type": "TEXT", "text": "idiomatic"}, {"type": "TEXT", "text": "way to check file existence / non-existence?"}]}
{"raw_content": "<p>In C/C++ (and many languages of that family), a common idiom to declare and initialize a variable depending on a condition uses the ternary conditional operator :</p>\n\n<pre><code>int index = val &gt; 0 ? val : -val\n</code></pre>\n\n<p>Go doesn't have the conditional operator. What is the most idiomatic way to implement the same piece of code as above ? I came to the following solution, but it seems quite verbose</p>\n\n<pre><code>var index int\n\nif val &gt; 0 {\n    index = val\n} else {\n    index = -val\n}\n</code></pre>\n\n<p>Is there something better ?</p>", "language": "go", "question_id": 19979178, "title": "What is the idiomatic Go equivalent of C&#39;s ternary operator?", "segments": [{"type": "CODE", "text": "int index = val > 0 ? val : -val"}, {"type": "CODE", "text": "var index int\n\nif val > 0 {\n    index = val\n} else {\n    index = -val\n}"}, {"type": "TEXT", "text": "In C/C++ (and many languages of that family), a common idiom to declare and initialize a variable depending on a condition uses the ternary conditional operator :"}, {"type": "TEXT", "text": "Go doesn't have the conditional operator. What is the most idiomatic way to implement the same piece of code as above ? I came to the following solution, but it seems quite verbose"}, {"type": "TEXT", "text": "Is there something better ?"}]}
{"raw_content": "<p>In the <a href=\"https://golang.org/ref/spec#Struct_types\" rel=\"noreferrer\">Go Language Specification</a>, it mentions a brief overview of tags: </p>\n\n<blockquote>\n  <p>A field declaration may be followed by an optional string literal tag,\n  which becomes an attribute for all the fields in the corresponding\n  field declaration. The tags are made visible through a reflection\n  interface but are otherwise ignored.</p>\n\n<pre><code>// A struct corresponding to the TimeStamp protocol buffer.\n// The tag strings define the protocol buffer field numbers.\nstruct {\n  microsec  uint64 \"field 1\"\n  serverIP6 uint64 \"field 2\"\n  process   string \"field 3\"\n}\n</code></pre>\n</blockquote>\n\n<p>This is a very short explanation IMO, and I was wondering if anyone could provide me with what use these tags would be?</p>", "language": "go", "question_id": 10858787, "title": "What are the use(s) for struct tags in Go?", "segments": [{"type": "CODE", "text": "// A struct corresponding to the TimeStamp protocol buffer.\n// The tag strings define the protocol buffer field numbers.\nstruct {\n  microsec  uint64 \"field 1\"\n  serverIP6 uint64 \"field 2\"\n  process   string \"field 3\"\n}"}, {"type": "TEXT", "text": "In the"}, {"type": "TEXT", "text": "Go Language Specification"}, {"type": "TEXT", "text": ", it mentions a brief overview of tags:"}, {"type": "TEXT", "text": "A field declaration may be followed by an optional string literal tag,\n  which becomes an attribute for all the fields in the corresponding\n  field declaration. The tags are made visible through a reflection\n  interface but are otherwise ignored."}, {"type": "TEXT", "text": "This is a very short explanation IMO, and I was wondering if anyone could provide me with what use these tags would be?"}]}
{"raw_content": "<p>How do I find the type of an object in Go? In Python, I just use <code>typeof</code> to fetch the type of object. Similarly in Go, is there a way to implement the same ?</p>\n\n<p>Here is the container from which I am iterating:</p>\n\n<pre><code>for e := dlist.Front(); e != nil; e = e.Next() {\n    lines := e.Value\n    fmt.Printf(reflect.TypeOf(lines))\n}\n</code></pre>\n\n<p>I am not able to get the type of the object lines in this case which is an array of strings.</p>", "language": "go", "question_id": 20170275, "title": "How to find the type of an object in Go?", "segments": [{"type": "CODE", "text": "for e := dlist.Front(); e != nil; e = e.Next() {\n    lines := e.Value\n    fmt.Printf(reflect.TypeOf(lines))\n}"}, {"type": "TEXT", "text": "How do I find the type of an object in Go? In Python, I just use"}, {"type": "TEXT", "text": "typeof"}, {"type": "TEXT", "text": "to fetch the type of object. Similarly in Go, is there a way to implement the same ?"}, {"type": "TEXT", "text": "Here is the container from which I am iterating:"}, {"type": "TEXT", "text": "I am not able to get the type of the object lines in this case which is an array of strings."}]}
{"raw_content": "<p>Is there a simple way to format a string in Go without printing the string?</p>\n\n<p>I can do:</p>\n\n<pre><code>bar := \"bar\"\nfmt.Printf(\"foo: %s\", bar)\n</code></pre>\n\n<p>But I want the formatted string returned rather than printed so I can manipulate it further.</p>\n\n<p>I could also do something like:</p>\n\n<pre><code>s := \"foo: \" + bar\n</code></pre>\n\n<p>But this becomes difficult to read when the format string is complex, and cumbersome when one or many of the parts aren't strings and have to be converted first, like</p>\n\n<pre><code>i := 25\ns := \"foo: \" + strconv.Itoa(i)\n</code></pre>\n\n<p>Is there a simpler way to do this?</p>", "language": "go", "question_id": 11123865, "title": "Format a Go string without printing?", "segments": [{"type": "CODE", "text": "bar := \"bar\"\nfmt.Printf(\"foo: %s\", bar)"}, {"type": "CODE", "text": "s := \"foo: \" + bar"}, {"type": "CODE", "text": "i := 25\ns := \"foo: \" + strconv.Itoa(i)"}, {"type": "TEXT", "text": "Is there a simple way to format a string in Go without printing the string?"}, {"type": "TEXT", "text": "I can do:"}, {"type": "TEXT", "text": "But I want the formatted string returned rather than printed so I can manipulate it further."}, {"type": "TEXT", "text": "I could also do something like:"}, {"type": "TEXT", "text": "But this becomes difficult to read when the format string is complex, and cumbersome when one or many of the parts aren't strings and have to be converted first, like"}, {"type": "TEXT", "text": "Is there a simpler way to do this?"}]}
{"raw_content": "<p>I'm unable to find <code>file.ReadLine</code> function in Go.</p>\n<p>How does one read a file line by line?</p>", "language": "go", "question_id": 8757389, "title": "Reading a file line by line in Go", "segments": [{"type": "TEXT", "text": "I'm unable to find"}, {"type": "TEXT", "text": "file.ReadLine"}, {"type": "TEXT", "text": "function in Go."}, {"type": "TEXT", "text": "How does one read a file line by line?"}]}
{"raw_content": "<p>I'm sorry I couldn't be more specific in the question title, but I was reading some <a href=\"https://golang.org/\" rel=\"noreferrer\">Go</a> code and I encountered function declarations of this form:</p>\n<pre><code>func (h handler) ServeHTTP(w http.ResponseWriter, r *http.Request) {\n    ...\n}\n</code></pre>\n<p>from <a href=\"https://github.com/mattermost/platform/blob/master/api/context.go\" rel=\"noreferrer\">https://github.com/mattermost/platform/blob/master/api/context.go</a></p>\n<pre><code>func (s *GracefulServer) BlockingClose() bool {\n    ...\n}\n</code></pre>\n<p>from <a href=\"https://github.com/braintree/manners/blob/master/server.go\" rel=\"noreferrer\">https://github.com/braintree/manners/blob/master/server.go</a></p>\n<p>What does the <code>(h handler)</code> and the <code>(s *GracefulServer)</code> between parenthesis mean? What does the entire function declaration mean, taking into account the meaning of the things between parenthesis?</p>\n<h3>Edit</h3>\n<p>This is not a duplicate of <a href=\"https://stackoverflow.com/questions/8263546/whats-the-difference-of-functions-and-methods-in-google-go\">Whats the difference of functions and methods in Go?</a> : this question came to me because I didn't know what the things in parenthesis before the function name were, not because I wondered what was the difference between functions and methods... if I knew that this declaration was a method I wouldn't have had this question in the first place. If someone has the same doubt as me one day, I don't believe she will go searching for &quot;golang methods&quot; because she doesn't know that this is the case. It would be like wondering what the letter &quot;sigma&quot; means before a mathematical expression (not knowing it means summation) and someone says it's a duplicate of what's the difference between summation and some other thing.</p>\n<p>Also, the short answer to this question (&quot;it's a receiver&quot;) is no answer to &quot;what's the difference between functions and methods&quot;.</p>", "language": "go", "question_id": 34031801, "title": "Function declaration syntax: things in parenthesis before function name", "segments": [{"type": "CODE", "text": "func (h handler) ServeHTTP(w http.ResponseWriter, r *http.Request) {\n    ...\n}"}, {"type": "CODE", "text": "func (s *GracefulServer) BlockingClose() bool {\n    ...\n}"}, {"type": "CODE", "text": "(h handler)"}, {"type": "CODE", "text": "(s *GracefulServer)"}, {"type": "TEXT", "text": "I'm sorry I couldn't be more specific in the question title, but I was reading some"}, {"type": "TEXT", "text": "Go"}, {"type": "TEXT", "text": "code and I encountered function declarations of this form:"}, {"type": "TEXT", "text": "from"}, {"type": "TEXT", "text": "https://github.com/mattermost/platform/blob/master/api/context.go"}, {"type": "TEXT", "text": "from"}, {"type": "TEXT", "text": "https://github.com/braintree/manners/blob/master/server.go"}, {"type": "TEXT", "text": "What does the"}, {"type": "TEXT", "text": "and the"}, {"type": "TEXT", "text": "between parenthesis mean? What does the entire function declaration mean, taking into account the meaning of the things between parenthesis?"}, {"type": "TEXT", "text": "Edit"}, {"type": "TEXT", "text": "This is not a duplicate of"}, {"type": "TEXT", "text": "Whats the difference of functions and methods in Go?"}, {"type": "TEXT", "text": ": this question came to me because I didn't know what the things in parenthesis before the function name were, not because I wondered what was the difference between functions and methods... if I knew that this declaration was a method I wouldn't have had this question in the first place. If someone has the same doubt as me one day, I don't believe she will go searching for \"golang methods\" because she doesn't know that this is the case. It would be like wondering what the letter \"sigma\" means before a mathematical expression (not knowing it means summation) and someone says it's a duplicate of what's the difference between summation and some other thing."}, {"type": "TEXT", "text": "Also, the short answer to this question (\"it's a receiver\") is no answer to \"what's the difference between functions and methods\"."}]}
{"raw_content": "<p>I want to assign string to bytes array:</p>\n\n<pre><code>var arr [20]byte\nstr := \"abc\"\nfor k, v := range []byte(str) {\n  arr[k] = byte(v)\n}\n</code></pre>\n\n<p>Have another method?</p>", "language": "go", "question_id": 8032170, "title": "How to assign string to bytes array", "segments": [{"type": "CODE", "text": "var arr [20]byte\nstr := \"abc\"\nfor k, v := range []byte(str) {\n  arr[k] = byte(v)\n}"}, {"type": "TEXT", "text": "I want to assign string to bytes array:"}, {"type": "TEXT", "text": "Have another method?"}]}
{"raw_content": "<p>I've tried to find a precise explanation of what the <code>init()</code> function does in Go. I read what <a href=\"https://golang.org/doc/effective_go.html#init\" rel=\"noreferrer\">Effective Go</a> says but I was unsure if I understood fully what it said. The exact sentence I am unsure is the following:</p>\n<blockquote>\n<p>And finally means finally: init is called after all the variable declarations in the package have evaluated their initializers, and those are evaluated only after all the imported packages have been initialized.</p>\n</blockquote>\n<p>What does <code>all the variable declarations in the package have evaluated their initializers</code> mean? Does it mean if you declare &quot;global&quot; variables in a package and its files, init() will not run until all of it is evaluated and then it will run all the init function and then main() when ./main_file_name is ran?</p>\n<p>I also read Mark Summerfield's go book the following:</p>\n<blockquote>\n<p>If a package has one or more init() functions they are automatically executed before the main package's main() function is called.</p>\n</blockquote>\n<p>In my understanding, <code>init()</code> is only relevant when you intend to run main() right? Anyone understands more precisely <code>init()</code> feel free to correct me</p>", "language": "go", "question_id": 24790175, "title": "When does the init() function run?", "segments": [{"type": "CODE", "text": "all the variable declarations in the package have evaluated their initializers"}, {"type": "TEXT", "text": "I've tried to find a precise explanation of what the"}, {"type": "TEXT", "text": "init()"}, {"type": "TEXT", "text": "function does in Go. I read what"}, {"type": "TEXT", "text": "Effective Go"}, {"type": "TEXT", "text": "says but I was unsure if I understood fully what it said. The exact sentence I am unsure is the following:"}, {"type": "TEXT", "text": "What does"}, {"type": "TEXT", "text": "mean? Does it mean if you declare \"global\" variables in a package and its files, init() will not run until all of it is evaluated and then it will run all the init function and then main() when ./main_file_name is ran?"}, {"type": "TEXT", "text": "I also read Mark Summerfield's go book the following:"}, {"type": "TEXT", "text": "If a package has one or more init() functions they are automatically executed before the main package's main() function is called."}, {"type": "TEXT", "text": "In my understanding,"}, {"type": "TEXT", "text": "init()"}, {"type": "TEXT", "text": "is only relevant when you intend to run main() right? Anyone understands more precisely"}, {"type": "TEXT", "text": "init()"}, {"type": "TEXT", "text": "feel free to correct me"}]}
{"raw_content": "<p>I need to read <code>[100]byte</code> to transfer a bunch of <code>string</code> data.</p>\n<p>Because not all of the <code>string</code>s are precisely 100 characters long, the remaining part of the <code>byte array</code> is padded with <code>0</code>s.</p>\n<p>If I convert <code>[100]byte</code> to <code>string</code> by: <code>string(byteArray[:])</code>, the tailing <code>0</code>s are displayed as <code>^@^@</code>s.</p>\n<p>In C, the <code>string</code> will terminate upon <code>0</code>, so what's the best way to convert this <code>byte array</code> to <code>string</code> in Go?</p>", "language": "go", "question_id": 14230145, "title": "How can I convert a zero-terminated byte array to string?", "segments": [{"type": "CODE", "text": "byte array"}, {"type": "TEXT", "text": "I need to read"}, {"type": "TEXT", "text": "[100]byte"}, {"type": "TEXT", "text": "to transfer a bunch of"}, {"type": "TEXT", "text": "string"}, {"type": "TEXT", "text": "data."}, {"type": "TEXT", "text": "Because not all of the"}, {"type": "TEXT", "text": "string"}, {"type": "TEXT", "text": "s are precisely 100 characters long, the remaining part of the"}, {"type": "TEXT", "text": "is padded with"}, {"type": "TEXT", "text": "0"}, {"type": "TEXT", "text": "s."}, {"type": "TEXT", "text": "If I convert"}, {"type": "TEXT", "text": "[100]byte"}, {"type": "TEXT", "text": "to"}, {"type": "TEXT", "text": "string"}, {"type": "TEXT", "text": "by:"}, {"type": "TEXT", "text": "string(byteArray[:])"}, {"type": "TEXT", "text": ", the tailing"}, {"type": "TEXT", "text": "0"}, {"type": "TEXT", "text": "s are displayed as"}, {"type": "TEXT", "text": "^@^@"}, {"type": "TEXT", "text": "s."}, {"type": "TEXT", "text": "In C, the"}, {"type": "TEXT", "text": "string"}, {"type": "TEXT", "text": "will terminate upon"}, {"type": "TEXT", "text": "0"}, {"type": "TEXT", "text": ", so what's the best way to convert this"}, {"type": "TEXT", "text": "to"}, {"type": "TEXT", "text": "string"}, {"type": "TEXT", "text": "in Go?"}]}
{"raw_content": "<p>In Go there are various ways to return a <code>struct</code> value or slice thereof. For individual ones I've seen:</p>\n\n<pre><code>type MyStruct struct {\n    Val int\n}\n\nfunc myfunc() MyStruct {\n    return MyStruct{Val: 1}\n}\n\nfunc myfunc() *MyStruct {\n    return &amp;MyStruct{}\n}\n\nfunc myfunc(s *MyStruct) {\n    s.Val = 1\n}\n</code></pre>\n\n<p>I understand the differences between these. The first returns a copy of the struct, the second a pointer to the struct value created within the function, the third expects an existing struct to be passed in and overrides the value.</p>\n\n<p>I've seen all of these patterns be used in various contexts, I'm wondering what the best practices are regarding these. When would you use which? For instance, the first one could be ok for small structs (because the overhead is minimal), the second for bigger ones. And the third if you want to be extremely memory efficient, because you can easily reuse a single struct instance between calls. Are there any best practices for when to use which?</p>\n\n<p>Similarly, the same question regarding slices:</p>\n\n<pre><code>func myfunc() []MyStruct {\n    return []MyStruct{ MyStruct{Val: 1} }\n}\n\nfunc myfunc() []*MyStruct {\n    return []MyStruct{ &amp;MyStruct{Val: 1} }\n}\n\nfunc myfunc(s *[]MyStruct) {\n    *s = []MyStruct{ MyStruct{Val: 1} }\n}\n\nfunc myfunc(s *[]*MyStruct) {\n    *s = []MyStruct{ &amp;MyStruct{Val: 1} }\n}\n</code></pre>\n\n<p>Again: what are best practices here. I know slices are always pointers, so returning a pointer to a slice isn't useful. However, should I return a slice of struct values, a slice of pointers to structs, should I pass in a pointer to a slice as argument (a pattern used in the <a href=\"https://developers.google.com/appengine/docs/go/datastore/reference#Query.GetAll\">Go App Engine API</a>)?</p>", "language": "go", "question_id": 23542989, "title": "Pointers vs. values in parameters and return values", "segments": [{"type": "CODE", "text": "type MyStruct struct {\n    Val int\n}\n\nfunc myfunc() MyStruct {\n    return MyStruct{Val: 1}\n}\n\nfunc myfunc() *MyStruct {\n    return &MyStruct{}\n}\n\nfunc myfunc(s *MyStruct) {\n    s.Val = 1\n}"}, {"type": "CODE", "text": "func myfunc() []MyStruct {\n    return []MyStruct{ MyStruct{Val: 1} }\n}\n\nfunc myfunc() []*MyStruct {\n    return []MyStruct{ &MyStruct{Val: 1} }\n}\n\nfunc myfunc(s *[]MyStruct) {\n    *s = []MyStruct{ MyStruct{Val: 1} }\n}\n\nfunc myfunc(s *[]*MyStruct) {\n    *s = []MyStruct{ &MyStruct{Val: 1} }\n}"}, {"type": "TEXT", "text": "In Go there are various ways to return a"}, {"type": "TEXT", "text": "value or slice thereof. For individual ones I've seen:"}, {"type": "TEXT", "text": "I understand the differences between these. The first returns a copy of the struct, the second a pointer to the struct value created within the function, the third expects an existing struct to be passed in and overrides the value."}, {"type": "TEXT", "text": "I've seen all of these patterns be used in various contexts, I'm wondering what the best practices are regarding these. When would you use which? For instance, the first one could be ok for small structs (because the overhead is minimal), the second for bigger ones. And the third if you want to be extremely memory efficient, because you can easily reuse a single struct instance between calls. Are there any best practices for when to use which?"}, {"type": "TEXT", "text": "Similarly, the same question regarding slices:"}, {"type": "TEXT", "text": "Again: what are best practices here. I know slices are always pointers, so returning a pointer to a slice isn't useful. However, should I return a slice of struct values, a slice of pointers to structs, should I pass in a pointer to a slice as argument (a pattern used in the"}, {"type": "TEXT", "text": "Go App Engine API"}, {"type": "TEXT", "text": ")?"}]}
{"raw_content": "<p>Is there anything similar to a <code>slice.contains(object)</code> method in Go without having to do a search through each element in a slice? </p>", "language": "go", "question_id": 10485743, "title": "Contains method for a slice", "segments": [{"type": "TEXT", "text": "Is there anything similar to a"}, {"type": "TEXT", "text": "slice.contains(object)"}, {"type": "TEXT", "text": "method in Go without having to do a search through each element in a slice?"}]}
{"raw_content": "<p>What is the difference between the <code>=</code> and <code>:=</code> operators, and what are the use cases for them? They both seem to be for an assignment?</p>", "language": "go", "question_id": 17891226, "title": "Difference between := and = operators in Go", "segments": [{"type": "TEXT", "text": "What is the difference between the"}, {"type": "TEXT", "text": "="}, {"type": "TEXT", "text": "and"}, {"type": "TEXT", "text": ":="}, {"type": "TEXT", "text": "operators, and what are the use cases for them? They both seem to be for an assignment?"}]}
{"raw_content": "<p>I'm trying to convert a string returned from <code>flag.Arg(n)</code> to an <code>int</code>. What is the idiomatic way to do this in Go?</p>", "language": "go", "question_id": 4278430, "title": "Convert string to integer type in Go?", "segments": [{"type": "TEXT", "text": "I'm trying to convert a string returned from"}, {"type": "TEXT", "text": "flag.Arg(n)"}, {"type": "TEXT", "text": "to an"}, {"type": "TEXT", "text": "int"}, {"type": "TEXT", "text": ". What is the idiomatic way to do this in Go?"}]}
{"raw_content": "<p>To test concurrent goroutines, I added a line to a function to make it take a random time to return (up to one second)</p>\n\n<pre><code>time.Sleep(rand.Int31n(1000) * time.Millisecond)\n</code></pre>\n\n<p>However when I compiled, I got this error</p>\n\n<blockquote>\n  <p>.\\crawler.go:49: invalid operation: rand.Int31n(1000) * time.Millisecond (mismatched types int32 and time.Duration)</p>\n</blockquote>\n\n<p>Any ideas? How can I multiply a duration?</p>", "language": "go", "question_id": 17573190, "title": "How to multiply duration by integer?", "segments": [{"type": "CODE", "text": "time.Sleep(rand.Int31n(1000) * time.Millisecond)"}, {"type": "TEXT", "text": "To test concurrent goroutines, I added a line to a function to make it take a random time to return (up to one second)"}, {"type": "TEXT", "text": "However when I compiled, I got this error"}, {"type": "TEXT", "text": ".\\crawler.go:49: invalid operation: rand.Int31n(1000) * time.Millisecond (mismatched types int32 and time.Duration)"}, {"type": "TEXT", "text": "Any ideas? How can I multiply a duration?"}]}
{"raw_content": "<p>I want a random string of characters only (uppercase or lowercase), no numbers, in Go. What is the fastest and simplest way to do this?</p>", "language": "go", "question_id": 22892120, "title": "How to generate a random string of a fixed length in Go?", "segments": [{"type": "TEXT", "text": "I want a random string of characters only (uppercase or lowercase), no numbers, in Go. What is the fastest and simplest way to do this?"}]}
{"raw_content": "<p>Which method is best (most idomatic) for testing non-empty strings (in Go)?</p>\n<pre><code>if len(mystring) &gt; 0 { }\n</code></pre>\n<p>Or:</p>\n<pre><code>if mystring != &quot;&quot; { }\n</code></pre>\n<p>Or something else?</p>", "language": "go", "question_id": 18594330, "title": "What is the best way to test for an empty string in Go?", "segments": [{"type": "CODE", "text": "if len(mystring) > 0 { }"}, {"type": "CODE", "text": "if mystring != \"\" { }"}, {"type": "TEXT", "text": "Which method is best (most idomatic) for testing non-empty strings (in Go)?"}, {"type": "TEXT", "text": "Or:"}, {"type": "TEXT", "text": "Or something else?"}]}
{"raw_content": "<p>How can I check if <code>x</code> is in an array <strong>without</strong> iterating over the entire array, using Go? Does the language have a construct for this?</p>\n<p>Like in Python:</p>\n<pre class=\"lang-py prettyprint-override\"><code>if &quot;x&quot; in array: \n  # do something\n</code></pre>", "language": "go", "question_id": 15323767, "title": "Does Go have &quot;if x in&quot; construct similar to Python?", "segments": [{"type": "CODE", "text": "if \"x\" in array: \n  # do something"}, {"type": "TEXT", "text": "How can I check if"}, {"type": "TEXT", "text": "is in an array"}, {"type": "TEXT", "text": "without"}, {"type": "TEXT", "text": "iterating over the entire array, using Go? Does the language have a construct for this?"}, {"type": "TEXT", "text": "Like in Python:"}]}
{"raw_content": "<p>I'm learning Go but I feel it is a bit annoying that when compiling, I should not leave any variable or package unused. </p>\n\n<p>This is really quite slowing me down. For example, I just wanted to declare a new package and plan to use it later or just uncomment some command to test. I always get the error and need to go comment all of those uses.</p>\n\n<p>Is there any way to avoid this kind of check in Go? </p>", "language": "go", "question_id": 21743841, "title": "How to avoid annoying error &quot;declared and not used&quot;", "segments": [{"type": "TEXT", "text": "I'm learning Go but I feel it is a bit annoying that when compiling, I should not leave any variable or package unused."}, {"type": "TEXT", "text": "This is really quite slowing me down. For example, I just wanted to declare a new package and plan to use it later or just uncomment some command to test. I always get the error and need to go comment all of those uses."}, {"type": "TEXT", "text": "Is there any way to avoid this kind of check in Go?"}]}
{"raw_content": "<p>I'm trying to install <a href=\"https://github.com/ha/doozer\" rel=\"noreferrer\">doozer</a> like this:</p>\n\n<pre><code>$ goinstall github.com/ha/doozer\n</code></pre>\n\n<p>I get these errors. </p>\n\n<blockquote>\n<pre><code>goinstall: os: go/build: package could not be found locally\ngoinstall: fmt: go/build: package could not be found locally\ngoinstall: io: go/build: package could not be found locally\ngoinstall: reflect: go/build: package could not be found locally\ngoinstall: math: go/build: package could not be found locally\ngoinstall: rand: go/build: package could not be found locally\ngoinstall: url: go/build: package could not be found locally\ngoinstall: net: go/build: package could not be found locally\ngoinstall: sync: go/build: package could not be found locally\ngoinstall: runtime: go/build: package could not be found locally\ngoinstall: strings: go/build: package could not be found locally\ngoinstall: sort: go/build: package could not be found locally\ngoinstall: strconv: go/build: package could not be found locally\ngoinstall: bytes: go/build: package could not be found locally\ngoinstall: log: go/build: package could not be found locally\ngoinstall: encoding/binary: go/build: package could not be found locally\n</code></pre>\n</blockquote>", "language": "go", "question_id": 7970390, "title": "What should be the values of GOPATH and GOROOT?", "segments": [{"type": "CODE", "text": "$ goinstall github.com/ha/doozer"}, {"type": "CODE", "text": "goinstall: os: go/build: package could not be found locally\ngoinstall: fmt: go/build: package could not be found locally\ngoinstall: io: go/build: package could not be found locally\ngoinstall: reflect: go/build: package could not be found locally\ngoinstall: math: go/build: package could not be found locally\ngoinstall: rand: go/build: package could not be found locally\ngoinstall: url: go/build: package could not be found locally\ngoinstall: net: go/build: package could not be found locally\ngoinstall: sync: go/build: package could not be found locally\ngoinstall: runtime: go/build: package could not be found locally\ngoinstall: strings: go/build: package could not be found locally\ngoinstall: sort: go/build: package could not be found locally\ngoinstall: strconv: go/build: package could not be found locally\ngoinstall: bytes: go/build: package could not be found locally\ngoinstall: log: go/build: package could not be found locally\ngoinstall: encoding/binary: go/build: package could not be found locally"}, {"type": "TEXT", "text": "I'm trying to install"}, {"type": "TEXT", "text": "like this:"}, {"type": "TEXT", "text": "I get these errors."}]}
{"raw_content": "<p>How can I check if two slices are equal, given that the operators <code>==</code> and <code>!=</code> are not an option?</p>\n<pre><code>package main\n\nimport &quot;fmt&quot;\n\nfunc main() {\n    s1 := []int{1, 2}\n    s2 := []int{1, 2}\n    fmt.Println(s1 == s2)\n}\n</code></pre>\n<p>This does not compile with:</p>\n<blockquote>\n<p>invalid operation: s1 == s2 (slice can only be compared to nil)</p>\n</blockquote>", "language": "go", "question_id": 15311969, "title": "Checking the equality of two slices", "segments": [{"type": "CODE", "text": "package main\n\nimport \"fmt\"\n\nfunc main() {\n    s1 := []int{1, 2}\n    s2 := []int{1, 2}\n    fmt.Println(s1 == s2)\n}"}, {"type": "TEXT", "text": "How can I check if two slices are equal, given that the operators"}, {"type": "TEXT", "text": "and"}, {"type": "TEXT", "text": "!="}, {"type": "TEXT", "text": "are not an option?"}, {"type": "TEXT", "text": "This does not compile with:"}, {"type": "TEXT", "text": "invalid operation: s1 == s2 (slice can only be compared to nil)"}]}
{"raw_content": "<p>Is there a way to get a list of all the keys in a Go language map?  The number of elements is given by <code>len()</code>, but if I have a map like:</p>\n\n<pre><code>m := map[string]string{ \"key1\":\"val1\", \"key2\":\"val2\" };\n</code></pre>\n\n<p>How do I iterate over all the keys?</p>", "language": "go", "question_id": 1841443, "title": "Iterating over all the keys of a map", "segments": [{"type": "CODE", "text": "m := map[string]string{ \"key1\":\"val1\", \"key2\":\"val2\" };"}, {"type": "TEXT", "text": "Is there a way to get a list of all the keys in a Go language map?  The number of elements is given by"}, {"type": "TEXT", "text": "len()"}, {"type": "TEXT", "text": ", but if I have a map like:"}, {"type": "TEXT", "text": "How do I iterate over all the keys?"}]}
{"raw_content": "<p>I created the private repo examplesite/myprivaterepo using the GitHub UI from my browser.</p>\n<p>Then I went to my go directory (on the desktop) and cloned it:</p>\n<pre><code>$ cd $GOPATH\n$ go get github.com/examplesite/myprivaterepo\n</code></pre>\n<p>So far so good. Created the file <code>scheduler.go</code>, added to repo and pushed.</p>\n<pre><code>$ vim scheduler.go\n$ git add scheduler.go\n$ git commit\n$ git push\n</code></pre>\n<p>Everythng's OK. But when I went to a clean laptop  and tried to clone the repo, I got an error:</p>\n<pre><code># Now on laptop, which doesn't yet know about the repo\n$ cd $GOPATH\n$ go get github.com/examplesite/myprivaterepo\n# At this point it should ask for my user ID and password ,right? But it doesn't.\n# Instead, this error occurs:\ncd .; git clone https://github.com/examplesite/myprivaterepo /Users/tom/go/src/github.com/examplesite/myprivaterepo\nCloning into '/Users/tom/go/src/github.com/examplesite/myprivaterepo'...\nfatal: could not read Username for 'https://github.com': terminal prompts disabled\npackage github.com/examplesite/myprivaterepo: exit status 128\n</code></pre>\n<p>Why is my laptop hating on my own repo and how can I get it to accept its fate?</p>\n<p>Thanks.</p>", "language": "go", "question_id": 32232655, "title": "go get results in &#39;terminal prompts disabled&#39; error for GitHub private repo", "segments": [{"type": "CODE", "text": "$ cd $GOPATH\n$ go get github.com/examplesite/myprivaterepo"}, {"type": "CODE", "text": "$ vim scheduler.go\n$ git add scheduler.go\n$ git commit\n$ git push"}, {"type": "CODE", "text": "# Now on laptop, which doesn't yet know about the repo\n$ cd $GOPATH\n$ go get github.com/examplesite/myprivaterepo\n# At this point it should ask for my user ID and password ,right? But it doesn't.\n# Instead, this error occurs:\ncd .; git clone https://github.com/examplesite/myprivaterepo /Users/tom/go/src/github.com/examplesite/myprivaterepo\nCloning into '/Users/tom/go/src/github.com/examplesite/myprivaterepo'...\nfatal: could not read Username for 'https://github.com': terminal prompts disabled\npackage github.com/examplesite/myprivaterepo: exit status 128"}, {"type": "TEXT", "text": "I created the private repo examplesite/myprivaterepo using the GitHub UI from my browser."}, {"type": "TEXT", "text": "Then I went to my go directory (on the desktop) and cloned it:"}, {"type": "TEXT", "text": "So far so good. Created the file"}, {"type": "TEXT", "text": ", added to repo and pushed."}, {"type": "TEXT", "text": "Everythng's OK. But when I went to a clean laptop  and tried to clone the repo, I got an error:"}, {"type": "TEXT", "text": "Why is my laptop hating on my own repo and how can I get it to accept its fate?"}, {"type": "TEXT", "text": "Thanks."}]}
{"raw_content": "<p>I ran <code>go get package</code> to download a package before learning that I needed to set my <code>GOPATH</code> otherwise that package sullies my root Go install (I would much prefer to keep my Go install clean and separate core from custom). How do I remove packages installed previously?</p>", "language": "go", "question_id": 13792254, "title": "Removing packages installed with go get", "segments": [{"type": "CODE", "text": "go get package"}, {"type": "TEXT", "text": "I ran"}, {"type": "TEXT", "text": "to download a package before learning that I needed to set my"}, {"type": "TEXT", "text": "GOPATH"}, {"type": "TEXT", "text": "otherwise that package sullies my root Go install (I would much prefer to keep my Go install clean and separate core from custom). How do I remove packages installed previously?"}]}
{"raw_content": "<p>Is there any simpler/nicer way of getting a slice of keys from a map in Go?</p>\n\n<p>Currently I am iterating over the map and copying the keys to a slice:</p>\n\n<pre class=\"lang-golang prettyprint-override\"><code>i := 0\nkeys := make([]int, len(mymap))\nfor k := range mymap {\n    keys[i] = k\n    i++\n}\n</code></pre>", "language": "go", "question_id": 21362950, "title": "Getting a slice of keys from a map", "segments": [{"type": "CODE", "text": "i := 0\nkeys := make([]int, len(mymap))\nfor k := range mymap {\n    keys[i] = k\n    i++\n}"}, {"type": "TEXT", "text": "Is there any simpler/nicer way of getting a slice of keys from a map in Go?"}, {"type": "TEXT", "text": "Currently I am iterating over the map and copying the keys to a slice:"}]}
{"raw_content": "<p>To declare an empty slice, with a non-fixed size,\nis it better to do:</p>\n\n<pre><code>mySlice1 := make([]int, 0)\n</code></pre>\n\n<p>or:</p>\n\n<pre><code>mySlice2 := []int{}\n</code></pre>\n\n<p>Just wondering which one is the correct way.  </p>", "language": "go", "question_id": 29164375, "title": "Correct way to initialize empty slice", "segments": [{"type": "CODE", "text": "mySlice1 := make([]int, 0)"}, {"type": "CODE", "text": "mySlice2 := []int{}"}, {"type": "TEXT", "text": "To declare an empty slice, with a non-fixed size,\nis it better to do:"}, {"type": "TEXT", "text": "or:"}, {"type": "TEXT", "text": "Just wondering which one is the correct way."}]}
{"raw_content": "<p>There are already several Q&amp;As on this \"<em>X does not implement Y (... method has a pointer receiver)</em>\" thing, but to me, they seems to be talking about different things, and not applying to my specific case.</p>\n\n<p>So, instead of making the question very specific, I'm making it broad and abstract -- Seems like there are several different cases that can make this error happen, can someone summary it up please?</p>\n\n<p>I.e., how to avoid the problem, and if it occurs, what are the possibilities? Thx.</p>", "language": "go", "question_id": 40823315, "title": "X does not implement Y (... method has a pointer receiver)", "segments": [{"type": "TEXT", "text": "There are already several Q&As on this \""}, {"type": "TEXT", "text": "X does not implement Y (... method has a pointer receiver)"}, {"type": "TEXT", "text": "\" thing, but to me, they seems to be talking about different things, and not applying to my specific case."}, {"type": "TEXT", "text": "So, instead of making the question very specific, I'm making it broad and abstract -- Seems like there are several different cases that can make this error happen, can someone summary it up please?"}, {"type": "TEXT", "text": "I.e., how to avoid the problem, and if it occurs, what are the possibilities? Thx."}]}
{"raw_content": "<p>I tried working with Apiary and made a universal template to send JSON to mock server and have this code:</p>\n<pre class=\"lang-golang prettyprint-override\"><code>package main   \nimport (\n        &quot;encoding/json&quot;\n        &quot;fmt&quot;\n        &quot;github.com/jmcvetta/napping&quot;\n        &quot;log&quot;\n        &quot;net/http&quot;\n)\nfunc main() {\n  url := &quot;http://restapi3.apiary.io/notes&quot;\n  fmt.Println(&quot;URL:&gt;&quot;, url)\n    \n  s := napping.Session{}\n  h := &amp;http.Header{}\n  h.Set(&quot;X-Custom-Header&quot;, &quot;myvalue&quot;)\n  s.Header = h    \n  var jsonStr = []byte(`{ &quot;title&quot;: &quot;Buy cheese and bread for breakfast.&quot;}`)    \n  var data map[string]json.RawMessage\n  err := json.Unmarshal(jsonStr, &amp;data)\n  if err != nil {\n        fmt.Println(err)\n  }\n    \n  resp, err := s.Post(url, &amp;data, nil, nil)\n  if err != nil {\n        log.Fatal(err)\n  }\n  fmt.Println(&quot;response Status:&quot;, resp.Status())\n  fmt.Println(&quot;response Headers:&quot;, resp.HttpResponse().Header)\n  fmt.Println(&quot;response Body:&quot;, resp.RawText())\n}\n</code></pre>\n<p>This code doesn't send JSON properly, but I don't know why. The JSON string can be different in every call. I can't use <code>Struct</code> for this.</p>", "language": "go", "question_id": 24455147, "title": "How do I send a JSON string in a POST request in Go", "segments": [{"type": "CODE", "text": "package main   \nimport (\n        \"encoding/json\"\n        \"fmt\"\n        \"github.com/jmcvetta/napping\"\n        \"log\"\n        \"net/http\"\n)\nfunc main() {\n  url := \"http://restapi3.apiary.io/notes\"\n  fmt.Println(\"URL:>\", url)\n    \n  s := napping.Session{}\n  h := &http.Header{}\n  h.Set(\"X-Custom-Header\", \"myvalue\")\n  s.Header = h    \n  var jsonStr = []byte(`{ \"title\": \"Buy cheese and bread for breakfast.\"}`)    \n  var data map[string]json.RawMessage\n  err := json.Unmarshal(jsonStr, &data)\n  if err != nil {\n        fmt.Println(err)\n  }\n    \n  resp, err := s.Post(url, &data, nil, nil)\n  if err != nil {\n        log.Fatal(err)\n  }\n  fmt.Println(\"response Status:\", resp.Status())\n  fmt.Println(\"response Headers:\", resp.HttpResponse().Header)\n  fmt.Println(\"response Body:\", resp.RawText())\n}"}, {"type": "TEXT", "text": "I tried working with Apiary and made a universal template to send JSON to mock server and have this code:"}, {"type": "TEXT", "text": "This code doesn't send JSON properly, but I don't know why. The JSON string can be different in every call. I can't use"}, {"type": "TEXT", "text": "Struct"}, {"type": "TEXT", "text": "for this."}]}
{"raw_content": "<p>I would like to read standard input from the command line, but my attempts have ended with the program exiting before I'm prompted for input. I'm looking for the equivalent of <a href=\"http://msdn.microsoft.com/en-us/library/system.console.readline%28v=vs.110%29.aspx\" rel=\"noreferrer\">Console.ReadLine()</a> in C#.</p>\n<p>This is what I currently have:</p>\n<pre><code>package main\n\nimport (\n    &quot;bufio&quot;\n    &quot;fmt&quot;\n    &quot;os&quot;\n)\n\nfunc main() {\n    reader := bufio.NewReader(os.Stdin)\n    fmt.Print(&quot;Enter text: &quot;)\n    text, _ := reader.ReadString('\\n')\n    fmt.Println(text)\n\n    fmt.Println(&quot;Enter text: &quot;)\n    text2 := &quot;&quot;\n    fmt.Scanln(text2)\n    fmt.Println(text2)\n\n    ln := &quot;&quot;\n    fmt.Sscanln(&quot;%v&quot;, ln)\n    fmt.Println(ln)\n}\n</code></pre>", "language": "go", "question_id": 20895552, "title": "How can I read from standard input in the console?", "segments": [{"type": "CODE", "text": "package main\n\nimport (\n    \"bufio\"\n    \"fmt\"\n    \"os\"\n)\n\nfunc main() {\n    reader := bufio.NewReader(os.Stdin)\n    fmt.Print(\"Enter text: \")\n    text, _ := reader.ReadString('\\n')\n    fmt.Println(text)\n\n    fmt.Println(\"Enter text: \")\n    text2 := \"\"\n    fmt.Scanln(text2)\n    fmt.Println(text2)\n\n    ln := \"\"\n    fmt.Sscanln(\"%v\", ln)\n    fmt.Println(ln)\n}"}, {"type": "TEXT", "text": "I would like to read standard input from the command line, but my attempts have ended with the program exiting before I'm prompted for input. I'm looking for the equivalent of"}, {"type": "TEXT", "text": "Console.ReadLine()"}, {"type": "TEXT", "text": "in C#."}, {"type": "TEXT", "text": "This is what I currently have:"}]}
{"raw_content": "<p>I'm trying to solve a Go language exercise which requires me to have a <em>set</em>. I can create a <code>set</code> type but why doesn't the language come with one?</p>\n<p>Go, having come from Google, where Guava also originated, why didn't the language designers opt for adding support for fundamental data structures? Why force your users to create their own implementations for something so basic as a set?</p>", "language": "go", "question_id": 34018908, "title": "Golang why don&#39;t we have a set datastructure", "segments": [{"type": "TEXT", "text": "I'm trying to solve a Go language exercise which requires me to have a"}, {"type": "TEXT", "text": "set"}, {"type": "TEXT", "text": ". I can create a"}, {"type": "TEXT", "text": "set"}, {"type": "TEXT", "text": "type but why doesn't the language come with one?"}, {"type": "TEXT", "text": "Go, having come from Google, where Guava also originated, why didn't the language designers opt for adding support for fundamental data structures? Why force your users to create their own implementations for something so basic as a set?"}]}
{"raw_content": "<p>I've been trying to learn Go on my own, but I've been stumped on trying read from and write to ordinary files.</p>\n<p>I can get as far as <code>inFile, _ := os.Open(INFILE, 0, 0)</code>, but actually getting the content of the file doesn't make sense, because the read function takes a <code>[]byte</code> as a parameter.</p>\n<pre><code>func (file *File) Read(b []byte) (n int, err Error)\n</code></pre>", "language": "go", "question_id": 1821811, "title": "How to read/write from/to a file using Go", "segments": [{"type": "CODE", "text": "inFile, _ := os.Open(INFILE, 0, 0)"}, {"type": "CODE", "text": "func (file *File) Read(b []byte) (n int, err Error)"}, {"type": "TEXT", "text": "I've been trying to learn Go on my own, but I've been stumped on trying read from and write to ordinary files."}, {"type": "TEXT", "text": "I can get as far as"}, {"type": "TEXT", "text": ", but actually getting the content of the file doesn't make sense, because the read function takes a"}, {"type": "TEXT", "text": "as a parameter."}]}
{"raw_content": "<p>How do I write a <code>switch</code> statement in Ruby?</p>", "language": "ruby", "question_id": 948135, "title": "How to write a switch statement in Ruby", "segments": [{"type": "TEXT", "text": "How do I write a"}, {"type": "TEXT", "text": "switch"}, {"type": "TEXT", "text": "statement in Ruby?"}]}
{"raw_content": "<p>I have a value <code>'Dog'</code> and an array <code>['Cat', 'Dog', 'Bird']</code>. </p>\n\n<p>How do I check if it exists in the array without looping through it? Is there a simple way of checking if the value exists, nothing more?</p>", "language": "ruby", "question_id": 1986386, "title": "How to check if a value exists in an array in Ruby", "segments": [{"type": "CODE", "text": "['Cat', 'Dog', 'Bird']"}, {"type": "TEXT", "text": "I have a value"}, {"type": "TEXT", "text": "and an array"}, {"type": "TEXT", "text": "."}, {"type": "TEXT", "text": "How do I check if it exists in the array without looping through it? Is there a simple way of checking if the value exists, nothing more?"}]}
{"raw_content": "<p>How do I call shell commands from inside of a Ruby program? How do I then get output from these commands back into Ruby?</p>", "language": "ruby", "question_id": 2232, "title": "How to call shell commands from Ruby", "segments": [{"type": "TEXT", "text": "How do I call shell commands from inside of a Ruby program? How do I then get output from these commands back into Ruby?"}]}
{"raw_content": "<p>How do I take a string and convert it to lower or upper case in Ruby?</p>", "language": "ruby", "question_id": 1020568, "title": "How to convert a string to lower or upper case in Ruby", "segments": [{"type": "TEXT", "text": "How do I take a string and convert it to lower or upper case in Ruby?"}]}
{"raw_content": "<p>I have a rake task that needs to insert a value into multiple databases.  </p>\n\n<p>I'd like to pass this value into the rake task from the command line, or from <em>another</em> rake task.</p>\n\n<p>How can I do this?</p>", "language": "ruby", "question_id": 825748, "title": "How to pass command line arguments to a rake task", "segments": [{"type": "TEXT", "text": "I have a rake task that needs to insert a value into multiple databases."}, {"type": "TEXT", "text": "I'd like to pass this value into the rake task from the command line, or from"}, {"type": "TEXT", "text": "another"}, {"type": "TEXT", "text": "rake task."}, {"type": "TEXT", "text": "How can I do this?"}]}
{"raw_content": "<p>I find myself repeatedly looking for a clear definition of the differences of <code>nil?</code>, <code>blank?</code>, and <code>empty?</code> in Ruby on Rails.  Here's the closest I've come:</p>\n\n<ul>\n<li><p><code>blank?</code> objects are false, empty, or a whitespace string. For example, <code>\"\"</code>, <code>\" \"</code>, <code>nil</code>, <code>[]</code>, and <code>{}</code> are blank.</p></li>\n<li><p><code>nil?</code> objects are instances of NilClass.</p></li>\n<li><p><code>empty?</code> objects are class-specific, and the definition varies from class to class. A string is empty if it has no characters, and an array is empty if it contains no items.</p></li>\n</ul>\n\n<p>Is there anything missing, or a tighter comparison that can be made?</p>", "language": "ruby", "question_id": 885414, "title": "How to understand nil vs. empty vs. blank in Ruby", "segments": [{"type": "CODE", "text": "\" \""}, {"type": "TEXT", "text": "I find myself repeatedly looking for a clear definition of the differences of"}, {"type": "TEXT", "text": "nil?"}, {"type": "TEXT", "text": ","}, {"type": "TEXT", "text": "blank?"}, {"type": "TEXT", "text": ", and"}, {"type": "TEXT", "text": "empty?"}, {"type": "TEXT", "text": "in Ruby on Rails.  Here's the closest I've come:"}, {"type": "TEXT", "text": "blank?"}, {"type": "TEXT", "text": "objects are false, empty, or a whitespace string. For example,"}, {"type": "TEXT", "text": "\"\""}, {"type": "TEXT", "text": ","}, {"type": "TEXT", "text": ","}, {"type": "TEXT", "text": "nil"}, {"type": "TEXT", "text": ","}, {"type": "TEXT", "text": "[]"}, {"type": "TEXT", "text": ", and"}, {"type": "TEXT", "text": "{}"}, {"type": "TEXT", "text": "are blank."}, {"type": "TEXT", "text": "nil?"}, {"type": "TEXT", "text": "objects are instances of NilClass."}, {"type": "TEXT", "text": "empty?"}, {"type": "TEXT", "text": "objects are class-specific, and the definition varies from class to class. A string is empty if it has no characters, and an array is empty if it contains no items."}, {"type": "TEXT", "text": "Is there anything missing, or a tighter comparison that can be made?"}]}
{"raw_content": "<p>I am having a hard time understanding <code>attr_accessor</code> in <strong>Ruby</strong>.<br>\nCan someone explain this to me?</p>", "language": "ruby", "question_id": 4370960, "title": "What is attr_accessor in Ruby?", "segments": [{"type": "TEXT", "text": "I am having a hard time understanding"}, {"type": "TEXT", "text": "attr_accessor"}, {"type": "TEXT", "text": "in"}, {"type": "TEXT", "text": "Ruby"}, {"type": "TEXT", "text": "."}, {"type": "TEXT", "text": "Can someone explain this to me?"}]}
{"raw_content": "<p>How can I get the current <strong>absolute</strong> URL in my Ruby on Rails view?</p>\n<p>The <code>request.request_uri</code> only returns the <strong>relative</strong> URL.</p>", "language": "ruby", "question_id": 2165665, "title": "How do I get the current absolute URL in Ruby on Rails?", "segments": [{"type": "TEXT", "text": "How can I get the current"}, {"type": "TEXT", "text": "absolute"}, {"type": "TEXT", "text": "URL in my Ruby on Rails view?"}, {"type": "TEXT", "text": "The"}, {"type": "TEXT", "text": "request.request_uri"}, {"type": "TEXT", "text": "only returns the"}, {"type": "TEXT", "text": "relative"}, {"type": "TEXT", "text": "URL."}]}
{"raw_content": "<p>I don't use the RI or RDoc output from the gems I install in my machine or in the servers I handle (I use other means of documentation).</p>\n\n<p>Every gem I install installs RI and RDoc documentation by default, because I forget to set <code>--no-ri --no-rdoc</code>.</p>\n\n<p>Is there a way to make those two flags the default?</p>", "language": "ruby", "question_id": 1381725, "title": "How to make --no-ri --no-rdoc the default for gem install?", "segments": [{"type": "CODE", "text": "--no-ri --no-rdoc"}, {"type": "TEXT", "text": "I don't use the RI or RDoc output from the gems I install in my machine or in the servers I handle (I use other means of documentation)."}, {"type": "TEXT", "text": "Every gem I install installs RI and RDoc documentation by default, because I forget to set"}, {"type": "TEXT", "text": "."}, {"type": "TEXT", "text": "Is there a way to make those two flags the default?"}]}
{"raw_content": "<p>What is the Authenticity Token in Rails?</p>", "language": "ruby", "question_id": 941594, "title": "Understanding the Rails Authenticity Token", "segments": [{"type": "TEXT", "text": "What is the Authenticity Token in Rails?"}]}
{"raw_content": "<p>Using the command-line <code>gem</code> tool, how can I install a specific version of a gem?</p>", "language": "ruby", "question_id": 17026441, "title": "Ruby: How to install a specific version of a ruby gem?", "segments": [{"type": "TEXT", "text": "Using the command-line"}, {"type": "TEXT", "text": "gem"}, {"type": "TEXT", "text": "tool, how can I install a specific version of a gem?"}]}
{"raw_content": "<p>What does <code>class &lt;&lt; self</code> do in <strong>Ruby</strong>?</p>", "language": "ruby", "question_id": 2505067, "title": "class &lt;&lt; self idiom in Ruby", "segments": [{"type": "CODE", "text": "class << self"}, {"type": "TEXT", "text": "What does"}, {"type": "TEXT", "text": "do in"}, {"type": "TEXT", "text": "Ruby"}, {"type": "TEXT", "text": "?"}]}
{"raw_content": "<p>I'm looking at the documentation for FileUtils.   </p>\n\n<p>I'm confused by the following line:</p>\n\n<pre><code>FileUtils.cp %w(cgi.rb complex.rb date.rb), '/usr/lib/ruby/1.6'\n</code></pre>\n\n<p>What does the <code>%w</code> mean? Can you point me to the documentation? </p>", "language": "ruby", "question_id": 1274675, "title": "What does %w(array) mean?", "segments": [{"type": "CODE", "text": "FileUtils.cp %w(cgi.rb complex.rb date.rb), '/usr/lib/ruby/1.6'"}, {"type": "TEXT", "text": "I'm looking at the documentation for FileUtils."}, {"type": "TEXT", "text": "I'm confused by the following line:"}, {"type": "TEXT", "text": "What does the"}, {"type": "TEXT", "text": "mean? Can you point me to the documentation?"}]}
{"raw_content": "<p>Ryan Daviss <a href=\"http://www.zenspider.com/ruby/quickref.html#general-tips\" rel=\"noreferrer\">Ruby QuickRef</a> says (without explanation):</p>\n\n<blockquote>\n  <p>Dont rescue Exception. EVER. or I will stab you.</p>\n</blockquote>\n\n<p>Why not? Whats the right thing to do?</p>", "language": "ruby", "question_id": 10048173, "title": "Why is it bad style to `rescue Exception =&gt; e` in Ruby?", "segments": [{"type": "TEXT", "text": "Ryan Daviss"}, {"type": "TEXT", "text": "Ruby QuickRef"}, {"type": "TEXT", "text": "says (without explanation):"}, {"type": "TEXT", "text": "Dont rescue Exception. EVER. or I will stab you."}, {"type": "TEXT", "text": "Why not? Whats the right thing to do?"}]}
{"raw_content": "<p>I have a string variable with content:</p>\n\n<pre><code>varMessage =   \n            \"hi/thsid/sdfhsjdf/dfjsd/sdjfsdn\\n\"\n\n\n            \"/my/name/is/balaji.so\\n\"\n            \"call::myFunction(int const&amp;)\\n\"\n            \"void::secondFunction(char const&amp;)\\n\"\n             .\n             .\n             .\n            \"this/is/last/line/liobrary.so\"\n</code></pre>\n\n<p>In the string I have to find a sub-string:</p>\n\n<pre><code>\"hi/thsid/sdfhsjdf/dfjsd/sdjfsdn\\n\"\n\n\"/my/name/is/balaji.so\\n\"\n\"call::myFunction(int const&amp;)\\n\"\n</code></pre>\n\n<p>How can I find it? I need to determine whether the sub-string is present or not.</p>", "language": "ruby", "question_id": 8258517, "title": "How to check whether a string contains a substring in Ruby", "segments": [{"type": "CODE", "text": "varMessage =   \n            \"hi/thsid/sdfhsjdf/dfjsd/sdjfsdn\\n\"\n\n\n            \"/my/name/is/balaji.so\\n\"\n            \"call::myFunction(int const&)\\n\"\n            \"void::secondFunction(char const&)\\n\"\n             .\n             .\n             .\n            \"this/is/last/line/liobrary.so\""}, {"type": "CODE", "text": "\"hi/thsid/sdfhsjdf/dfjsd/sdjfsdn\\n\"\n\n\"/my/name/is/balaji.so\\n\"\n\"call::myFunction(int const&)\\n\""}, {"type": "TEXT", "text": "I have a string variable with content:"}, {"type": "TEXT", "text": "In the string I have to find a sub-string:"}, {"type": "TEXT", "text": "How can I find it? I need to determine whether the sub-string is present or not."}]}
{"raw_content": "<p>How can I comment multiple lines in Ruby?</p>", "language": "ruby", "question_id": 2989762, "title": "Multi-Line Comments in Ruby?", "segments": [{"type": "TEXT", "text": "How can I comment multiple lines in Ruby?"}]}
{"raw_content": "<p>I am in the process of porting a CLI library from Ruby over to Node.js. In my code I execute several third party binaries when necessary. I am not sure how best to accomplish this in Node.</p>\n\n<p>Here's an example in Ruby where I call PrinceXML to convert a file to a PDF:</p>\n\n<pre><code>cmd = system(\"prince -v builds/pdf/book.html -o builds/pdf/book.pdf\")\n</code></pre>\n\n<p>What is the equivalent code in Node?</p>", "language": "ruby", "question_id": 20643470, "title": "Execute a command line binary with Node.js", "segments": [{"type": "CODE", "text": "cmd = system(\"prince -v builds/pdf/book.html -o builds/pdf/book.pdf\")"}, {"type": "TEXT", "text": "I am in the process of porting a CLI library from Ruby over to Node.js. In my code I execute several third party binaries when necessary. I am not sure how best to accomplish this in Node."}, {"type": "TEXT", "text": "Here's an example in Ruby where I call PrinceXML to convert a file to a PDF:"}, {"type": "TEXT", "text": "What is the equivalent code in Node?"}]}
{"raw_content": "<p>How do I generate a random number between <code>0</code> and <code>n</code>?</p>", "language": "ruby", "question_id": 198460, "title": "How to get a random number in Ruby", "segments": [{"type": "TEXT", "text": "How do I generate a random number between"}, {"type": "TEXT", "text": "0"}, {"type": "TEXT", "text": "and"}, {"type": "TEXT", "text": "n"}, {"type": "TEXT", "text": "?"}]}
{"raw_content": "<p>I'm currently generating an 8-character pseudo-random uppercase string for \"A\" .. \"Z\":</p>\n\n<pre><code>value = \"\"; 8.times{value  &lt;&lt; (65 + rand(25)).chr}\n</code></pre>\n\n<p>but it doesn't look clean, and it can't be passed as an argument since it isn't a single statement.  To get a mixed-case string \"a\" .. \"z\" plus \"A\" .. \"Z\", I changed it to:</p>\n\n<pre><code>value = \"\"; 8.times{value &lt;&lt; ((rand(2)==1?65:97) + rand(25)).chr}\n</code></pre>\n\n<p>but it looks like trash.</p>\n\n<p>Does anyone have a better method?</p>", "language": "ruby", "question_id": 88311, "title": "How to generate a random string in Ruby", "segments": [{"type": "CODE", "text": "value = \"\"; 8.times{value  << (65 + rand(25)).chr}"}, {"type": "CODE", "text": "value = \"\"; 8.times{value << ((rand(2)==1?65:97) + rand(25)).chr}"}, {"type": "TEXT", "text": "I'm currently generating an 8-character pseudo-random uppercase string for \"A\" .. \"Z\":"}, {"type": "TEXT", "text": "but it doesn't look clean, and it can't be passed as an argument since it isn't a single statement.  To get a mixed-case string \"a\" .. \"z\" plus \"A\" .. \"Z\", I changed it to:"}, {"type": "TEXT", "text": "but it looks like trash."}, {"type": "TEXT", "text": "Does anyone have a better method?"}]}
{"raw_content": "<p>I would like my JSON output in Ruby on Rails to be \"pretty\" or nicely formatted. </p>\n\n<p>Right now, I call <code>to_json</code> and my JSON is all on one line.  At times this can be difficult to see if there is a problem in the JSON output stream.</p>\n\n<p>Is there way to configure to make my JSON \"pretty\" or nicely formatted in Rails?</p>", "language": "ruby", "question_id": 86653, "title": "How to &quot;pretty&quot; format JSON output", "segments": [{"type": "TEXT", "text": "I would like my JSON output in Ruby on Rails to be \"pretty\" or nicely formatted."}, {"type": "TEXT", "text": "Right now, I call"}, {"type": "TEXT", "text": "to_json"}, {"type": "TEXT", "text": "and my JSON is all on one line.  At times this can be difficult to see if there is a problem in the JSON output stream."}, {"type": "TEXT", "text": "Is there way to configure to make my JSON \"pretty\" or nicely formatted in Rails?"}]}
{"raw_content": "<p>I want to check whether the \"user\" key is present or not in the session hash. How can I do this?</p>\n\n<p>Note that I don't want to check whether the key's value is nil or not. I just want to check whether the \"user\" <em>key</em> is present.</p>", "language": "ruby", "question_id": 4528506, "title": "How to check if a specific key is present in a hash or not?", "segments": [{"type": "TEXT", "text": "I want to check whether the \"user\" key is present or not in the session hash. How can I do this?"}, {"type": "TEXT", "text": "Note that I don't want to check whether the key's value is nil or not. I just want to check whether the \"user\""}, {"type": "TEXT", "text": "key"}, {"type": "TEXT", "text": "is present."}]}
{"raw_content": "<p>In C and many other languages, there is a <code>continue</code> keyword that, when used inside of a loop, jumps to the next iteration of the loop. Is there any equivalent of this <code>continue</code> keyword in Ruby?</p>", "language": "ruby", "question_id": 4010039, "title": "Equivalent of &quot;continue&quot; in Ruby", "segments": [{"type": "TEXT", "text": "In C and many other languages, there is a"}, {"type": "TEXT", "text": "continue"}, {"type": "TEXT", "text": "keyword that, when used inside of a loop, jumps to the next iteration of the loop. Is there any equivalent of this"}, {"type": "TEXT", "text": "continue"}, {"type": "TEXT", "text": "keyword in Ruby?"}]}
{"raw_content": "<p>What's the syntax for dropping a database table column through a <a href=\"https://guides.rubyonrails.org/active_record_migrations.html\" rel=\"noreferrer\">Rails migration</a>?</p>", "language": "ruby", "question_id": 2831059, "title": "How to drop columns using Rails migration", "segments": [{"type": "TEXT", "text": "What's the syntax for dropping a database table column through a"}, {"type": "TEXT", "text": "Rails migration"}, {"type": "TEXT", "text": "?"}]}
{"raw_content": "<p>The difference between <code>rake db:migrate</code> and <code>rake db:reset</code> is pretty clear to me. The thing which I don't understand is how <code>rake db:schema:load</code> is different from the former two.</p>\n<p>Just to be sure that I am on the same page:</p>\n<ul>\n<li><code>rake db:migrate</code> - Runs the migrations which haven't been run yet.</li>\n<li><code>rake db:reset</code> - Clears the database (presumably does a <code>rake db:drop</code> + <code>rake db:create</code> + <code>rake db:migrate</code>) and runs migration on a fresh database.</li>\n</ul>", "language": "ruby", "question_id": 10301794, "title": "Difference between rake db:migrate db:reset and db:schema:load", "segments": [{"type": "CODE", "text": "rake db:migrate"}, {"type": "CODE", "text": "rake db:reset"}, {"type": "CODE", "text": "rake db:schema:load"}, {"type": "CODE", "text": "rake db:drop"}, {"type": "CODE", "text": "rake db:create"}, {"type": "TEXT", "text": "The difference between"}, {"type": "TEXT", "text": "and"}, {"type": "TEXT", "text": "is pretty clear to me. The thing which I don't understand is how"}, {"type": "TEXT", "text": "is different from the former two."}, {"type": "TEXT", "text": "Just to be sure that I am on the same page:"}, {"type": "TEXT", "text": "- Runs the migrations which haven't been run yet."}, {"type": "TEXT", "text": "- Clears the database (presumably does a"}, {"type": "TEXT", "text": "+"}, {"type": "TEXT", "text": "+"}, {"type": "TEXT", "text": ") and runs migration on a fresh database."}]}
{"raw_content": "<p>To add a new pair to Hash I do:</p>\n\n<pre><code>{:a =&gt; 1, :b =&gt; 2}.merge!({:c =&gt; 3})   #=&gt; {:a =&gt; 1, :b =&gt; 2, :c =&gt; 3}\n</code></pre>\n\n<p>Is there a similar way to delete a key from Hash ?</p>\n\n<p>This works:</p>\n\n<pre><code>{:a =&gt; 1, :b =&gt; 2}.reject! { |k| k == :a }   #=&gt; {:b =&gt; 2}\n</code></pre>\n\n<p>but I would expect to have something like:</p>\n\n<pre><code>{:a =&gt; 1, :b =&gt; 2}.delete!(:a)   #=&gt; {:b =&gt; 2}\n</code></pre>\n\n<p>It is important that the returning value will be the remaining hash, so I could do things like:</p>\n\n<pre><code>foo(my_hash.reject! { |k| k == my_key })\n</code></pre>\n\n<p>in one line.</p>", "language": "ruby", "question_id": 6227600, "title": "How to remove a key from Hash and get the remaining hash in Ruby/Rails?", "segments": [{"type": "CODE", "text": "{:a => 1, :b => 2}.merge!({:c => 3})   #=> {:a => 1, :b => 2, :c => 3}"}, {"type": "CODE", "text": "{:a => 1, :b => 2}.reject! { |k| k == :a }   #=> {:b => 2}"}, {"type": "CODE", "text": "{:a => 1, :b => 2}.delete!(:a)   #=> {:b => 2}"}, {"type": "CODE", "text": "foo(my_hash.reject! { |k| k == my_key })"}, {"type": "TEXT", "text": "To add a new pair to Hash I do:"}, {"type": "TEXT", "text": "Is there a similar way to delete a key from Hash ?"}, {"type": "TEXT", "text": "This works:"}, {"type": "TEXT", "text": "but I would expect to have something like:"}, {"type": "TEXT", "text": "It is important that the returning value will be the remaining hash, so I could do things like:"}, {"type": "TEXT", "text": "in one line."}]}
{"raw_content": "<p>What is the Ruby function to remove <strong>all</strong> white spaces? I'm looking for something kind of like PHP's <code>trim()</code>?</p>", "language": "ruby", "question_id": 1634750, "title": "Ruby function to remove all white spaces?", "segments": [{"type": "TEXT", "text": "What is the Ruby function to remove"}, {"type": "TEXT", "text": "all"}, {"type": "TEXT", "text": "white spaces? I'm looking for something kind of like PHP's"}, {"type": "TEXT", "text": "trim()"}, {"type": "TEXT", "text": "?"}]}
{"raw_content": "<p>I need to read the data out of database and then save it in a text file.</p>\n\n<p>How can I do that in Ruby? Is there any file management system in Ruby?</p>", "language": "ruby", "question_id": 2777802, "title": "How to write to file in Ruby?", "segments": [{"type": "TEXT", "text": "I need to read the data out of database and then save it in a text file."}, {"type": "TEXT", "text": "How can I do that in Ruby? Is there any file management system in Ruby?"}]}
{"raw_content": "<p>In Ruby some methods have a question mark (<code>?</code>) that ask a question like <code>include?</code> that ask if the object in question is included, this then returns a true/false.</p>\n\n<p>But why do some methods have exclamation marks (<code>!</code>) where others don't?</p>\n\n<p>What does it mean?</p>", "language": "ruby", "question_id": 612189, "title": "Why are exclamation marks used in Ruby methods?", "segments": [{"type": "TEXT", "text": "In Ruby some methods have a question mark ("}, {"type": "TEXT", "text": "?"}, {"type": "TEXT", "text": ") that ask a question like"}, {"type": "TEXT", "text": "include?"}, {"type": "TEXT", "text": "that ask if the object in question is included, this then returns a true/false."}, {"type": "TEXT", "text": "But why do some methods have exclamation marks ("}, {"type": "TEXT", "text": "!"}, {"type": "TEXT", "text": ") where others don't?"}, {"type": "TEXT", "text": "What does it mean?"}]}
{"raw_content": "<p>Is there a quick way to find every match of a regular expression in Ruby? I've looked through the Regex object in the Ruby STL and searched on Google to no avail.</p>", "language": "ruby", "question_id": 80357, "title": "How to match all occurrences of a regular expression in Ruby", "segments": [{"type": "TEXT", "text": "Is there a quick way to find every match of a regular expression in Ruby? I've looked through the Regex object in the Ruby STL and searched on Google to no avail."}]}
{"raw_content": "<p>I want to know if there is a much cleaner way of doing this. Basically, I want to pick a random element from an array of variable length.  Normally, I would do it like this:</p>\n\n<pre><code>myArray = [\"stuff\", \"widget\", \"ruby\", \"goodies\", \"java\", \"emerald\", \"etc\" ]\nitem = myArray[rand(myarray.length)]\n</code></pre>\n\n<p>Is there something that is more readable / simpler to replace the second line? Or is that the best way to do it. I suppose you could do <code>myArray.shuffle.first</code>, but I only saw <code>#shuffle</code> a few minutes ago on SO, I haven't actually used it yet.</p>", "language": "ruby", "question_id": 3482149, "title": "How do I pick randomly from an array?", "segments": [{"type": "CODE", "text": "myArray = [\"stuff\", \"widget\", \"ruby\", \"goodies\", \"java\", \"emerald\", \"etc\" ]\nitem = myArray[rand(myarray.length)]"}, {"type": "TEXT", "text": "I want to know if there is a much cleaner way of doing this. Basically, I want to pick a random element from an array of variable length.  Normally, I would do it like this:"}, {"type": "TEXT", "text": "Is there something that is more readable / simpler to replace the second line? Or is that the best way to do it. I suppose you could do"}, {"type": "TEXT", "text": "myArray.shuffle.first"}, {"type": "TEXT", "text": ", but I only saw"}, {"type": "TEXT", "text": "#shuffle"}, {"type": "TEXT", "text": "a few minutes ago on SO, I haven't actually used it yet."}]}
{"raw_content": "<p>How can I remove RVM (Ruby Version Manager) from my system?</p>", "language": "ruby", "question_id": 3558656, "title": "How to remove RVM (Ruby Version Manager) from my system", "segments": [{"type": "TEXT", "text": "How can I remove RVM (Ruby Version Manager) from my system?"}]}
{"raw_content": "<p>I'm trying to install a gem using <code>gem install mygem</code> or update RubyGems using <code>gem update --system</code>, and it fails with this error:</p>\n<pre class=\"lang-none prettyprint-override\"><code>ERROR:  While executing gem ... (Gem::FilePermissionError)\nYou don't have write permissions for the /Library/Ruby/Gems/2.0.0 directory.\n</code></pre>\n<p>Does anyone have an idea how to solve this?</p>", "language": "ruby", "question_id": 14607193, "title": "How to install a gem or update RubyGems if it fails with a permissions error", "segments": [{"type": "CODE", "text": "gem install mygem"}, {"type": "CODE", "text": "gem update --system"}, {"type": "CODE", "text": "ERROR:  While executing gem ... (Gem::FilePermissionError)\nYou don't have write permissions for the /Library/Ruby/Gems/2.0.0 directory."}, {"type": "TEXT", "text": "I'm trying to install a gem using"}, {"type": "TEXT", "text": "or update RubyGems using"}, {"type": "TEXT", "text": ", and it fails with this error:"}, {"type": "TEXT", "text": "Does anyone have an idea how to solve this?"}]}
{"raw_content": "<p>I was wondering if <code>ensure</code> was the Ruby equivalent of <code>finally</code> in C#? Should I have:</p>\n<pre class=\"lang-ruby prettyprint-override\"><code>file = File.open(&quot;myFile.txt&quot;, &quot;w&quot;)\n\nbegin\n  file &lt;&lt; &quot;#{content} \\n&quot;\nrescue\n  # handle the error here\nensure\n  file.close unless file.nil?\nend\n</code></pre>\n<p>or should I do this?</p>\n<pre class=\"lang-ruby prettyprint-override\"><code>#store the file\nfile = File.open(&quot;myFile.txt&quot;, &quot;w&quot;)\n\nbegin\n  file &lt;&lt; &quot;#{content} \\n&quot;\n  file.close\nrescue\n  # handle the error here\nensure\n  file.close unless file.nil?\nend\n</code></pre>\n<p>Does <code>ensure</code> get called no matter what even if an exception isn't raised?</p>", "language": "ruby", "question_id": 2191632, "title": "Begin, Rescue and Ensure in Ruby?", "segments": [{"type": "CODE", "text": "file = File.open(\"myFile.txt\", \"w\")\n\nbegin\n  file << \"#{content} \\n\"\nrescue\n  # handle the error here\nensure\n  file.close unless file.nil?\nend"}, {"type": "CODE", "text": "#store the file\nfile = File.open(\"myFile.txt\", \"w\")\n\nbegin\n  file << \"#{content} \\n\"\n  file.close\nrescue\n  # handle the error here\nensure\n  file.close unless file.nil?\nend"}, {"type": "TEXT", "text": "I was wondering if"}, {"type": "TEXT", "text": "was the Ruby equivalent of"}, {"type": "TEXT", "text": "finally"}, {"type": "TEXT", "text": "in C#? Should I have:"}, {"type": "TEXT", "text": "or should I do this?"}, {"type": "TEXT", "text": "Does"}, {"type": "TEXT", "text": "get called no matter what even if an exception isn't raised?"}]}
{"raw_content": "<p>I have an array of integers.</p>\n\n<p>For example:</p>\n\n<pre><code>array = [123,321,12389]\n</code></pre>\n\n<p>Is there any nice way to get the sum of them?</p>\n\n<p>I know, that </p>\n\n<pre><code>sum = 0\narray.each { |a| sum+=a }\n</code></pre>\n\n<p>would work.</p>", "language": "ruby", "question_id": 1538789, "title": "How to sum array of numbers in Ruby?", "segments": [{"type": "CODE", "text": "array = [123,321,12389]"}, {"type": "CODE", "text": "sum = 0\narray.each { |a| sum+=a }"}, {"type": "TEXT", "text": "I have an array of integers."}, {"type": "TEXT", "text": "For example:"}, {"type": "TEXT", "text": "Is there any nice way to get the sum of them?"}, {"type": "TEXT", "text": "I know, that"}, {"type": "TEXT", "text": "would work."}]}
{"raw_content": "<p>How can I check whether a variable is defined in Ruby?  Is there an <code>isset</code>-type method available?</p>", "language": "ruby", "question_id": 288715, "title": "Checking if a variable is defined?", "segments": [{"type": "TEXT", "text": "How can I check whether a variable is defined in Ruby?  Is there an"}, {"type": "TEXT", "text": "isset"}, {"type": "TEXT", "text": "-type method available?"}]}
{"raw_content": "<p>I am trying to understand the difference between these four methods. I know by default that <code>==</code> calls the method <code>equal?</code> which returns true when both operands refer to exactly the same object.</p>\n\n<p><code>===</code> by default also calls <code>==</code> which calls <code>equal?</code>... okay, so if all these three methods are not overridden, then I guess\n<code>===</code>, <code>==</code> and <code>equal?</code> do exactly the same thing?</p>\n\n<p>Now comes <code>eql?</code>. What does this do (by default)? Does it make a call to the operand's hash/id? </p>\n\n<p>Why does Ruby have so many equality signs? Are they supposed to differ in semantics?</p>", "language": "ruby", "question_id": 7156955, "title": "What&#39;s the difference between equal?, eql?, ===, and ==?", "segments": [{"type": "TEXT", "text": "I am trying to understand the difference between these four methods. I know by default that"}, {"type": "TEXT", "text": "=="}, {"type": "TEXT", "text": "calls the method"}, {"type": "TEXT", "text": "equal?"}, {"type": "TEXT", "text": "which returns true when both operands refer to exactly the same object."}, {"type": "TEXT", "text": "==="}, {"type": "TEXT", "text": "by default also calls"}, {"type": "TEXT", "text": "=="}, {"type": "TEXT", "text": "which calls"}, {"type": "TEXT", "text": "equal?"}, {"type": "TEXT", "text": "... okay, so if all these three methods are not overridden, then I guess"}, {"type": "TEXT", "text": "==="}, {"type": "TEXT", "text": ","}, {"type": "TEXT", "text": "=="}, {"type": "TEXT", "text": "and"}, {"type": "TEXT", "text": "equal?"}, {"type": "TEXT", "text": "do exactly the same thing?"}, {"type": "TEXT", "text": "Now comes"}, {"type": "TEXT", "text": "eql?"}, {"type": "TEXT", "text": ". What does this do (by default)? Does it make a call to the operand's hash/id?"}, {"type": "TEXT", "text": "Why does Ruby have so many equality signs? Are they supposed to differ in semantics?"}]}
{"raw_content": "<p>I tried:</p>\n<pre><code>somearray = [&quot;some&quot;, &quot;thing&quot;]\nanotherarray = [&quot;another&quot;, &quot;thing&quot;]\nsomearray.push(anotherarray.flatten!)\n</code></pre>\n<p>I expected</p>\n<pre><code>[&quot;some&quot;, &quot;thing&quot;, &quot;another&quot;, &quot;thing&quot;]\n</code></pre>\n<p>but got</p>\n<pre><code>[&quot;some&quot;, &quot;thing&quot;, nil]\n</code></pre>", "language": "ruby", "question_id": 1801516, "title": "How do you add an array to another array in Ruby and not end up with a multi-dimensional result?", "segments": [{"type": "CODE", "text": "somearray = [\"some\", \"thing\"]\nanotherarray = [\"another\", \"thing\"]\nsomearray.push(anotherarray.flatten!)"}, {"type": "CODE", "text": "[\"some\", \"thing\", \"another\", \"thing\"]"}, {"type": "CODE", "text": "[\"some\", \"thing\", nil]"}, {"type": "TEXT", "text": "I tried:"}, {"type": "TEXT", "text": "I expected"}, {"type": "TEXT", "text": "but got"}]}
{"raw_content": "<p>What is the difference? When should I use which? Why are there so many of them?</p>", "language": "ruby", "question_id": 3893278, "title": "Ruby: kind_of? vs. instance_of? vs. is_a?", "segments": [{"type": "TEXT", "text": "What is the difference? When should I use which? Why are there so many of them?"}]}
{"raw_content": "<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"https://stackoverflow.com/questions/3558656/how-to-remove-rvm-ruby-version-manager-from-my-system\">How to remove rvm (ruby version manager) from my system?</a>  </p>\n</blockquote>\n\n\n\n<p>How can I uninstall (or reinstall) RVM on Ubuntu 9.10? I messed up my current installation.</p>", "language": "ruby", "question_id": 3950260, "title": "How to Uninstall RVM?", "segments": [{"type": "TEXT", "text": "Possible Duplicate:"}, {"type": "TEXT", "text": "How to remove rvm (ruby version manager) from my system?"}, {"type": "TEXT", "text": "How can I uninstall (or reinstall) RVM on Ubuntu 9.10? I messed up my current installation."}]}
{"raw_content": "<p>I found this code in <a href=\"http://railscasts.com/episodes/167-more-on-virtual-attributes\" rel=\"noreferrer\">a RailsCast</a>:</p>\n\n<pre><code>def tag_names\n  @tag_names || tags.map(&amp;:name).join(' ')\nend\n</code></pre>\n\n<p>What does the <code>(&amp;:name)</code> in <code>map(&amp;:name)</code> mean?</p>", "language": "ruby", "question_id": 1217088, "title": "What does map(&amp;:name) mean in Ruby?", "segments": [{"type": "CODE", "text": "def tag_names\n  @tag_names || tags.map(&:name).join(' ')\nend"}, {"type": "TEXT", "text": "I found this code in"}, {"type": "TEXT", "text": "a RailsCast"}, {"type": "TEXT", "text": "What does the"}, {"type": "TEXT", "text": "mean?"}]}
{"raw_content": "<p>What is the difference between these statements (<code>interface</code> vs <code>type</code>) in TypeScript?</p>\n<pre class=\"lang-ts prettyprint-override\"><code>interface X {\n    a: number\n    b: string\n}\n\ntype X = {\n    a: number\n    b: string\n};\n</code></pre>", "language": "typescript", "question_id": 37233735, "title": "Interfaces vs Types in TypeScript", "segments": [{"type": "CODE", "text": "interface X {\n    a: number\n    b: string\n}\n\ntype X = {\n    a: number\n    b: string\n};"}, {"type": "TEXT", "text": "What is the difference between these statements ("}, {"type": "TEXT", "text": "vs"}, {"type": "TEXT", "text": ") in TypeScript?"}]}
{"raw_content": "<p>What is the TypeScript language? What can it do that JavaScript or available libraries cannot do, that would give me reason to consider it?</p>", "language": "typescript", "question_id": 12694530, "title": "What is TypeScript and why should I use it instead of JavaScript?", "segments": [{"type": "TEXT", "text": "What is the TypeScript language? What can it do that JavaScript or available libraries cannot do, that would give me reason to consider it?"}]}
{"raw_content": "<p>Given a string representation of a number, how can I convert it to <code>number</code> type in TypeScript?</p>\n\n<pre><code>var numberString: string = \"1234\";\nvar numberValue: number = /* what should I do with `numberString`? */;\n</code></pre>", "language": "typescript", "question_id": 14667713, "title": "How to convert a string to number in TypeScript?", "segments": [{"type": "CODE", "text": "var numberString: string = \"1234\";\nvar numberValue: number = /* what should I do with `numberString`? */;"}, {"type": "TEXT", "text": "Given a string representation of a number, how can I convert it to"}, {"type": "TEXT", "text": "type in TypeScript?"}]}
{"raw_content": "<p>When looking at the source code for a tslint rule, I came across the following statement:</p>\n<pre><code>if (node.parent!.kind === ts.SyntaxKind.ObjectLiteralExpression) {\n    return;\n}\n</code></pre>\n<p>Notice the <code>!</code> operator after <code>node.parent</code>. Interesting!</p>\n<p>I first tried compiling the file locally with my currently installed version of TS (1.5.3). The resulting error pointed to the exact location of the bang:</p>\n<pre><code>$ tsc --noImplicitAny memberAccessRule.ts \nnoPublicModifierRule.ts(57,24): error TS1005: ')' expected.\n</code></pre>\n<p>Next, I upgraded to the latest TS (2.1.6), which compiled it without issue. So it seems to be a feature of TS 2.x. <strong>But</strong>, the transpilation ignored the bang completely, resulting in the following JS:</p>\n<pre><code>if (node.parent.kind === ts.SyntaxKind.ObjectLiteralExpression) {\n    return;\n}\n</code></pre>\n<p>My Google fu has thus far failed me.</p>\n<p><strong><em>What is TS's exclamation mark operator, and how does it work?</em></strong></p>", "language": "typescript", "question_id": 42273853, "title": "In TypeScript, what is the ! (exclamation mark / bang) operator when dereferencing a member?", "segments": [{"type": "CODE", "text": "if (node.parent!.kind === ts.SyntaxKind.ObjectLiteralExpression) {\n    return;\n}"}, {"type": "CODE", "text": "$ tsc --noImplicitAny memberAccessRule.ts \nnoPublicModifierRule.ts(57,24): error TS1005: ')' expected."}, {"type": "CODE", "text": "if (node.parent.kind === ts.SyntaxKind.ObjectLiteralExpression) {\n    return;\n}"}, {"type": "TEXT", "text": "When looking at the source code for a tslint rule, I came across the following statement:"}, {"type": "TEXT", "text": "Notice the"}, {"type": "TEXT", "text": "operator after"}, {"type": "TEXT", "text": ". Interesting!"}, {"type": "TEXT", "text": "I first tried compiling the file locally with my currently installed version of TS (1.5.3). The resulting error pointed to the exact location of the bang:"}, {"type": "TEXT", "text": "Next, I upgraded to the latest TS (2.1.6), which compiled it without issue. So it seems to be a feature of TS 2.x."}, {"type": "TEXT", "text": "But"}, {"type": "TEXT", "text": ", the transpilation ignored the bang completely, resulting in the following JS:"}, {"type": "TEXT", "text": "My Google fu has thus far failed me."}, {"type": "TEXT", "text": "What is TS's exclamation mark operator, and how does it work?"}]}
{"raw_content": "<h2>The situation</h2>\n<p>I am trying to make what should be a very simple form in my Angular application, but no matter what, it never works.</p>\n<h2>The Angular version</h2>\n<p>Angular 2.0.0 RC5</p>\n<h2>The error</h2>\n<blockquote>\n<p>Can't bind to 'formGroup' since it isn't a known property of 'form'</p>\n</blockquote>\n<p><a href=\"https://i.sstatic.net/7elmg.png\" rel=\"noreferrer\"><img src=\"https://i.sstatic.net/7elmg.png\" alt=\"Enter image description here\" /></a></p>\n<h2>The code</h2>\n<h3>The view</h3>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;form [formGroup]=&quot;newTaskForm&quot; (submit)=&quot;createNewTask()&quot;&gt;\n   &lt;div class=&quot;form-group&quot;&gt;\n      &lt;label for=&quot;name&quot;&gt;Name&lt;/label&gt;\n      &lt;input type=&quot;text&quot; name=&quot;name&quot; required&gt;\n   &lt;/div&gt;\n   &lt;button type=&quot;submit&quot; class=&quot;btn btn-default&quot;&gt;Submit&lt;/button&gt;\n&lt;/form&gt;\n</code></pre>\n<h3>The controller</h3>\n<pre><code>import { Component } from '@angular/core';\nimport { FormGroup, FormControl, Validators, FormBuilder }  from '@angular/forms';\nimport {FormsModule,ReactiveFormsModule} from '@angular/forms';\nimport { Task } from './task';\n\n@Component({\n    selector: 'task-add',\n    templateUrl: 'app/task-add.component.html'\n\n})\nexport class TaskAddComponent {\n\n    newTaskForm: FormGroup;\n\n    constructor(fb: FormBuilder)\n    {\n        this.newTaskForm = fb.group({\n            name: [&quot;&quot;, Validators.required]\n        });\n    }\n\n    createNewTask()\n    {\n        console.log(this.newTaskForm.value)\n    }\n}\n</code></pre>\n<h3>The ngModule</h3>\n<pre><code>import { NgModule }      from '@angular/core';\nimport { BrowserModule } from '@angular/platform-browser';\nimport { FormsModule }   from '@angular/forms';\n\nimport { routing }        from './app.routing';\nimport { AppComponent }  from './app.component';\nimport { TaskService } from './task.service'\n\n@NgModule({\n    imports: [\n        BrowserModule,\n        routing,\n        FormsModule\n    ],\n    declarations: [ AppComponent ],\n    providers: [\n        TaskService\n    ],\n    bootstrap: [ AppComponent ]\n})\nexport class AppModule { }\n</code></pre>\n<h2>The question</h2>\n<p>Why am I getting that error? Am I missing something?</p>", "language": "typescript", "question_id": 39152071, "title": "Can&#39;t bind to &#39;formGroup&#39; since it isn&#39;t a known property of &#39;form&#39;", "segments": [{"type": "CODE", "text": "<form [formGroup]=\"newTaskForm\" (submit)=\"createNewTask()\">\n   <div class=\"form-group\">\n      <label for=\"name\">Name</label>\n      <input type=\"text\" name=\"name\" required>\n   </div>\n   <button type=\"submit\" class=\"btn btn-default\">Submit</button>\n</form>"}, {"type": "CODE", "text": "import { Component } from '@angular/core';\nimport { FormGroup, FormControl, Validators, FormBuilder }  from '@angular/forms';\nimport {FormsModule,ReactiveFormsModule} from '@angular/forms';\nimport { Task } from './task';\n\n@Component({\n    selector: 'task-add',\n    templateUrl: 'app/task-add.component.html'\n\n})\nexport class TaskAddComponent {\n\n    newTaskForm: FormGroup;\n\n    constructor(fb: FormBuilder)\n    {\n        this.newTaskForm = fb.group({\n            name: [\"\", Validators.required]\n        });\n    }\n\n    createNewTask()\n    {\n        console.log(this.newTaskForm.value)\n    }\n}"}, {"type": "CODE", "text": "import { NgModule }      from '@angular/core';\nimport { BrowserModule } from '@angular/platform-browser';\nimport { FormsModule }   from '@angular/forms';\n\nimport { routing }        from './app.routing';\nimport { AppComponent }  from './app.component';\nimport { TaskService } from './task.service'\n\n@NgModule({\n    imports: [\n        BrowserModule,\n        routing,\n        FormsModule\n    ],\n    declarations: [ AppComponent ],\n    providers: [\n        TaskService\n    ],\n    bootstrap: [ AppComponent ]\n})\nexport class AppModule { }"}, {"type": "TEXT", "text": "The situation"}, {"type": "TEXT", "text": "I am trying to make what should be a very simple form in my Angular application, but no matter what, it never works."}, {"type": "TEXT", "text": "The Angular version"}, {"type": "TEXT", "text": "Angular 2.0.0 RC5"}, {"type": "TEXT", "text": "The error"}, {"type": "TEXT", "text": "Can't bind to 'formGroup' since it isn't a known property of 'form'"}, {"type": "TEXT", "text": "The code"}, {"type": "TEXT", "text": "The view"}, {"type": "TEXT", "text": "The controller"}, {"type": "TEXT", "text": "The ngModule"}, {"type": "TEXT", "text": "The question"}, {"type": "TEXT", "text": "Why am I getting that error? Am I missing something?"}]}
{"raw_content": "<p>I setup global namespaces for my objects by explicitly setting a property on <code>window</code>.</p>\n\n<pre><code>window.MyNamespace = window.MyNamespace || {};\n</code></pre>\n\n<p>TypeScript underlines <code>MyNamespace</code> and complains that:</p>\n\n<blockquote>\n  <p>The property 'MyNamespace' does not exist on value of type 'window'\n  any\"</p>\n</blockquote>\n\n<p>I can make the code work by declaring <code>MyNamespace</code> as an ambient variable and dropping the <code>window</code> explicitness but I don't want to do that.</p>\n\n<pre><code>declare var MyNamespace: any;\n\nMyNamespace = MyNamespace || {};\n</code></pre>\n\n<p>How can I keep <code>window</code> in there and make TypeScript happy?</p>\n\n<p>As a side note I find it especially funny that TypeScript complains since it tells me that <code>window</code> is of type <code>any</code> which by definitely can contain anything.</p>", "language": "typescript", "question_id": 12709074, "title": "How do you explicitly set a new property on `window` in TypeScript?", "segments": [{"type": "CODE", "text": "window.MyNamespace = window.MyNamespace || {};"}, {"type": "CODE", "text": "declare var MyNamespace: any;\n\nMyNamespace = MyNamespace || {};"}, {"type": "TEXT", "text": "I setup global namespaces for my objects by explicitly setting a property on"}, {"type": "TEXT", "text": "TypeScript underlines"}, {"type": "TEXT", "text": "and complains that:"}, {"type": "TEXT", "text": "The property 'MyNamespace' does not exist on value of type 'window'\n  any\""}, {"type": "TEXT", "text": "I can make the code work by declaring"}, {"type": "TEXT", "text": "as an ambient variable and dropping the"}, {"type": "TEXT", "text": "explicitness but I don't want to do that."}, {"type": "TEXT", "text": "How can I keep"}, {"type": "TEXT", "text": "in there and make TypeScript happy?"}, {"type": "TEXT", "text": "As a side note I find it especially funny that TypeScript complains since it tells me that"}, {"type": "TEXT", "text": "is of type"}, {"type": "TEXT", "text": "which by definitely can contain anything."}]}
{"raw_content": "<p>I read how TypeScript <a href=\"https://www.typescriptlang.org/docs/handbook/module-resolution.html\" rel=\"noreferrer\">module resolution</a> works.</p>\n\n<p>I have the following repository: <a href=\"https://github.com/ts-stack/di\" rel=\"noreferrer\">@ts-stack/di</a>.\nAfter compiling the directory structure is as follows:</p>\n\n<pre><code> dist\n  annotations.d.ts\n  annotations.js\n  index.d.ts\n  index.js\n  injector.d.ts\n  injector.js\n  profiler.d.ts\n  profiler.js\n  providers.d.ts\n  providers.js\n  util.d.ts\n  util.js\n LICENSE\n package.json\n README.md\n src\n  annotations.ts\n  index.ts\n  injector.ts\n  profiler.ts\n  providers.ts\n  util.ts\n tsconfig.json\n</code></pre>\n\n<p>In my package.json I wrote <code>\"main\": \"dist/index.js\"</code>.</p>\n\n<p>In Node.js everything works fine, but TypeScript:</p>\n\n<pre><code>import {Injector} from '@ts-stack/di';\n</code></pre>\n\n<blockquote>\n  <p>Could not find a declaration file for module '@ts-stack/di'. '/path/to/node_modules/@ts-stack/di/dist/index.js' implicitly has an 'any' type.</p>\n</blockquote>\n\n<p>And yet, if I import as follows, then everything works:</p>\n\n<pre><code>import {Injector} from '/path/to/node_modules/@ts-stack/di/dist/index.js';\n</code></pre>\n\n<p>What am I doing wrong?</p>", "language": "typescript", "question_id": 41292559, "title": "Could not find a declaration file for module &#39;module-name&#39;. &#39;/path/to/module-name.js&#39; implicitly has an &#39;any&#39; type", "segments": [{"type": "CODE", "text": " dist\n  annotations.d.ts\n  annotations.js\n  index.d.ts\n  index.js\n  injector.d.ts\n  injector.js\n  profiler.d.ts\n  profiler.js\n  providers.d.ts\n  providers.js\n  util.d.ts\n  util.js\n LICENSE\n package.json\n README.md\n src\n  annotations.ts\n  index.ts\n  injector.ts\n  profiler.ts\n  providers.ts\n  util.ts\n tsconfig.json"}, {"type": "CODE", "text": "\"main\": \"dist/index.js\""}, {"type": "CODE", "text": "import {Injector} from '@ts-stack/di';"}, {"type": "CODE", "text": "import {Injector} from '/path/to/node_modules/@ts-stack/di/dist/index.js';"}, {"type": "TEXT", "text": "I read how TypeScript"}, {"type": "TEXT", "text": "module resolution"}, {"type": "TEXT", "text": "works."}, {"type": "TEXT", "text": "I have the following repository:"}, {"type": "TEXT", "text": ".\nAfter compiling the directory structure is as follows:"}, {"type": "TEXT", "text": "In my package.json I wrote"}, {"type": "TEXT", "text": "In Node.js everything works fine, but TypeScript:"}, {"type": "TEXT", "text": "Could not find a declaration file for module '@ts-stack/di'. '/path/to/node_modules/@ts-stack/di/dist/index.js' implicitly has an 'any' type."}, {"type": "TEXT", "text": "And yet, if I import as follows, then everything works:"}, {"type": "TEXT", "text": "What am I doing wrong?"}]}
{"raw_content": "<p>in my Angular app I have a component:</p>\n<pre><code>import { MakeService } from './../../services/make.service';\nimport { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-vehicle-form',\n  templateUrl: './vehicle-form.component.html',\n  styleUrls: ['./vehicle-form.component.css']\n})\nexport class VehicleFormComponent implements OnInit {\n  makes: any[];\n  vehicle = {};\n\n  constructor(private makeService: MakeService) { }\n\n  ngOnInit() {\n    this.makeService.getMakes().subscribe(makes =&gt; { this.makes = makes\n      console.log(&quot;MAKES&quot;, this.makes);\n    });\n  }\n\n  onMakeChange(){\n    console.log(&quot;VEHICLE&quot;, this.vehicle);\n  }\n}\n</code></pre>\n<p>but in the &quot;makes&quot; property I have a mistake. I don't know what to do with it.</p>\n<p><a href=\"https://i.sstatic.net/QpJLJ.png\" rel=\"noreferrer\"><img src=\"https://i.sstatic.net/QpJLJ.png\" alt=\"mistake\" /></a></p>", "language": "typescript", "question_id": 49699067, "title": "Property &#39;...&#39; has no initializer and is not definitely assigned in the constructor", "segments": [{"type": "CODE", "text": "import { MakeService } from './../../services/make.service';\nimport { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-vehicle-form',\n  templateUrl: './vehicle-form.component.html',\n  styleUrls: ['./vehicle-form.component.css']\n})\nexport class VehicleFormComponent implements OnInit {\n  makes: any[];\n  vehicle = {};\n\n  constructor(private makeService: MakeService) { }\n\n  ngOnInit() {\n    this.makeService.getMakes().subscribe(makes => { this.makes = makes\n      console.log(\"MAKES\", this.makes);\n    });\n  }\n\n  onMakeChange(){\n    console.log(\"VEHICLE\", this.vehicle);\n  }\n}"}, {"type": "TEXT", "text": "in my Angular app I have a component:"}, {"type": "TEXT", "text": "but in the \"makes\" property I have a mistake. I don't know what to do with it."}]}
{"raw_content": "<p>I'm trying to create get and set method for a property:</p>\n\n<pre><code>private _name: string;\n\nName() {\n    get:\n    {\n        return this._name;\n    }\n    set:\n    {\n        this._name = ???;\n    }\n}\n</code></pre>\n\n<p>What's the keyword to set a value?</p>", "language": "typescript", "question_id": 12827266, "title": "get and set in TypeScript", "segments": [{"type": "CODE", "text": "private _name: string;\n\nName() {\n    get:\n    {\n        return this._name;\n    }\n    set:\n    {\n        this._name = ???;\n    }\n}"}, {"type": "TEXT", "text": "I'm trying to create get and set method for a property:"}, {"type": "TEXT", "text": "What's the keyword to set a value?"}]}
{"raw_content": "<p>I am currently migrating a React application to TypeScript. So far, this works pretty well, but I have a problem with the return types of my <code>render</code> functions, specifically in my functional components.</p>\n<p>I have always used <code>JSX.Element</code> as the return type, now this doesn't work any more if a component decides to <em>not</em> render anything, i.e. returns <code>null</code>, since <code>null</code> is not a valid value for <code>JSX.Element</code>. This was the beginning of my journey. I searched the web and found that you should use <code>ReactNode</code> instead, which includes <code>null</code> and a few other things that can happen.</p>\n<p>However, when creating a functional component, TypeScript complains about the <code>ReactNode</code> type. Again, after some searching I found, that for functional components you should use <code>ReactElement</code> instead. However, if I do so, the compatibility issue is gone, but now TypeScript again complains about <code>null</code> not being a valid value.</p>\n<p>To cut a long story short, I have three questions:</p>\n<ol>\n<li>What is the difference between <code>JSX.Element</code>, <code>ReactNode</code>, and <code>ReactElement</code>?</li>\n<li>Why do the <code>render</code> methods of class components return <code>ReactNode</code> but functional components return <code>ReactElement</code>?</li>\n<li>How do I solve this with respect to <code>null</code>?</li>\n</ol>", "language": "typescript", "question_id": 58123398, "title": "When to use JSX.Element vs ReactNode vs ReactElement?", "segments": [{"type": "TEXT", "text": "I am currently migrating a React application to TypeScript. So far, this works pretty well, but I have a problem with the return types of my"}, {"type": "TEXT", "text": "render"}, {"type": "TEXT", "text": "functions, specifically in my functional components."}, {"type": "TEXT", "text": "I have always used"}, {"type": "TEXT", "text": "JSX.Element"}, {"type": "TEXT", "text": "as the return type, now this doesn't work any more if a component decides to"}, {"type": "TEXT", "text": "not"}, {"type": "TEXT", "text": "render anything, i.e. returns"}, {"type": "TEXT", "text": "null"}, {"type": "TEXT", "text": ", since"}, {"type": "TEXT", "text": "null"}, {"type": "TEXT", "text": "is not a valid value for"}, {"type": "TEXT", "text": "JSX.Element"}, {"type": "TEXT", "text": ". This was the beginning of my journey. I searched the web and found that you should use"}, {"type": "TEXT", "text": "ReactNode"}, {"type": "TEXT", "text": "instead, which includes"}, {"type": "TEXT", "text": "null"}, {"type": "TEXT", "text": "and a few other things that can happen."}, {"type": "TEXT", "text": "However, when creating a functional component, TypeScript complains about the"}, {"type": "TEXT", "text": "ReactNode"}, {"type": "TEXT", "text": "type. Again, after some searching I found, that for functional components you should use"}, {"type": "TEXT", "text": "ReactElement"}, {"type": "TEXT", "text": "instead. However, if I do so, the compatibility issue is gone, but now TypeScript again complains about"}, {"type": "TEXT", "text": "null"}, {"type": "TEXT", "text": "not being a valid value."}, {"type": "TEXT", "text": "To cut a long story short, I have three questions:"}, {"type": "TEXT", "text": "What is the difference between"}, {"type": "TEXT", "text": "JSX.Element"}, {"type": "TEXT", "text": ","}, {"type": "TEXT", "text": "ReactNode"}, {"type": "TEXT", "text": ", and"}, {"type": "TEXT", "text": "ReactElement"}, {"type": "TEXT", "text": "?"}, {"type": "TEXT", "text": "Why do the"}, {"type": "TEXT", "text": "render"}, {"type": "TEXT", "text": "methods of class components return"}, {"type": "TEXT", "text": "ReactNode"}, {"type": "TEXT", "text": "but functional components return"}, {"type": "TEXT", "text": "ReactElement"}, {"type": "TEXT", "text": "?"}, {"type": "TEXT", "text": "How do I solve this with respect to"}, {"type": "TEXT", "text": "null"}, {"type": "TEXT", "text": "?"}]}
{"raw_content": "<p>If I wanted to programmatically assign a property to an object in Javascript, I would do it like this:</p>\n<pre><code>var obj = {};\nobj.prop = &quot;value&quot;;\n</code></pre>\n<p>But in TypeScript, this generates an error:</p>\n<blockquote>\n<p>The property 'prop' does not exist on value of type '{}'</p>\n</blockquote>\n<p>How do I assign any new property to an object in TypeScript?</p>", "language": "typescript", "question_id": 12710905, "title": "How do I dynamically assign properties to an object in TypeScript?", "segments": [{"type": "CODE", "text": "var obj = {};\nobj.prop = \"value\";"}, {"type": "TEXT", "text": "If I wanted to programmatically assign a property to an object in Javascript, I would do it like this:"}, {"type": "TEXT", "text": "But in TypeScript, this generates an error:"}, {"type": "TEXT", "text": "The property 'prop' does not exist on value of type '{}'"}, {"type": "TEXT", "text": "How do I assign any new property to an object in TypeScript?"}]}
{"raw_content": "<p>Code is:</p>\n<pre><code>const foo = (foo: string) =&gt; {\n  const result = []\n  result.push(foo)\n}\n</code></pre>\n<p>I get the following TS error:</p>\n<pre><code>[ts] Argument of type 'string' is not assignable to parameter of type 'never'.\n</code></pre>\n<p>What am I doing wrong? Is this a bug?</p>", "language": "typescript", "question_id": 52423842, "title": "What is &quot;not assignable to parameter of type never&quot; error in TypeScript?", "segments": [{"type": "CODE", "text": "const foo = (foo: string) => {\n  const result = []\n  result.push(foo)\n}"}, {"type": "CODE", "text": "[ts] Argument of type 'string' is not assignable to parameter of type 'never'."}, {"type": "TEXT", "text": "Code is:"}, {"type": "TEXT", "text": "I get the following TS error:"}, {"type": "TEXT", "text": "What am I doing wrong? Is this a bug?"}]}
{"raw_content": "<p>Trying out TypeScript for a React project and I'm stuck on this error:</p>\n\n<pre><code>Element implicitly has an 'any' type because expression of type 'string' can't be used to index type '{ train_1: boolean; train_2: boolean; train_3: boolean; train_4: boolean; }'.\n  No index signature with a parameter of type 'string' was found on type '{ train_1: boolean; train_2: boolean; train_3: boolean; train_4: boolean; }'\n</code></pre>\n\n<p>Which appears when I try to filter the array in my component</p>\n\n<pre><code>.filter(({ name }) =&gt; plotOptions[name]);\n</code></pre>\n\n<p>So far I looked at the article \"Indexing objects in TypeScript\" (<a href=\"https://dev.to/kingdaro/indexing-objects-in-typescript-1cgi\" rel=\"noreferrer\">https://dev.to/kingdaro/indexing-objects-in-typescript-1cgi</a>) since it had a similar error, but I tried to add the index signature to type <code>plotTypes</code> and I still get the same error.</p>\n\n<p>My component code:</p>\n\n<pre><code>import React, { Component } from \"react\";\nimport createPlotlyComponent from \"react-plotly.js/factory\";\nimport Plotly from \"plotly.js-basic-dist\";\nconst Plot = createPlotlyComponent(Plotly);\n\ninterface IProps {\n  data: any;\n}\n\ninterface IState {\n  [key: string]: plotTypes;\n  plotOptions: plotTypes;\n}\n\ntype plotTypes = {\n  [key: string]: boolean;\n  train_1: boolean;\n  train_2: boolean;\n  train_3: boolean;\n  train_4: boolean;\n};\n\ninterface trainInfo {\n  name: string;\n  x: Array&lt;number&gt;;\n  y: Array&lt;number&gt;;\n  type: string;\n  mode: string;\n}\n\nclass FiltrationPlots extends Component&lt;IProps, IState&gt; {\n  readonly state = {\n    plotOptions: {\n      train_1: true,\n      train_2: true,\n      train_3: true,\n      train_4: true\n    }\n  };\n  render() {\n    const { data } = this.props;\n    const { plotOptions } = this.state;\n\n    if (data.filtrationData) {\n      const plotData: Array&lt;trainInfo&gt; = [\n        {\n          name: \"train_1\",\n          x: data.filtrationData.map((i: any) =&gt; i[\"1-CumVol\"]),\n          y: data.filtrationData.map((i: any) =&gt; i[\"1-PressureA\"]),\n          type: \"scatter\",\n          mode: \"lines\"\n        },\n        {\n          name: \"train_2\",\n          x: data.filtrationData.map((i: any) =&gt; i[\"2-CumVol\"]),\n          y: data.filtrationData.map((i: any) =&gt; i[\"2-PressureA\"]),\n          type: \"scatter\",\n          mode: \"lines\"\n        },\n        {\n          name: \"train_3\",\n          x: data.filtrationData.map((i: any) =&gt; i[\"3-CumVol\"]),\n          y: data.filtrationData.map((i: any) =&gt; i[\"3-PressureA\"]),\n          type: \"scatter\",\n          mode: \"lines\"\n        },\n        {\n          name: \"train_4\",\n          x: data.filtrationData.map((i: any) =&gt; i[\"4-CumVol\"]),\n          y: data.filtrationData.map((i: any) =&gt; i[\"4-PressureA\"]),\n          type: \"scatter\",\n          mode: \"lines\"\n        }\n      ].filter(({ name }) =&gt; plotOptions[name]);\n      return (\n        &lt;Plot\n          data={plotData}\n          layout={{ width: 1000, height: 1000, title: \"A Fancy Plot\" }}\n        /&gt;\n      );\n    } else {\n      return &lt;h1&gt;No Data Loaded&lt;/h1&gt;;\n    }\n  }\n}\n\nexport default FiltrationPlots;\n\n</code></pre>", "language": "typescript", "question_id": 57086672, "title": "Element implicitly has an &#39;any&#39; type because expression of type &#39;string&#39; can&#39;t be used to index", "segments": [{"type": "CODE", "text": "Element implicitly has an 'any' type because expression of type 'string' can't be used to index type '{ train_1: boolean; train_2: boolean; train_3: boolean; train_4: boolean; }'.\n  No index signature with a parameter of type 'string' was found on type '{ train_1: boolean; train_2: boolean; train_3: boolean; train_4: boolean; }'"}, {"type": "CODE", "text": ".filter(({ name }) => plotOptions[name]);"}, {"type": "CODE", "text": "import React, { Component } from \"react\";\nimport createPlotlyComponent from \"react-plotly.js/factory\";\nimport Plotly from \"plotly.js-basic-dist\";\nconst Plot = createPlotlyComponent(Plotly);\n\ninterface IProps {\n  data: any;\n}\n\ninterface IState {\n  [key: string]: plotTypes;\n  plotOptions: plotTypes;\n}\n\ntype plotTypes = {\n  [key: string]: boolean;\n  train_1: boolean;\n  train_2: boolean;\n  train_3: boolean;\n  train_4: boolean;\n};\n\ninterface trainInfo {\n  name: string;\n  x: Array<number>;\n  y: Array<number>;\n  type: string;\n  mode: string;\n}\n\nclass FiltrationPlots extends Component<IProps, IState> {\n  readonly state = {\n    plotOptions: {\n      train_1: true,\n      train_2: true,\n      train_3: true,\n      train_4: true\n    }\n  };\n  render() {\n    const { data } = this.props;\n    const { plotOptions } = this.state;\n\n    if (data.filtrationData) {\n      const plotData: Array<trainInfo> = [\n        {\n          name: \"train_1\",\n          x: data.filtrationData.map((i: any) => i[\"1-CumVol\"]),\n          y: data.filtrationData.map((i: any) => i[\"1-PressureA\"]),\n          type: \"scatter\",\n          mode: \"lines\"\n        },\n        {\n          name: \"train_2\",\n          x: data.filtrationData.map((i: any) => i[\"2-CumVol\"]),\n          y: data.filtrationData.map((i: any) => i[\"2-PressureA\"]),\n          type: \"scatter\",\n          mode: \"lines\"\n        },\n        {\n          name: \"train_3\",\n          x: data.filtrationData.map((i: any) => i[\"3-CumVol\"]),\n          y: data.filtrationData.map((i: any) => i[\"3-PressureA\"]),\n          type: \"scatter\",\n          mode: \"lines\"\n        },\n        {\n          name: \"train_4\",\n          x: data.filtrationData.map((i: any) => i[\"4-CumVol\"]),\n          y: data.filtrationData.map((i: any) => i[\"4-PressureA\"]),\n          type: \"scatter\",\n          mode: \"lines\"\n        }\n      ].filter(({ name }) => plotOptions[name]);\n      return (\n        <Plot\n          data={plotData}\n          layout={{ width: 1000, height: 1000, title: \"A Fancy Plot\" }}\n        />\n      );\n    } else {\n      return <h1>No Data Loaded</h1>;\n    }\n  }\n}\n\nexport default FiltrationPlots;"}, {"type": "TEXT", "text": "Trying out TypeScript for a React project and I'm stuck on this error:"}, {"type": "TEXT", "text": "Which appears when I try to filter the array in my component"}, {"type": "TEXT", "text": "So far I looked at the article \"Indexing objects in TypeScript\" ("}, {"type": "TEXT", "text": "https://dev.to/kingdaro/indexing-objects-in-typescript-1cgi"}, {"type": "TEXT", "text": ") since it had a similar error, but I tried to add the index signature to type"}, {"type": "TEXT", "text": "and I still get the same error."}, {"type": "TEXT", "text": "My component code:"}]}
{"raw_content": "<p>TypeScript 3.0 introduces <code>unknown</code> type, according to their wiki:</p>\n\n<blockquote>\n  <p>unknown is now a reserved type name, as it is now a built-in type.\n  Depending on your intended use of unknown, you may want to remove the\n  declaration entirely (favoring the newly introduced unknown type), or\n  rename it to something else.</p>\n</blockquote>\n\n<p>What is difference between <code>unknown</code> and <code>any</code>? When should we use <code>unknown</code> over <code>any</code>?</p>", "language": "typescript", "question_id": 51439843, "title": "&#39;unknown&#39; vs. &#39;any&#39;", "segments": [{"type": "TEXT", "text": "TypeScript 3.0 introduces"}, {"type": "TEXT", "text": "unknown"}, {"type": "TEXT", "text": "type, according to their wiki:"}, {"type": "TEXT", "text": "unknown is now a reserved type name, as it is now a built-in type.\n  Depending on your intended use of unknown, you may want to remove the\n  declaration entirely (favoring the newly introduced unknown type), or\n  rename it to something else."}, {"type": "TEXT", "text": "What is difference between"}, {"type": "TEXT", "text": "unknown"}, {"type": "TEXT", "text": "and"}, {"type": "TEXT", "text": "any"}, {"type": "TEXT", "text": "? When should we use"}, {"type": "TEXT", "text": "unknown"}, {"type": "TEXT", "text": "over"}, {"type": "TEXT", "text": "any"}, {"type": "TEXT", "text": "?"}]}
{"raw_content": "<p>In TypeScript, I can declare a parameter of a function as a type Function. Is there a \"type-safe\" way of doing this that I am missing? For example, consider this:</p>\n\n<pre><code>class Foo {\n    save(callback: Function) : void {\n        //Do the save\n        var result : number = 42; //We get a number from the save operation\n        //Can I at compile-time ensure the callback accepts a single parameter of type number somehow?\n        callback(result);\n    }\n}\n\nvar foo = new Foo();\nvar callback = (result: string) : void =&gt; {\n    alert(result);\n}\nfoo.save(callback);\n</code></pre>\n\n<p>The save callback is not type safe, I am giving it a callback function where the function's parameter is a string but I am passing it a number, and compiles with no errors. Can I make the result parameter in save a type-safe function?</p>\n\n<p>TL;DR version: is there an equivalent of a .NET delegate in TypeScript?</p>", "language": "typescript", "question_id": 14638990, "title": "Are strongly-typed functions as parameters possible in TypeScript?", "segments": [{"type": "CODE", "text": "class Foo {\n    save(callback: Function) : void {\n        //Do the save\n        var result : number = 42; //We get a number from the save operation\n        //Can I at compile-time ensure the callback accepts a single parameter of type number somehow?\n        callback(result);\n    }\n}\n\nvar foo = new Foo();\nvar callback = (result: string) : void => {\n    alert(result);\n}\nfoo.save(callback);"}, {"type": "TEXT", "text": "In TypeScript, I can declare a parameter of a function as a type Function. Is there a \"type-safe\" way of doing this that I am missing? For example, consider this:"}, {"type": "TEXT", "text": "The save callback is not type safe, I am giving it a callback function where the function's parameter is a string but I am passing it a number, and compiles with no errors. Can I make the result parameter in save a type-safe function?"}, {"type": "TEXT", "text": "TL;DR version: is there an equivalent of a .NET delegate in TypeScript?"}]}
{"raw_content": "<p>I am curious about <code>.d.ts</code> declaration files. I was told by someone that <code>.d.ts</code> files are similar to <code>.h</code> header files in the C &amp; C++ programming languages, however, the <code>.d.ts</code> files don't seem to work quite the same. Currently, I am failing to understand how to properly use the .d.ts files.</p>\n<p>It would appear that I can't add my <code>.js</code> or <code>.ts</code> files to the <code>.d.ts</code> files, so the only way my project will work is if it contains all three file types. My questions are:</p>\n<ol>\n<li><p>What is the relationship between the three files?</p>\n</li>\n<li><p>How can I use the <code>*.d.ts</code> file, does it mean I can delete the <code>*.ts</code> file permanently?</p>\n</li>\n<li><p>If so, how can the <code>*.d.ts</code> file know which JS file is mapping to itself?</p>\n</li>\n</ol>", "language": "typescript", "question_id": 21247278, "title": "About &quot;*.d.ts&quot; in TypeScript", "segments": [{"type": "TEXT", "text": "I am curious about"}, {"type": "TEXT", "text": ".d.ts"}, {"type": "TEXT", "text": "declaration files. I was told by someone that"}, {"type": "TEXT", "text": ".d.ts"}, {"type": "TEXT", "text": "files are similar to"}, {"type": "TEXT", "text": ".h"}, {"type": "TEXT", "text": "header files in the C & C++ programming languages, however, the"}, {"type": "TEXT", "text": ".d.ts"}, {"type": "TEXT", "text": "files don't seem to work quite the same. Currently, I am failing to understand how to properly use the .d.ts files."}, {"type": "TEXT", "text": "It would appear that I can't add my"}, {"type": "TEXT", "text": ".js"}, {"type": "TEXT", "text": "or"}, {"type": "TEXT", "text": ".ts"}, {"type": "TEXT", "text": "files to the"}, {"type": "TEXT", "text": ".d.ts"}, {"type": "TEXT", "text": "files, so the only way my project will work is if it contains all three file types. My questions are:"}, {"type": "TEXT", "text": "What is the relationship between the three files?"}, {"type": "TEXT", "text": "How can I use the"}, {"type": "TEXT", "text": "*.d.ts"}, {"type": "TEXT", "text": "file, does it mean I can delete the"}, {"type": "TEXT", "text": "*.ts"}, {"type": "TEXT", "text": "file permanently?"}, {"type": "TEXT", "text": "If so, how can the"}, {"type": "TEXT", "text": "*.d.ts"}, {"type": "TEXT", "text": "file know which JS file is mapping to itself?"}]}
{"raw_content": "<p>I'm having a surprisingly hard time finding an answer to this. With plain Node.JS, you can run any js file with <code>node path/to/file.js</code>, with CoffeeScript it's <code>coffee hello.coffee</code> and ES6 has <code>babel-node hello.js</code>. How do I do the same with Typescript?</p>\n\n<p>My project has a <code>tsconfig.json</code> which is used by Webpack/ts-loader to build a nice little bundle for the browser. I have a need for a build step run from the console before that, though, that would use some of the <code>.ts</code> files used in the project to generate a schema, but I can't seem to be able to run a single Typescript file without compiling the whole project.</p>", "language": "typescript", "question_id": 33535879, "title": "How to run TypeScript files from command line?", "segments": [{"type": "CODE", "text": "node path/to/file.js"}, {"type": "CODE", "text": "coffee hello.coffee"}, {"type": "CODE", "text": "babel-node hello.js"}, {"type": "TEXT", "text": "I'm having a surprisingly hard time finding an answer to this. With plain Node.JS, you can run any js file with"}, {"type": "TEXT", "text": ", with CoffeeScript it's"}, {"type": "TEXT", "text": "and ES6 has"}, {"type": "TEXT", "text": ". How do I do the same with Typescript?"}, {"type": "TEXT", "text": "My project has a"}, {"type": "TEXT", "text": "tsconfig.json"}, {"type": "TEXT", "text": "which is used by Webpack/ts-loader to build a nice little bundle for the browser. I have a need for a build step run from the console before that, though, that would use some of the"}, {"type": "TEXT", "text": ".ts"}, {"type": "TEXT", "text": "files used in the project to generate a schema, but I can't seem to be able to run a single Typescript file without compiling the whole project."}]}
{"raw_content": "<p>I have defined the following enum in TypeScript:</p>\n\n<pre><code>enum Color{\n    Red, Green\n}\n</code></pre>\n\n<p>Now in my function I receive color as a string. I have tried the following code:</p>\n\n<pre><code>var green= \"Green\";\nvar color : Color = &lt;Color&gt;green; // Error: can't convert string to enum\n</code></pre>\n\n<p>How can I convert that value to an enum?</p>", "language": "typescript", "question_id": 17380845, "title": "How do I convert a string to enum in TypeScript?", "segments": [{"type": "CODE", "text": "enum Color{\n    Red, Green\n}"}, {"type": "CODE", "text": "var green= \"Green\";\nvar color : Color = <Color>green; // Error: can't convert string to enum"}, {"type": "TEXT", "text": "I have defined the following enum in TypeScript:"}, {"type": "TEXT", "text": "Now in my function I receive color as a string. I have tried the following code:"}, {"type": "TEXT", "text": "How can I convert that value to an enum?"}]}
{"raw_content": "<p>The typescript handbook currently has nothing on arrow functions. Normal functions\ncan be generically typed with this syntax:\nexample:</p>\n\n<pre><code>function identity&lt;T&gt;(arg: T): T {\n    return arg;\n}\n</code></pre>\n\n<p>What is the syntax for arrow functions? </p>", "language": "typescript", "question_id": 32308370, "title": "What is the syntax for Typescript arrow functions with generics?", "segments": [{"type": "CODE", "text": "function identity<T>(arg: T): T {\n    return arg;\n}"}, {"type": "TEXT", "text": "The typescript handbook currently has nothing on arrow functions. Normal functions\ncan be generically typed with this syntax:\nexample:"}, {"type": "TEXT", "text": "What is the syntax for arrow functions?"}]}
{"raw_content": "<p>When trying to install the npm packages using <code>npm i</code> command, I am getting the following exception:</p>\n<p><a href=\"https://i.sstatic.net/x8N3W.png\" rel=\"noreferrer\"><img src=\"https://i.sstatic.net/x8N3W.png\" alt=\"Enter image description here\" /></a></p>\n<p>I have tried reinstalling the Node.js package and setting the proxy to off using:</p>\n<pre><code>set HTTP_PROXY=\nset HTTPS_PROXY=\n</code></pre>\n<p>The issue is still there. What I am doing wrong?</p>\n<p><strong>Update:</strong></p>\n<p>When I run the following command:</p>\n<pre><code>npm install --legacy-peer-deps\n</code></pre>\n<p>The following error is displayed:</p>\n<p><a href=\"https://i.sstatic.net/IPCuC.png\" rel=\"noreferrer\"><img src=\"https://i.sstatic.net/IPCuC.png\" alt=\"Enter image description here\" /></a></p>", "language": "typescript", "question_id": 64573177, "title": "Unable to resolve dependency tree error when installing npm packages", "segments": [{"type": "CODE", "text": "npm i"}, {"type": "CODE", "text": "set HTTP_PROXY=\nset HTTPS_PROXY="}, {"type": "CODE", "text": "npm install --legacy-peer-deps"}, {"type": "TEXT", "text": "When trying to install the npm packages using"}, {"type": "TEXT", "text": "command, I am getting the following exception:"}, {"type": "TEXT", "text": "I have tried reinstalling the Node.js package and setting the proxy to off using:"}, {"type": "TEXT", "text": "The issue is still there. What I am doing wrong?"}, {"type": "TEXT", "text": "Update:"}, {"type": "TEXT", "text": "When I run the following command:"}, {"type": "TEXT", "text": "The following error is displayed:"}]}
{"raw_content": "<p>Say I have the following type:</p>\n\n<pre><code>type Event = {\n   name: string;\n   dateCreated: string;\n   type: string;\n}\n</code></pre>\n\n<p>I now want to extend this type, i.e.</p>\n\n<pre><code>type UserEvent extends Event = {\n   UserId: string; \n}\n</code></pre>\n\n<p>This doesn't work. How can I do this?</p>", "language": "typescript", "question_id": 41385059, "title": "Possible to extend types in Typescript?", "segments": [{"type": "CODE", "text": "type Event = {\n   name: string;\n   dateCreated: string;\n   type: string;\n}"}, {"type": "CODE", "text": "type UserEvent extends Event = {\n   UserId: string; \n}"}, {"type": "TEXT", "text": "Say I have the following type:"}, {"type": "TEXT", "text": "I now want to extend this type, i.e."}, {"type": "TEXT", "text": "This doesn't work. How can I do this?"}]}
{"raw_content": "<p>I have an array that I've created in TypeScript and it has a property that I use as a key. If I have that key, how can I remove an item from it?</p>", "language": "typescript", "question_id": 15292278, "title": "How do I remove an array item in TypeScript?", "segments": [{"type": "TEXT", "text": "I have an array that I've created in TypeScript and it has a property that I use as a key. If I have that key, how can I remove an item from it?"}]}
{"raw_content": "<p>I have a very simple functional component as follows:</p>\n\n<pre><code>import * as React from 'react';\n\nexport interface AuxProps  { \n    children: React.ReactNode\n }\n\n\nconst aux = (props: AuxProps) =&gt; props.children;\n\nexport default aux;\n</code></pre>\n\n<p>And another component:</p>\n\n<pre><code>import * as React from \"react\";\n\nexport interface LayoutProps  { \n   children: React.ReactNode\n}\n\nconst layout = (props: LayoutProps) =&gt; (\n    &lt;Aux&gt;\n        &lt;div&gt;Toolbar, SideDrawer, Backdrop&lt;/div&gt;\n        &lt;main&gt;\n            {props.children}\n        &lt;/main&gt;\n    &lt;Aux/&gt;\n);\n\nexport default layout;\n</code></pre>\n\n<p>I keep on getting the following error:</p>\n\n<blockquote>\n  <p>[ts]\n  JSX element type 'ReactNode' is not a constructor function for JSX elements.\n    Type 'undefined' is not assignable to type 'ElementClass'. [2605]</p>\n</blockquote>\n\n<p>How do I type this correctly?</p>", "language": "typescript", "question_id": 53688899, "title": "What is the type of the &#39;children&#39; prop?", "segments": [{"type": "CODE", "text": "import * as React from 'react';\n\nexport interface AuxProps  { \n    children: React.ReactNode\n }\n\n\nconst aux = (props: AuxProps) => props.children;\n\nexport default aux;"}, {"type": "CODE", "text": "import * as React from \"react\";\n\nexport interface LayoutProps  { \n   children: React.ReactNode\n}\n\nconst layout = (props: LayoutProps) => (\n    <Aux>\n        <div>Toolbar, SideDrawer, Backdrop</div>\n        <main>\n            {props.children}\n        </main>\n    <Aux/>\n);\n\nexport default layout;"}, {"type": "TEXT", "text": "I have a very simple functional component as follows:"}, {"type": "TEXT", "text": "And another component:"}, {"type": "TEXT", "text": "I keep on getting the following error:"}, {"type": "TEXT", "text": "[ts]\n  JSX element type 'ReactNode' is not a constructor function for JSX elements.\n    Type 'undefined' is not assignable to type 'ElementClass'. [2605]"}, {"type": "TEXT", "text": "How do I type this correctly?"}]}
{"raw_content": "<p>Since TypeScript is strongly-typed, simply using <code>if () {}</code> to check for <code>null</code> and <code>undefined</code> doesn't sound right. </p>\n\n<p>Does TypeScript have any dedicated function or syntax sugar for this?</p>", "language": "typescript", "question_id": 28975896, "title": "Is there a way to check for both `null` and `undefined`?", "segments": [{"type": "CODE", "text": "if () {}"}, {"type": "TEXT", "text": "Since TypeScript is strongly-typed, simply using"}, {"type": "TEXT", "text": "to check for"}, {"type": "TEXT", "text": "null"}, {"type": "TEXT", "text": "and"}, {"type": "TEXT", "text": "undefined"}, {"type": "TEXT", "text": "doesn't sound right."}, {"type": "TEXT", "text": "Does TypeScript have any dedicated function or syntax sugar for this?"}]}
{"raw_content": "<p>After upgrading from angular 4.4 to 5.0 and after updating all HttpModule and Http to HttpClientModule I started to get this error. </p>\n\n<p>I also added HttpModule again to be sure it's not due to some dependency but it doesn't resolve the issue</p>\n\n<p>In app.module, I have all correctly set</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import { HttpModule } from '@angular/http';\nimport { HttpClientModule, HttpClient } from '@angular/common/http';\n.\n.\n.\n@NgModule({\n    imports: [\n        BrowserModule,\n        HttpClientModule,\n        HttpModule,\n        BrowserAnimationsModule,\n        FormsModule,\n        AppRoutingModule,\n.\n.\n.\n</code></pre>\n\n<p>I don't know from where this error is coming, or I have no clue how to get inner of it. I also have a warning (put it below too) maybe its related.</p>\n\n<pre><code>Error: StaticInjectorError[HttpClient]: \n  StaticInjectorError[HttpClient]: \n    NullInjectorError: No provider for HttpClient!\n    at _NullInjector.get (vendor.js?v=mekBM8IVBK72-MIZOVSTJizGi_TD_xK3uhPOCRlEHwg:5665)\n    at resolveToken (vendor.js?v=mekBM8IVBK72-MIZOVSTJizGi_TD_xK3uhPOCRlEHwg:5953)\n    at tryResolveToken (vendor.js?v=mekBM8IVBK72-MIZOVSTJizGi_TD_xK3uhPOCRlEHwg:5895)\n    at StaticInjector.get (vendor.js?v=mekBM8IVBK72-MIZOVSTJizGi_TD_xK3uhPOCRlEHwg:5766)\n    at resolveToken (vendor.js?v=mekBM8IVBK72-MIZOVSTJizGi_TD_xK3uhPOCRlEHwg:5953)\n    at tryResolveToken (vendor.js?v=mekBM8IVBK72-MIZOVSTJizGi_TD_xK3uhPOCRlEHwg:5895)\n    at StaticInjector.get (vendor.js?v=mekBM8IVBK72-MIZOVSTJizGi_TD_xK3uhPOCRlEHwg:5766)\n    at resolveNgModuleDep (vendor.js?v=mekBM8IVBK72-MIZOVSTJizGi_TD_xK3uhPOCRlEHwg:15328)\n    at _createClass (vendor.js?v=mekBM8IVBK72-MIZOVSTJizGi_TD_xK3uhPOCRlEHwg:15373)\n    at _createProviderInstance$1 (vendor.js?v=mekBM8IVBK72-MIZOVSTJizGi_TD_xK3uhPOCRlEHwg:15339)\n</code></pre>\n\n<p>Warning Message:</p>\n\n<pre><code>./node_modules/@angular/Common/esm5/http.js\nThere are multiple modules with names that only differ in casing.\nThis can lead to unexpected behavior when compiling on a filesystem with other case-semantic.\nUse equal casing. Compare these module identifiers:\n* D:\\XXX\\node_modules\\@angular\\Common\\esm5\\http.js\n    Used by 21 module(s), i. e.\n    D:\\XXX\\node_modules\\awesome-typescript-loader\\dist\\entry.js?silent=true!D:\\XXX\\node_modules\\angular2-template-loader\\index.js!D:\\XXX\\ClientApp\\app\\services\\notification-endpoint.service.ts\n* D:\\XXX\\node_modules\\@angular\\common\\esm5\\http.js\n    Used by 1 module(s), i. e.\n    D:\\XXX\\node_modules\\awesome-typescript-loader\\dist\\entry.js?silent=true!D:\\XXX\\node_modules\\angular2-template-loader\\index.js!D:\\XXX\\ClientApp\\app\\app.module.ts\n @ ./node_modules/@angular/Common/esm5/http.js\n @ ./ClientApp/app/services/notification-endpoint.service.ts\n @ ./ClientApp/app/app.module.ts\n @ ./ClientApp/boot.browser.ts\n @ multi event-source-polyfill webpack-hot-middleware/client?path=__webpack_hmr&amp;dynamicPublicPath=true ./ClientApp/boot.browser.ts\n</code></pre>\n\n<h2>Current behavior</h2>\n\n<p><code>StaticInjectorError[HttpClient]: StaticInjectorError[HttpClient]: NullInjectorError: No provider for HttpClient!\n</code></p>\n\n<h2>Environment</h2>\n\n<pre><code>Angular version: 5.0.0 and 5.0.1 (also 5.1 beta)\n\nBrowser:\n- all\n\nFor Tooling issues:\n- Node version: 8.5.0\n- Platform:  windows\n</code></pre>\n\n<pre class=\"lang-json prettyprint-override\"><code>{\n  \"name\": \"X\",\n  \"version\": \"1.0.0\",\n  \"description\": \"X\",\n  \"author\": {\n    \"name\": \"X X\",\n    \"email\": \"XX\",\n    \"url\": \"X\"\n  },\n  \"homepage\": \"X\",\n  \"dependencies\": {\n    \"@angular/animations\": \"^5.1.0-beta.0\",\n    \"@angular/common\": \"^5.1.0-beta.0\",\n    \"@angular/compiler\": \"^5.1.0-beta.0\",\n    \"@angular/compiler-cli\": \"^5.1.0-beta.0\",\n    \"@angular/core\": \"^5.1.0-beta.0\",\n    \"@angular/forms\": \"^5.1.0-beta.0\",\n    \"@angular/http\": \"^5.1.0-beta.0\",\n    \"@angular/platform-browser\": \"^5.1.0-beta.0\",\n    \"@angular/platform-browser-dynamic\": \"^5.1.0-beta.0\",\n    \"@angular/platform-server\": \"^5.1.0-beta.0\",\n    \"@angular/router\": \"^5.1.0-beta.0\",\n    \"@ngtools/webpack\": \"^1.8.0\",\n    \"@ngx-translate/core\": \"^8.0.0\",\n    \"@ngx-translate/http-loader\": \"^2.0.0\",\n    \"@swimlane/ngx-datatable\": \"^11.0.3\",\n    \"@types/jquery\": \"^3.2.16\",\n    \"@types/webpack-env\": \"^1.13.2\",\n    \"angular2-template-loader\": \"^0.6.2\",\n    \"aspnet-webpack\": \"^2.0.1\",\n    \"awesome-typescript-loader\": \"^3.3.0\",\n    \"bootstrap\": \"^3.3.7\",\n    \"bootstrap-datepicker\": \"^1.7.1\",\n    \"bootstrap-select\": \"^1.12.4\",\n    \"bootstrap-toggle\": \"^2.2.2\",\n    \"bootstrap-vertical-tabs\": \"^1.2.2\",\n    \"chart.js\": \"^2.7.1\",\n    \"core-js\": \"^2.5.1\",\n    \"css\": \"^2.2.1\",\n    \"css-loader\": \"^0.28.7\",\n    \"event-source-polyfill\": \"^0.0.11\",\n    \"expose-loader\": \"^0.7.3\",\n    \"extract-text-webpack-plugin\": \"^3.0.2\",\n    \"file-loader\": \"^1.1.5\",\n    \"font-awesome\": \"^4.7.0\",\n    \"html-loader\": \"^0.5.1\",\n    \"jquery\": \"^3.2.1\",\n    \"json-loader\": \"^0.5.7\",\n    \"ng2-charts\": \"^1.6.0\",\n    \"ng2-toasty\": \"^4.0.3\",\n    \"ngx-bootstrap\": \"^2.0.0-beta.8\",\n    \"node-sass\": \"^4.6.0\",\n    \"popper.js\": \"^1.12.6\",\n    \"raw-loader\": \"^0.5.1\",\n    \"rxjs\": \"^5.5.2\",\n    \"sass-loader\": \"^6.0.6\",\n    \"style-loader\": \"^0.19.0\",\n    \"to-string-loader\": \"^1.1.5\",\n    \"typescript\": \"^2.6.1\",\n    \"url-loader\": \"^0.6.2\",\n    \"web-animations-js\": \"^2.3.1\",\n    \"webpack\": \"^3.8.1\",\n    \"webpack-hot-middleware\": \"^2.20.0\",\n    \"webpack-merge\": \"^4.1.1\",\n    \"zone.js\": \"^0.8.18\"\n  },\n  \"devDependencies\": {\n    \"@types/chai\": \"^4.0.4\",\n    \"@types/jasmine\": \"^2.6.3\",\n    \"chai\": \"^4.1.2\",\n    \"jasmine-core\": \"^2.8.0\",\n    \"karma\": \"^1.7.1\",\n    \"karma-chai\": \"^0.1.0\",\n    \"karma-chrome-launcher\": \"^2.2.0\",\n    \"karma-cli\": \"^1.0.1\",\n    \"karma-jasmine\": \"^1.1.0\",\n    \"karma-jasmine-html-reporter\": \"^0.2.2\",\n    \"karma-webpack\": \"^2.0.5\"\n  },\n  \"scripts\": {\n    \"dev-build\": \"node node_modules/webpack/bin/webpack.js --config webpack.config.vendor.js\",\n    \"test\": \"karma start ClientApp/test/karma.conf.js\"\n  }\n}\n</code></pre>\n\n<p>webpack.config.js</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>const path = require('path');\nconst webpack = require('webpack');\nconst merge = require('webpack-merge');\nconst AotPlugin = require('@ngtools/webpack').AotPlugin;\nconst CheckerPlugin = require('awesome-typescript-loader').CheckerPlugin;\n\nmodule.exports = (env) =&gt; {\n    // Configuration in common to both client-side and server-side bundles\n    const isDevBuild = !(env &amp;&amp; env.prod);\n    const sharedConfig = {\n        stats: { modules: false },\n        context: __dirname,\n        resolve: { extensions: ['.js', '.ts'] },\n        output: {\n            filename: '[name].js',\n            publicPath: 'dist/' // Webpack dev middleware, if enabled, handles requests for this URL prefix\n        },\n        module: {\n            rules: [\n                { test: /\\.ts$/, use: isDevBuild ? ['awesome-typescript-loader?silent=true', 'angular2-template-loader'] : '@ngtools/webpack' },\n                { test: /\\.html$/, use: 'html-loader?minimize=false' },\n                { test: /\\.css$/, use: ['to-string-loader', isDevBuild ? 'css-loader' : 'css-loader?minimize'] },\n                { test: /\\.scss$/, use: ['to-string-loader', isDevBuild ? 'css-loader' : 'css-loader?minimize', 'sass-loader'] },\n                { test: /\\.(png|jpg|jpeg|gif|svg)$/, use: 'url-loader?limit=25000' }\n            ]\n        },\n        plugins: [new CheckerPlugin()]\n    };\n\n    // Configuration for client-side bundle suitable for running in browsers\n    const clientBundleOutputDir = './wwwroot/dist';\n    const clientBundleConfig = merge(sharedConfig, {\n        entry: { 'main-client': './ClientApp/boot.browser.ts' },\n        output: { path: path.join(__dirname, clientBundleOutputDir) },\n        plugins: [\n            new webpack.DllReferencePlugin({\n                context: __dirname,\n                manifest: require('./wwwroot/dist/vendor-manifest.json')\n            })\n        ].concat(isDevBuild ? [\n            // Plugins that apply in development builds only\n            new webpack.SourceMapDevToolPlugin({\n                filename: '[file].map', // Remove this line if you prefer inline source maps\n                moduleFilenameTemplate: path.relative(clientBundleOutputDir, '[resourcePath]') // Point sourcemap entries to the original file locations on disk\n            })\n        ] : [\n                // Plugins that apply in production builds only\n                new webpack.optimize.UglifyJsPlugin(),\n                new AotPlugin({\n                    tsConfigPath: './tsconfig.json',\n                    entryModule: path.join(__dirname, 'ClientApp/app/app.module#AppModule')\n                })\n            ])\n    });\n\n    return [clientBundleConfig];\n};\n</code></pre>\n\n<p>webpack.config.vendor.js</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>const path = require('path');\nconst webpack = require('webpack');\nconst ExtractTextPlugin = require('extract-text-webpack-plugin');\nconst merge = require('webpack-merge');\nconst treeShakableModules = [\n    '@angular/animations',\n    '@angular/common',\n    '@angular/compiler',\n    '@angular/core',\n    '@angular/forms',\n    '@angular/http',\n    '@angular/platform-browser',\n    '@angular/platform-browser-dynamic',\n    '@angular/router',\n    'zone.js',\n];\nconst nonTreeShakableModules = [\n    'bootstrap',\n    'core-js/client/shim',\n    'web-animations-js',\n    'event-source-polyfill',\n    'jquery',\n    '@swimlane/ngx-datatable/release/assets/icons.css',\n    'ng2-toasty',\n    'ng2-toasty/bundles/style-bootstrap.css',\n    'ng2-charts',\n    'ngx-bootstrap/modal',\n    'ngx-bootstrap/tooltip',\n    'ngx-bootstrap/popover',\n    'ngx-bootstrap/dropdown',\n    'ngx-bootstrap/carousel',\n    'bootstrap-vertical-tabs/bootstrap.vertical-tabs.css',\n    'bootstrap-toggle/css/bootstrap-toggle.css',\n    'bootstrap-toggle/js/bootstrap-toggle.js',\n    'bootstrap-select/dist/css/bootstrap-select.css',\n    'bootstrap-select/dist/js/bootstrap-select.js',\n    'bootstrap-datepicker/dist/css/bootstrap-datepicker3.css',\n    'font-awesome/css/font-awesome.css'\n];\nconst allModules = treeShakableModules.concat(nonTreeShakableModules);\n\nmodule.exports = (env) =&gt; {\n    const extractCSS = new ExtractTextPlugin('vendor.css');\n    const isDevBuild = !(env &amp;&amp; env.prod);\n    const sharedConfig = {\n        stats: { modules: false },\n        resolve: { extensions: ['.js'] },\n        module: {\n            rules: [\n                { test: /\\.(gif|png|woff|woff2|eot|ttf|svg)(\\?|$)/, use: 'url-loader?limit=100000' }\n            ]\n        },\n        output: {\n            publicPath: 'dist/',\n            filename: '[name].js',\n            library: '[name]_[hash]'\n        },\n        plugins: [\n            new webpack.ProvidePlugin({ $: 'jquery', jQuery: 'jquery' }), // Maps these identifiers to the jQuery package (because Bootstrap expects it to be a global variable)\n            new webpack.ContextReplacementPlugin(/\\@angular\\b.*\\b(bundles|linker)/, path.join(__dirname, './ClientApp')), // Workaround for https://github.com/angular/angular/issues/11580\n            new webpack.ContextReplacementPlugin(/angular(\\\\|\\/)core(\\\\|\\/)@angular/, path.join(__dirname, './ClientApp')), // Workaround for https://github.com/angular/angular/issues/14898\n            new webpack.IgnorePlugin(/^vertx$/) // Workaround for https://github.com/stefanpenner/es6-promise/issues/100\n        ]\n    };\n\n    const clientBundleConfig = merge(sharedConfig, {\n        entry: {\n            // To keep development builds fast, include all vendor dependencies in the vendor bundle.\n            // But for production builds, leave the tree-shakable ones out so the AOT compiler can produce a smaller bundle.\n            vendor: isDevBuild ? allModules : nonTreeShakableModules\n        },\n        output: { path: path.join(__dirname, 'wwwroot', 'dist') },\n        module: {\n            rules: [\n                { test: /\\.css(\\?|$)/, use: extractCSS.extract({ use: isDevBuild ? 'css-loader' : 'css-loader?minimize' }) }\n            ]\n        },\n        plugins: [\n            extractCSS,\n            new webpack.DllPlugin({\n                path: path.join(__dirname, 'wwwroot', 'dist', '[name]-manifest.json'),\n                name: '[name]_[hash]'\n            })\n        ].concat(isDevBuild ? [] : [\n            new webpack.optimize.UglifyJsPlugin()\n        ])\n    });\n\n    return [clientBundleConfig];\n}\n</code></pre>", "language": "typescript", "question_id": 47236963, "title": "No provider for HttpClient", "segments": [{"type": "CODE", "text": "import { HttpModule } from '@angular/http';\nimport { HttpClientModule, HttpClient } from '@angular/common/http';\n.\n.\n.\n@NgModule({\n    imports: [\n        BrowserModule,\n        HttpClientModule,\n        HttpModule,\n        BrowserAnimationsModule,\n        FormsModule,\n        AppRoutingModule,\n.\n.\n."}, {"type": "CODE", "text": "Error: StaticInjectorError[HttpClient]: \n  StaticInjectorError[HttpClient]: \n    NullInjectorError: No provider for HttpClient!\n    at _NullInjector.get (vendor.js?v=mekBM8IVBK72-MIZOVSTJizGi_TD_xK3uhPOCRlEHwg:5665)\n    at resolveToken (vendor.js?v=mekBM8IVBK72-MIZOVSTJizGi_TD_xK3uhPOCRlEHwg:5953)\n    at tryResolveToken (vendor.js?v=mekBM8IVBK72-MIZOVSTJizGi_TD_xK3uhPOCRlEHwg:5895)\n    at StaticInjector.get (vendor.js?v=mekBM8IVBK72-MIZOVSTJizGi_TD_xK3uhPOCRlEHwg:5766)\n    at resolveToken (vendor.js?v=mekBM8IVBK72-MIZOVSTJizGi_TD_xK3uhPOCRlEHwg:5953)\n    at tryResolveToken (vendor.js?v=mekBM8IVBK72-MIZOVSTJizGi_TD_xK3uhPOCRlEHwg:5895)\n    at StaticInjector.get (vendor.js?v=mekBM8IVBK72-MIZOVSTJizGi_TD_xK3uhPOCRlEHwg:5766)\n    at resolveNgModuleDep (vendor.js?v=mekBM8IVBK72-MIZOVSTJizGi_TD_xK3uhPOCRlEHwg:15328)\n    at _createClass (vendor.js?v=mekBM8IVBK72-MIZOVSTJizGi_TD_xK3uhPOCRlEHwg:15373)\n    at _createProviderInstance$1 (vendor.js?v=mekBM8IVBK72-MIZOVSTJizGi_TD_xK3uhPOCRlEHwg:15339)"}, {"type": "CODE", "text": "./node_modules/@angular/Common/esm5/http.js\nThere are multiple modules with names that only differ in casing.\nThis can lead to unexpected behavior when compiling on a filesystem with other case-semantic.\nUse equal casing. Compare these module identifiers:\n* D:\\XXX\\node_modules\\@angular\\Common\\esm5\\http.js\n    Used by 21 module(s), i. e.\n    D:\\XXX\\node_modules\\awesome-typescript-loader\\dist\\entry.js?silent=true!D:\\XXX\\node_modules\\angular2-template-loader\\index.js!D:\\XXX\\ClientApp\\app\\services\\notification-endpoint.service.ts\n* D:\\XXX\\node_modules\\@angular\\common\\esm5\\http.js\n    Used by 1 module(s), i. e.\n    D:\\XXX\\node_modules\\awesome-typescript-loader\\dist\\entry.js?silent=true!D:\\XXX\\node_modules\\angular2-template-loader\\index.js!D:\\XXX\\ClientApp\\app\\app.module.ts\n @ ./node_modules/@angular/Common/esm5/http.js\n @ ./ClientApp/app/services/notification-endpoint.service.ts\n @ ./ClientApp/app/app.module.ts\n @ ./ClientApp/boot.browser.ts\n @ multi event-source-polyfill webpack-hot-middleware/client?path=__webpack_hmr&dynamicPublicPath=true ./ClientApp/boot.browser.ts"}, {"type": "CODE", "text": "StaticInjectorError[HttpClient]: StaticInjectorError[HttpClient]: NullInjectorError: No provider for HttpClient!"}, {"type": "CODE", "text": "Angular version: 5.0.0 and 5.0.1 (also 5.1 beta)\n\nBrowser:\n- all\n\nFor Tooling issues:\n- Node version: 8.5.0\n- Platform:  windows"}, {"type": "CODE", "text": "{\n  \"name\": \"X\",\n  \"version\": \"1.0.0\",\n  \"description\": \"X\",\n  \"author\": {\n    \"name\": \"X X\",\n    \"email\": \"XX\",\n    \"url\": \"X\"\n  },\n  \"homepage\": \"X\",\n  \"dependencies\": {\n    \"@angular/animations\": \"^5.1.0-beta.0\",\n    \"@angular/common\": \"^5.1.0-beta.0\",\n    \"@angular/compiler\": \"^5.1.0-beta.0\",\n    \"@angular/compiler-cli\": \"^5.1.0-beta.0\",\n    \"@angular/core\": \"^5.1.0-beta.0\",\n    \"@angular/forms\": \"^5.1.0-beta.0\",\n    \"@angular/http\": \"^5.1.0-beta.0\",\n    \"@angular/platform-browser\": \"^5.1.0-beta.0\",\n    \"@angular/platform-browser-dynamic\": \"^5.1.0-beta.0\",\n    \"@angular/platform-server\": \"^5.1.0-beta.0\",\n    \"@angular/router\": \"^5.1.0-beta.0\",\n    \"@ngtools/webpack\": \"^1.8.0\",\n    \"@ngx-translate/core\": \"^8.0.0\",\n    \"@ngx-translate/http-loader\": \"^2.0.0\",\n    \"@swimlane/ngx-datatable\": \"^11.0.3\",\n    \"@types/jquery\": \"^3.2.16\",\n    \"@types/webpack-env\": \"^1.13.2\",\n    \"angular2-template-loader\": \"^0.6.2\",\n    \"aspnet-webpack\": \"^2.0.1\",\n    \"awesome-typescript-loader\": \"^3.3.0\",\n    \"bootstrap\": \"^3.3.7\",\n    \"bootstrap-datepicker\": \"^1.7.1\",\n    \"bootstrap-select\": \"^1.12.4\",\n    \"bootstrap-toggle\": \"^2.2.2\",\n    \"bootstrap-vertical-tabs\": \"^1.2.2\",\n    \"chart.js\": \"^2.7.1\",\n    \"core-js\": \"^2.5.1\",\n    \"css\": \"^2.2.1\",\n    \"css-loader\": \"^0.28.7\",\n    \"event-source-polyfill\": \"^0.0.11\",\n    \"expose-loader\": \"^0.7.3\",\n    \"extract-text-webpack-plugin\": \"^3.0.2\",\n    \"file-loader\": \"^1.1.5\",\n    \"font-awesome\": \"^4.7.0\",\n    \"html-loader\": \"^0.5.1\",\n    \"jquery\": \"^3.2.1\",\n    \"json-loader\": \"^0.5.7\",\n    \"ng2-charts\": \"^1.6.0\",\n    \"ng2-toasty\": \"^4.0.3\",\n    \"ngx-bootstrap\": \"^2.0.0-beta.8\",\n    \"node-sass\": \"^4.6.0\",\n    \"popper.js\": \"^1.12.6\",\n    \"raw-loader\": \"^0.5.1\",\n    \"rxjs\": \"^5.5.2\",\n    \"sass-loader\": \"^6.0.6\",\n    \"style-loader\": \"^0.19.0\",\n    \"to-string-loader\": \"^1.1.5\",\n    \"typescript\": \"^2.6.1\",\n    \"url-loader\": \"^0.6.2\",\n    \"web-animations-js\": \"^2.3.1\",\n    \"webpack\": \"^3.8.1\",\n    \"webpack-hot-middleware\": \"^2.20.0\",\n    \"webpack-merge\": \"^4.1.1\",\n    \"zone.js\": \"^0.8.18\"\n  },\n  \"devDependencies\": {\n    \"@types/chai\": \"^4.0.4\",\n    \"@types/jasmine\": \"^2.6.3\",\n    \"chai\": \"^4.1.2\",\n    \"jasmine-core\": \"^2.8.0\",\n    \"karma\": \"^1.7.1\",\n    \"karma-chai\": \"^0.1.0\",\n    \"karma-chrome-launcher\": \"^2.2.0\",\n    \"karma-cli\": \"^1.0.1\",\n    \"karma-jasmine\": \"^1.1.0\",\n    \"karma-jasmine-html-reporter\": \"^0.2.2\",\n    \"karma-webpack\": \"^2.0.5\"\n  },\n  \"scripts\": {\n    \"dev-build\": \"node node_modules/webpack/bin/webpack.js --config webpack.config.vendor.js\",\n    \"test\": \"karma start ClientApp/test/karma.conf.js\"\n  }\n}"}, {"type": "CODE", "text": "const path = require('path');\nconst webpack = require('webpack');\nconst merge = require('webpack-merge');\nconst AotPlugin = require('@ngtools/webpack').AotPlugin;\nconst CheckerPlugin = require('awesome-typescript-loader').CheckerPlugin;\n\nmodule.exports = (env) => {\n    // Configuration in common to both client-side and server-side bundles\n    const isDevBuild = !(env && env.prod);\n    const sharedConfig = {\n        stats: { modules: false },\n        context: __dirname,\n        resolve: { extensions: ['.js', '.ts'] },\n        output: {\n            filename: '[name].js',\n            publicPath: 'dist/' // Webpack dev middleware, if enabled, handles requests for this URL prefix\n        },\n        module: {\n            rules: [\n                { test: /\\.ts$/, use: isDevBuild ? ['awesome-typescript-loader?silent=true', 'angular2-template-loader'] : '@ngtools/webpack' },\n                { test: /\\.html$/, use: 'html-loader?minimize=false' },\n                { test: /\\.css$/, use: ['to-string-loader', isDevBuild ? 'css-loader' : 'css-loader?minimize'] },\n                { test: /\\.scss$/, use: ['to-string-loader', isDevBuild ? 'css-loader' : 'css-loader?minimize', 'sass-loader'] },\n                { test: /\\.(png|jpg|jpeg|gif|svg)$/, use: 'url-loader?limit=25000' }\n            ]\n        },\n        plugins: [new CheckerPlugin()]\n    };\n\n    // Configuration for client-side bundle suitable for running in browsers\n    const clientBundleOutputDir = './wwwroot/dist';\n    const clientBundleConfig = merge(sharedConfig, {\n        entry: { 'main-client': './ClientApp/boot.browser.ts' },\n        output: { path: path.join(__dirname, clientBundleOutputDir) },\n        plugins: [\n            new webpack.DllReferencePlugin({\n                context: __dirname,\n                manifest: require('./wwwroot/dist/vendor-manifest.json')\n            })\n        ].concat(isDevBuild ? [\n            // Plugins that apply in development builds only\n            new webpack.SourceMapDevToolPlugin({\n                filename: '[file].map', // Remove this line if you prefer inline source maps\n                moduleFilenameTemplate: path.relative(clientBundleOutputDir, '[resourcePath]') // Point sourcemap entries to the original file locations on disk\n            })\n        ] : [\n                // Plugins that apply in production builds only\n                new webpack.optimize.UglifyJsPlugin(),\n                new AotPlugin({\n                    tsConfigPath: './tsconfig.json',\n                    entryModule: path.join(__dirname, 'ClientApp/app/app.module#AppModule')\n                })\n            ])\n    });\n\n    return [clientBundleConfig];\n};"}, {"type": "CODE", "text": "const path = require('path');\nconst webpack = require('webpack');\nconst ExtractTextPlugin = require('extract-text-webpack-plugin');\nconst merge = require('webpack-merge');\nconst treeShakableModules = [\n    '@angular/animations',\n    '@angular/common',\n    '@angular/compiler',\n    '@angular/core',\n    '@angular/forms',\n    '@angular/http',\n    '@angular/platform-browser',\n    '@angular/platform-browser-dynamic',\n    '@angular/router',\n    'zone.js',\n];\nconst nonTreeShakableModules = [\n    'bootstrap',\n    'core-js/client/shim',\n    'web-animations-js',\n    'event-source-polyfill',\n    'jquery',\n    '@swimlane/ngx-datatable/release/assets/icons.css',\n    'ng2-toasty',\n    'ng2-toasty/bundles/style-bootstrap.css',\n    'ng2-charts',\n    'ngx-bootstrap/modal',\n    'ngx-bootstrap/tooltip',\n    'ngx-bootstrap/popover',\n    'ngx-bootstrap/dropdown',\n    'ngx-bootstrap/carousel',\n    'bootstrap-vertical-tabs/bootstrap.vertical-tabs.css',\n    'bootstrap-toggle/css/bootstrap-toggle.css',\n    'bootstrap-toggle/js/bootstrap-toggle.js',\n    'bootstrap-select/dist/css/bootstrap-select.css',\n    'bootstrap-select/dist/js/bootstrap-select.js',\n    'bootstrap-datepicker/dist/css/bootstrap-datepicker3.css',\n    'font-awesome/css/font-awesome.css'\n];\nconst allModules = treeShakableModules.concat(nonTreeShakableModules);\n\nmodule.exports = (env) => {\n    const extractCSS = new ExtractTextPlugin('vendor.css');\n    const isDevBuild = !(env && env.prod);\n    const sharedConfig = {\n        stats: { modules: false },\n        resolve: { extensions: ['.js'] },\n        module: {\n            rules: [\n                { test: /\\.(gif|png|woff|woff2|eot|ttf|svg)(\\?|$)/, use: 'url-loader?limit=100000' }\n            ]\n        },\n        output: {\n            publicPath: 'dist/',\n            filename: '[name].js',\n            library: '[name]_[hash]'\n        },\n        plugins: [\n            new webpack.ProvidePlugin({ $: 'jquery', jQuery: 'jquery' }), // Maps these identifiers to the jQuery package (because Bootstrap expects it to be a global variable)\n            new webpack.ContextReplacementPlugin(/\\@angular\\b.*\\b(bundles|linker)/, path.join(__dirname, './ClientApp')), // Workaround for https://github.com/angular/angular/issues/11580\n            new webpack.ContextReplacementPlugin(/angular(\\\\|\\/)core(\\\\|\\/)@angular/, path.join(__dirname, './ClientApp')), // Workaround for https://github.com/angular/angular/issues/14898\n            new webpack.IgnorePlugin(/^vertx$/) // Workaround for https://github.com/stefanpenner/es6-promise/issues/100\n        ]\n    };\n\n    const clientBundleConfig = merge(sharedConfig, {\n        entry: {\n            // To keep development builds fast, include all vendor dependencies in the vendor bundle.\n            // But for production builds, leave the tree-shakable ones out so the AOT compiler can produce a smaller bundle.\n            vendor: isDevBuild ? allModules : nonTreeShakableModules\n        },\n        output: { path: path.join(__dirname, 'wwwroot', 'dist') },\n        module: {\n            rules: [\n                { test: /\\.css(\\?|$)/, use: extractCSS.extract({ use: isDevBuild ? 'css-loader' : 'css-loader?minimize' }) }\n            ]\n        },\n        plugins: [\n            extractCSS,\n            new webpack.DllPlugin({\n                path: path.join(__dirname, 'wwwroot', 'dist', '[name]-manifest.json'),\n                name: '[name]_[hash]'\n            })\n        ].concat(isDevBuild ? [] : [\n            new webpack.optimize.UglifyJsPlugin()\n        ])\n    });\n\n    return [clientBundleConfig];\n}"}, {"type": "TEXT", "text": "After upgrading from angular 4.4 to 5.0 and after updating all HttpModule and Http to HttpClientModule I started to get this error."}, {"type": "TEXT", "text": "I also added HttpModule again to be sure it's not due to some dependency but it doesn't resolve the issue"}, {"type": "TEXT", "text": "In app.module, I have all correctly set"}, {"type": "TEXT", "text": "I don't know from where this error is coming, or I have no clue how to get inner of it. I also have a warning (put it below too) maybe its related."}, {"type": "TEXT", "text": "Warning Message:"}, {"type": "TEXT", "text": "Current behavior"}, {"type": "TEXT", "text": "Environment"}, {"type": "TEXT", "text": "webpack.config.js"}]}
{"raw_content": "<p>Does anybody know how to get hold of an element defined in a component template? Polymer makes it really easy with the <code>$</code> and <code>$$</code>.</p>\n\n<p>I was just wondering how to go about it in Angular.</p>\n\n<p>Take the example from the tutorial:</p>\n\n<pre><code>import {Component} from '@angular/core';\n\n@Component({\n    selector:'display',\n    template:`\n     &lt;input #myname (input)=\"updateName(myname.value)\"/&gt;\n     &lt;p&gt;My name : {{myName}}&lt;/p&gt;\n     `   \n})\nexport class DisplayComponent {\n    myName: string = \"Aman\";\n    updateName(input: String) {\n        this.myName = input;\n    }\n}\n</code></pre>\n\n<p>How do I catch hold or get a reference of the <code>p</code> or <code>input</code> element from within the class definition?</p>", "language": "typescript", "question_id": 32693061, "title": "How can I select an element in a component template?", "segments": [{"type": "CODE", "text": "import {Component} from '@angular/core';\n\n@Component({\n    selector:'display',\n    template:`\n     <input #myname (input)=\"updateName(myname.value)\"/>\n     <p>My name : {{myName}}</p>\n     `   \n})\nexport class DisplayComponent {\n    myName: string = \"Aman\";\n    updateName(input: String) {\n        this.myName = input;\n    }\n}"}, {"type": "TEXT", "text": "Does anybody know how to get hold of an element defined in a component template? Polymer makes it really easy with the"}, {"type": "TEXT", "text": "$"}, {"type": "TEXT", "text": "and"}, {"type": "TEXT", "text": "$$"}, {"type": "TEXT", "text": "I was just wondering how to go about it in Angular."}, {"type": "TEXT", "text": "Take the example from the tutorial:"}, {"type": "TEXT", "text": "How do I catch hold or get a reference of the"}, {"type": "TEXT", "text": "element from within the class definition?"}]}
{"raw_content": "<p>I would like to store a mapping of string -&gt; string in a Typescript object, and enforce that all of the values map to strings.  For example:</p>\n<pre><code>var stuff = {};\nstuff[&quot;a&quot;] = &quot;foo&quot;;   // okay\nstuff[&quot;b&quot;] = &quot;bar&quot;;   // okay\nstuff[&quot;c&quot;] = false;   // ERROR!  bool != string\n</code></pre>\n<p>Is there a way for me to enforce that the values must be strings (or whatever type..)?</p>", "language": "typescript", "question_id": 13315131, "title": "Enforcing the type of the indexed members of a Typescript object?", "segments": [{"type": "CODE", "text": "var stuff = {};\nstuff[\"a\"] = \"foo\";   // okay\nstuff[\"b\"] = \"bar\";   // okay\nstuff[\"c\"] = false;   // ERROR!  bool != string"}, {"type": "TEXT", "text": "I would like to store a mapping of string -> string in a Typescript object, and enforce that all of the values map to strings.  For example:"}, {"type": "TEXT", "text": "Is there a way for me to enforce that the values must be strings (or whatever type..)?"}]}
{"raw_content": "<p>I would like to iterate a TypeScript enum object and get each enumerated symbol name, for example:\nenum myEnum { entry1, entry2 }</p>\n<pre><code>for (var entry in myEnum) { \n    // use entry's name here, e.g., &quot;entry1&quot;\n}\n</code></pre>", "language": "typescript", "question_id": 18111657, "title": "How to get names of enum entries?", "segments": [{"type": "CODE", "text": "for (var entry in myEnum) { \n    // use entry's name here, e.g., \"entry1\"\n}"}, {"type": "TEXT", "text": "I would like to iterate a TypeScript enum object and get each enumerated symbol name, for example:\nenum myEnum { entry1, entry2 }"}]}
{"raw_content": "<p>Currently I have type definition as:</p>\n\n<pre><code>interface Param {\n    title: string;\n    callback: any;\n}\n</code></pre>\n\n<p>I need something like:</p>\n\n<pre><code>interface Param {\n    title: string;\n    callback: function;\n}\n</code></pre>\n\n<p>but the 2nd one is not being accepted.</p>", "language": "typescript", "question_id": 29689966, "title": "How to define type for a function callback (as any function type, not universal any) used in a method parameter", "segments": [{"type": "CODE", "text": "interface Param {\n    title: string;\n    callback: any;\n}"}, {"type": "CODE", "text": "interface Param {\n    title: string;\n    callback: function;\n}"}, {"type": "TEXT", "text": "Currently I have type definition as:"}, {"type": "TEXT", "text": "I need something like:"}, {"type": "TEXT", "text": "but the 2nd one is not being accepted."}]}
{"raw_content": "<p>This question is the direct analogon to <a href=\"https://stackoverflow.com/questions/12789231/class-type-check-with-typescript\">Class type check in TypeScript</a></p>\n<p>I need to find out at runtime if a variable of type any implements an interface. Here's my code:</p>\n<pre class=\"lang-js prettyprint-override\"><code>interface A {\n    member: string;\n}\n    \nvar a: any = { member: &quot;foobar&quot; };\n    \nif (a instanceof A) alert(a.member);\n</code></pre>\n<p>If you enter this code in the typescript playground, the last line will be marked as an error, &quot;The name A does not exist in the current scope&quot;. But that isn't true, the name does exist in the current scope. I can even change the variable declaration to <code>var a:A={member:&quot;foobar&quot;};</code> without complaints from the editor. After browsing the web and finding the other question on SO I changed the interface to a class but then I can't use object literals to create instances.</p>\n<p>I wondered how the type A could vanish like that but a look at the generated javascript explains the problem:</p>\n<pre class=\"lang-js prettyprint-override\"><code>var a = {\n    member: &quot;foobar&quot;\n};\n\nif (a instanceof A) {\n    alert(a.member);\n}\n</code></pre>\n<p>There is no representation of A as an interface, therefore no runtime type checks are possible.</p>\n<p>I understand that javascript as a dynamic language has no concept of interfaces. Is there any way to type check for interfaces?</p>\n<p>The typescript playground's autocompletion reveals that typescript even offers a method <code>implements</code>. How can I use it ?</p>", "language": "typescript", "question_id": 14425568, "title": "Interface type check with Typescript", "segments": [{"type": "CODE", "text": "interface A {\n    member: string;\n}\n    \nvar a: any = { member: \"foobar\" };\n    \nif (a instanceof A) alert(a.member);"}, {"type": "CODE", "text": "var a:A={member:\"foobar\"};"}, {"type": "CODE", "text": "var a = {\n    member: \"foobar\"\n};\n\nif (a instanceof A) {\n    alert(a.member);\n}"}, {"type": "TEXT", "text": "This question is the direct analogon to"}, {"type": "TEXT", "text": "Class type check in TypeScript"}, {"type": "TEXT", "text": "I need to find out at runtime if a variable of type any implements an interface. Here's my code:"}, {"type": "TEXT", "text": "If you enter this code in the typescript playground, the last line will be marked as an error, \"The name A does not exist in the current scope\". But that isn't true, the name does exist in the current scope. I can even change the variable declaration to"}, {"type": "TEXT", "text": "without complaints from the editor. After browsing the web and finding the other question on SO I changed the interface to a class but then I can't use object literals to create instances."}, {"type": "TEXT", "text": "I wondered how the type A could vanish like that but a look at the generated javascript explains the problem:"}, {"type": "TEXT", "text": "There is no representation of A as an interface, therefore no runtime type checks are possible."}, {"type": "TEXT", "text": "I understand that javascript as a dynamic language has no concept of interfaces. Is there any way to type check for interfaces?"}, {"type": "TEXT", "text": "The typescript playground's autocompletion reveals that typescript even offers a method"}, {"type": "TEXT", "text": "implements"}, {"type": "TEXT", "text": ". How can I use it ?"}]}
{"raw_content": "<p>I am a bit confused about how to get the <code>key</code> and <code>value</code> of an object in angular2 while using <code>*ngFor</code> for iterating over the object. I know in angular 1.x there is a syntax like </p>\n\n<pre class=\"lang-html prettyprint-override\"><code>ng-repeat=\"(key, value) in demo\"\n</code></pre>\n\n<p>but I don't know how to do the same in angular2. I have tried something similar, without success:</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>    &lt;ul&gt;\n      &lt;li *ngFor='#key of demo'&gt;{{key}}&lt;/li&gt;\n    &lt;/ul&gt;\n\n    demo = {\n        'key1': [{'key11':'value11'}, {'key12':'value12'}],\n        'key2': [{'key21':'value21'}, {'key22':'value22'}],\n      }\n</code></pre>\n\n<p>Here is a plnkr with my attempt:\n<a href=\"http://plnkr.co/edit/mIj619FncOpfdwrR0KeG?p=preview\" rel=\"noreferrer\">http://plnkr.co/edit/mIj619FncOpfdwrR0KeG?p=preview</a></p>\n\n<p>How can I get <code>key1</code> and <code>key2</code> dynamically using <code>*ngFor</code>? After searching extensively, I found the idea of using pipes but I don't know how to go about it.\nIs there any inbuilt pipe for doing the same in angular2?</p>", "language": "typescript", "question_id": 35534959, "title": "access key and value of object using *ngFor", "segments": [{"type": "CODE", "text": "ng-repeat=\"(key, value) in demo\""}, {"type": "CODE", "text": "<ul>\n      <li *ngFor='#key of demo'>{{key}}</li>\n    </ul>\n\n    demo = {\n        'key1': [{'key11':'value11'}, {'key12':'value12'}],\n        'key2': [{'key21':'value21'}, {'key22':'value22'}],\n      }"}, {"type": "TEXT", "text": "I am a bit confused about how to get the"}, {"type": "TEXT", "text": "and"}, {"type": "TEXT", "text": "of an object in angular2 while using"}, {"type": "TEXT", "text": "for iterating over the object. I know in angular 1.x there is a syntax like"}, {"type": "TEXT", "text": "but I don't know how to do the same in angular2. I have tried something similar, without success:"}, {"type": "TEXT", "text": "Here is a plnkr with my attempt:"}, {"type": "TEXT", "text": "http://plnkr.co/edit/mIj619FncOpfdwrR0KeG?p=preview"}, {"type": "TEXT", "text": "How can I get"}, {"type": "TEXT", "text": "and"}, {"type": "TEXT", "text": "dynamically using"}, {"type": "TEXT", "text": "? After searching extensively, I found the idea of using pipes but I don't know how to go about it.\nIs there any inbuilt pipe for doing the same in angular2?"}]}
{"raw_content": "<p>In TypeScript, the <code>const</code> keyword cannot be used to declare class properties. Doing so causes the compiler to an error with &quot;A class member cannot have the 'const' keyword.&quot;</p>\n<p>I find myself in need to clearly indicate in code that a property should not be changed.  I want the IDE or compiler to error if I attempt to assign a new value to the property once it has been declared. How do you guys achieve this?</p>\n<p>I'm currently using a read-only property, but I wonder if there is a better way:</p>\n<pre><code>get MY_CONSTANT():number {return 10};\n</code></pre>\n<p>I'm using typescript 1.8. Suggestions?</p>\n<p>PS: I'm now using typescript 2.0.3, so I've accepted <a href=\"https://stackoverflow.com/a/37265481/6588498\">David's answer</a></p>", "language": "typescript", "question_id": 37265275, "title": "How to implement class constants?", "segments": [{"type": "CODE", "text": "get MY_CONSTANT():number {return 10};"}, {"type": "TEXT", "text": "In TypeScript, the"}, {"type": "TEXT", "text": "const"}, {"type": "TEXT", "text": "keyword cannot be used to declare class properties. Doing so causes the compiler to an error with \"A class member cannot have the 'const' keyword.\""}, {"type": "TEXT", "text": "I find myself in need to clearly indicate in code that a property should not be changed.  I want the IDE or compiler to error if I attempt to assign a new value to the property once it has been declared. How do you guys achieve this?"}, {"type": "TEXT", "text": "I'm currently using a read-only property, but I wonder if there is a better way:"}, {"type": "TEXT", "text": "I'm using typescript 1.8. Suggestions?"}, {"type": "TEXT", "text": "PS: I'm now using typescript 2.0.3, so I've accepted"}, {"type": "TEXT", "text": "David's answer"}]}
{"raw_content": "<p>I read a JSON object from a remote REST server. This JSON object has all the properties of a typescript class (by design). How do I cast that received JSON object to a type var?</p>\n\n<p>I don't want to populate a typescript var (ie have a constructor that takes this JSON object). It's large and copying everything across sub-object by sub-object &amp; property by property would take a lot of time.</p>\n\n<p><strong>Update:</strong> You can however <a href=\"https://stackoverflow.com/questions/13320568/can-i-create-a-typescript-type-and-use-that-when-ajax-returns-json-data/13320802#13320802\">cast it to a typescript interface!</a></p>", "language": "typescript", "question_id": 22875636, "title": "How do I cast a JSON Object to a TypeScript class?", "segments": [{"type": "TEXT", "text": "I read a JSON object from a remote REST server. This JSON object has all the properties of a typescript class (by design). How do I cast that received JSON object to a type var?"}, {"type": "TEXT", "text": "I don't want to populate a typescript var (ie have a constructor that takes this JSON object). It's large and copying everything across sub-object by sub-object & property by property would take a lot of time."}, {"type": "TEXT", "text": "Update:"}, {"type": "TEXT", "text": "You can however"}, {"type": "TEXT", "text": "cast it to a typescript interface!"}]}
{"raw_content": "<p>What does <code>Record&lt;K, T&gt;</code> mean in Typescript?</p>\n<p>Typescript 2.1 introduced the <code>Record</code> type, describing it in an example:</p>\n<blockquote>\n<pre><code>// For every properties K of type T, transform it to U\nfunction mapObject&lt;K extends string, T, U&gt;(obj: Record&lt;K, T&gt;, f: (x: T) =&gt; U): Record&lt;K, U&gt;\n</code></pre>\n</blockquote>\n<p>see <a href=\"https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-1.html#partial-readonly-record-and-pick\" rel=\"noreferrer\">Typescript 2.1</a></p>\n<p>And the <a href=\"https://www.typescriptlang.org/docs/handbook/advanced-types.html\" rel=\"noreferrer\">Advanced Types</a> page mentions <code>Record</code> under the Mapped Types heading alongside <code>Readonly</code>, <code>Partial</code>, and <code>Pick</code>, in what appears to be its definition:</p>\n<blockquote>\n<pre><code>type Record&lt;K extends string, T&gt; = {\n    [P in K]: T;\n}\n</code></pre>\n</blockquote>\n<blockquote>\n<p>Readonly, Partial and Pick are homomorphic whereas Record is not. One clue that Record is not homomorphic is that it doesnt take an input type to copy properties from:</p>\n<pre><code>type ThreeStringProps = Record&lt;'prop1' | 'prop2' | 'prop3', string&gt;\n</code></pre>\n</blockquote>\n<p>And that's it. Besides the above quotes, there is no other mention of <code>Record</code> on <a href=\"https://www.google.com/search?q=site:https://www.typescriptlang.org/+record&amp;filter=0&amp;biw=1372&amp;bih=835\" rel=\"noreferrer\">typescriptlang.org</a>.</p>\n<h2>Questions</h2>\n<ol>\n<li><p>Can someone give a simple definition of what <code>Record</code> is?</p>\n</li>\n<li><p>Is <code>Record&lt;K,T&gt;</code> merely a way of saying &quot;all properties on this object will have type <code>T</code>&quot;? Probably not <em>all</em> properties, since <code>K</code> has some purpose...</p>\n</li>\n<li><p>Does the <code>K</code> generic forbid additional keys on the object that are not <code>K</code>, or does it allow them and just indicate that their properties are not transformed to <code>T</code>?</p>\n</li>\n<li><p>With the given example:</p>\n<pre><code>type ThreeStringProps = Record&lt;'prop1' | 'prop2' | 'prop3', string&gt;\n</code></pre>\n<p>Is it exactly the same as this?:</p>\n<pre><code>type ThreeStringProps = {prop1: string, prop2: string, prop3: string}\n</code></pre>\n</li>\n</ol>", "language": "typescript", "question_id": 51936369, "title": "What is the Record type?", "segments": [{"type": "CODE", "text": "Record<K, T>"}, {"type": "CODE", "text": "// For every properties K of type T, transform it to U\nfunction mapObject<K extends string, T, U>(obj: Record<K, T>, f: (x: T) => U): Record<K, U>"}, {"type": "CODE", "text": "type Record<K extends string, T> = {\n    [P in K]: T;\n}"}, {"type": "CODE", "text": "type ThreeStringProps = Record<'prop1' | 'prop2' | 'prop3', string>"}, {"type": "CODE", "text": "type ThreeStringProps = {prop1: string, prop2: string, prop3: string}"}, {"type": "TEXT", "text": "What does"}, {"type": "TEXT", "text": "mean in Typescript?"}, {"type": "TEXT", "text": "Typescript 2.1 introduced the"}, {"type": "TEXT", "text": "type, describing it in an example:"}, {"type": "TEXT", "text": "see"}, {"type": "TEXT", "text": "Typescript 2.1"}, {"type": "TEXT", "text": "And the"}, {"type": "TEXT", "text": "Advanced Types"}, {"type": "TEXT", "text": "page mentions"}, {"type": "TEXT", "text": "under the Mapped Types heading alongside"}, {"type": "TEXT", "text": "Readonly"}, {"type": "TEXT", "text": "Partial"}, {"type": "TEXT", "text": ", and"}, {"type": "TEXT", "text": "Pick"}, {"type": "TEXT", "text": ", in what appears to be its definition:"}, {"type": "TEXT", "text": "Readonly, Partial and Pick are homomorphic whereas Record is not. One clue that Record is not homomorphic is that it doesnt take an input type to copy properties from:"}, {"type": "TEXT", "text": "And that's it. Besides the above quotes, there is no other mention of"}, {"type": "TEXT", "text": "typescriptlang.org"}, {"type": "TEXT", "text": "."}, {"type": "TEXT", "text": "Questions"}, {"type": "TEXT", "text": "Can someone give a simple definition of what"}, {"type": "TEXT", "text": "is?"}, {"type": "TEXT", "text": "Is"}, {"type": "TEXT", "text": "Record<K,T>"}, {"type": "TEXT", "text": "merely a way of saying \"all properties on this object will have type"}, {"type": "TEXT", "text": "\"? Probably not"}, {"type": "TEXT", "text": "all"}, {"type": "TEXT", "text": "properties, since"}, {"type": "TEXT", "text": "has some purpose..."}, {"type": "TEXT", "text": "Does the"}, {"type": "TEXT", "text": "generic forbid additional keys on the object that are not"}, {"type": "TEXT", "text": ", or does it allow them and just indicate that their properties are not transformed to"}, {"type": "TEXT", "text": "?"}, {"type": "TEXT", "text": "With the given example:"}, {"type": "TEXT", "text": "Is it exactly the same as this?:"}]}
{"raw_content": "<p>I am trying to get my first TypeScript and DefinitelyTyped Node.js application up and running, and running into some errors.</p>\n\n<p>I am getting the error \"TS2304: Cannot find name 'require' \" when I attempt to transpile a simple TypeScript Node.js page. I have read through several other occurrences of this error on Stack&nbsp;Overflow, and I do not think I have similar issues.\nI am running at the shell prompt the command:</p>\n\n<pre><code>tsc movie.server.model.ts.\n</code></pre>\n\n<p>The contents of this file are:</p>\n\n<pre><code>'use strict';\n\n/// &lt;reference path=\"typings/tsd.d.ts\" /&gt;\n\n/*    movie.server.model.ts - definition of movie schema */\n\nvar mongoose = require('mongoose'),\nSchema = mongoose.Schema;\n\nvar foo = 'test';\n</code></pre>\n\n<p>The error is thrown on the <code>var mongoose=require('mongoose')</code> line.</p>\n\n<p>The contents of the typings/tsd.d.ts file are:</p>\n\n<pre><code>/// &lt;reference path=\"node/node.d.ts\" /&gt;\n/// &lt;reference path=\"requirejs/require.d.ts\" /&gt;\n</code></pre>\n\n<p>The .d.ts file references were placed in the appropriate folders and added to typings/tsd.d.ts by the commands:</p>\n\n<pre><code>tsd install node --save\ntsd install require --save\n</code></pre>\n\n<p>The produced .js file seems to work fine, so I could ignore the error. But I would appreciate knowing why this error occurs and what I am doing wrong.</p>", "language": "typescript", "question_id": 31173738, "title": "TypeScript getting error TS2304: cannot find name &#39; require&#39;", "segments": [{"type": "CODE", "text": "tsc movie.server.model.ts."}, {"type": "CODE", "text": "'use strict';\n\n/// <reference path=\"typings/tsd.d.ts\" />\n\n/*    movie.server.model.ts - definition of movie schema */\n\nvar mongoose = require('mongoose'),\nSchema = mongoose.Schema;\n\nvar foo = 'test';"}, {"type": "CODE", "text": "var mongoose=require('mongoose')"}, {"type": "CODE", "text": "/// <reference path=\"node/node.d.ts\" />\n/// <reference path=\"requirejs/require.d.ts\" />"}, {"type": "CODE", "text": "tsd install node --save\ntsd install require --save"}, {"type": "TEXT", "text": "I am trying to get my first TypeScript and DefinitelyTyped Node.js application up and running, and running into some errors."}, {"type": "TEXT", "text": "I am getting the error \"TS2304: Cannot find name 'require' \" when I attempt to transpile a simple TypeScript Node.js page. I have read through several other occurrences of this error on StackOverflow, and I do not think I have similar issues.\nI am running at the shell prompt the command:"}, {"type": "TEXT", "text": "The contents of this file are:"}, {"type": "TEXT", "text": "The error is thrown on the"}, {"type": "TEXT", "text": "line."}, {"type": "TEXT", "text": "The contents of the typings/tsd.d.ts file are:"}, {"type": "TEXT", "text": "The .d.ts file references were placed in the appropriate folders and added to typings/tsd.d.ts by the commands:"}, {"type": "TEXT", "text": "The produced .js file seems to work fine, so I could ignore the error. But I would appreciate knowing why this error occurs and what I am doing wrong."}]}
{"raw_content": "<p>When I try to start my app on Heroku I got the following stack trace.\nIt is just a basic ts.app like you see with ts-node and nodemon.</p>\n<p>I am really interested in what the answer is going to be.</p>\n<pre><code>2020-05-30T00:03:12.201106+00:00 heroku[web.1]: Starting process with command `npm start`\n2020-05-30T00:03:14.405285+00:00 app[web.1]: \n2020-05-30T00:03:14.405303+00:00 app[web.1]: &gt; discordtoornamentmanager@1.0.0 start /app\n2020-05-30T00:03:14.405303+00:00 app[web.1]: &gt; ts-node src/App.ts\n2020-05-30T00:03:14.405304+00:00 app[web.1]: \n2020-05-30T00:03:14.833655+00:00 app[web.1]: (node:23) ExperimentalWarning: The ESM module loader is experimental.\n2020-05-30T00:03:14.839311+00:00 app[web.1]: TypeError [ERR_UNKNOWN_FILE_EXTENSION]: Unknown file extension &quot;.ts&quot; for /app/src/App.ts\n2020-05-30T00:03:14.839312+00:00 app[web.1]:     at Loader.defaultGetFormat [as _getFormat] (internal/modules/esm/get_format.js:65:15)\n2020-05-30T00:03:14.839314+00:00 app[web.1]:     at Loader.getFormat (internal/modules/esm/loader.js:113:42)\n2020-05-30T00:03:14.839315+00:00 app[web.1]:     at Loader.getModuleJob (internal/modules/esm/loader.js:244:31)\n2020-05-30T00:03:14.839315+00:00 app[web.1]:     at processTicksAndRejections (internal/process/task_queues.js:97:5)\n2020-05-30T00:03:14.839316+00:00 app[web.1]:     at Loader.import (internal/modules/esm/loader.js:178:17)\n2020-05-30T00:03:14.847801+00:00 app[web.1]: npm ERR! code ELIFECYCLE\n2020-05-30T00:03:14.847998+00:00 app[web.1]: npm ERR! errno 1\n2020-05-30T00:03:14.848957+00:00 app[web.1]: npm ERR! discordtoornamentmanager@1.0.0 start: `ts-node src/App.ts`\n2020-05-30T00:03:14.849050+00:00 app[web.1]: npm ERR! Exit status 1\n2020-05-30T00:03:14.849172+00:00 app[web.1]: npm ERR! \n2020-05-30T00:03:14.849254+00:00 app[web.1]: npm ERR! Failed at the discordtoornamentmanager@1.0.0 start script.\n2020-05-30T00:03:14.849337+00:00 app[web.1]: npm ERR! This is probably not a problem with npm. There is likely additional logging output above.\n2020-05-30T00:03:14.854859+00:00 app[web.1]: \n2020-05-30T00:03:14.854998+00:00 app[web.1]: npm ERR! A complete log of this run can be found in:\n2020-05-30T00:03:14.855069+00:00 app[web.1]: npm ERR!     /app/.npm/_logs/2020-05-30T00_03_14_850Z-debug.log\n2020-05-30T00:03:14.907689+00:00 heroku[web.1]: Process exited with status 1\n2020-05-30T00:03:14.943718+00:00 heroku[web.1]: State changed from starting to crashed\n</code></pre>\n<p>This is my <code>package.json</code>:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n   &quot;name&quot;: &quot;discordtoornamentmanager&quot;,\n   &quot;version&quot;: &quot;1.0.0&quot;,\n   &quot;description&quot;: &quot;&quot;,\n   &quot;main&quot;: &quot;dist/app.js&quot;,\n   &quot;type&quot;: &quot;module&quot;,\n   &quot;scripts&quot;: {\n      &quot;test&quot;: &quot;echo \\&quot;Error: no test specified\\&quot; &amp;&amp; exit 1&quot;,\n      &quot;dev&quot;: &quot;nodemon -x ts-node src/App.ts&quot;,\n      &quot;start&quot;: &quot;ts-node src/App.ts&quot;\n   },\n   &quot;keywords&quot;: [],\n   &quot;author&quot;: &quot;&quot;,\n   &quot;license&quot;: &quot;ISC&quot;,\n   &quot;dependencies&quot;: {\n      &quot;@types/node&quot;: &quot;^14.0.5&quot;,\n      &quot;axios&quot;: &quot;^0.19.2&quot;,\n      &quot;discord.js&quot;: &quot;^12.2.0&quot;,\n      &quot;pg&quot;: &quot;^8.2.1&quot;,\n      &quot;reflect-metadata&quot;: &quot;^0.1.10&quot;,\n      &quot;typeorm&quot;: &quot;0.2.25&quot;,\n      &quot;typescript&quot;: &quot;^3.9.3&quot;,\n      &quot;nodemon&quot;: &quot;^2.0.4&quot;,\n      &quot;ts-node&quot;: &quot;8.10.1&quot;\n\n   }\n}\n</code></pre>\n<p>And this is my <code>tsconfig</code>:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n   &quot;compilerOptions&quot;: {\n      &quot;lib&quot;: [\n         &quot;es6&quot;\n      ],\n      &quot;target&quot;: &quot;es6&quot;,\n      &quot;module&quot;: &quot;commonjs&quot;,\n      &quot;moduleResolution&quot;: &quot;node&quot;,\n      &quot;outDir&quot;: &quot;dist&quot;,\n      &quot;resolveJsonModule&quot;: true,\n      &quot;emitDecoratorMetadata&quot;: true,\n      &quot;esModuleInterop&quot;: true,\n      &quot;experimentalDecorators&quot;: true,\n      &quot;sourceMap&quot;: true\n   },\n   &quot;include&quot;: [&quot;src/**/*.ts&quot;],\n   &quot;exclude&quot;: [&quot;node_modules&quot;, &quot;**/*.spec.ts&quot;]\n}\n</code></pre>", "language": "typescript", "question_id": 62096269, "title": "Unknown file extension &quot;.ts&quot; for a TypeScript file", "segments": [{"type": "CODE", "text": "2020-05-30T00:03:12.201106+00:00 heroku[web.1]: Starting process with command `npm start`\n2020-05-30T00:03:14.405285+00:00 app[web.1]: \n2020-05-30T00:03:14.405303+00:00 app[web.1]: > discordtoornamentmanager@1.0.0 start /app\n2020-05-30T00:03:14.405303+00:00 app[web.1]: > ts-node src/App.ts\n2020-05-30T00:03:14.405304+00:00 app[web.1]: \n2020-05-30T00:03:14.833655+00:00 app[web.1]: (node:23) ExperimentalWarning: The ESM module loader is experimental.\n2020-05-30T00:03:14.839311+00:00 app[web.1]: TypeError [ERR_UNKNOWN_FILE_EXTENSION]: Unknown file extension \".ts\" for /app/src/App.ts\n2020-05-30T00:03:14.839312+00:00 app[web.1]:     at Loader.defaultGetFormat [as _getFormat] (internal/modules/esm/get_format.js:65:15)\n2020-05-30T00:03:14.839314+00:00 app[web.1]:     at Loader.getFormat (internal/modules/esm/loader.js:113:42)\n2020-05-30T00:03:14.839315+00:00 app[web.1]:     at Loader.getModuleJob (internal/modules/esm/loader.js:244:31)\n2020-05-30T00:03:14.839315+00:00 app[web.1]:     at processTicksAndRejections (internal/process/task_queues.js:97:5)\n2020-05-30T00:03:14.839316+00:00 app[web.1]:     at Loader.import (internal/modules/esm/loader.js:178:17)\n2020-05-30T00:03:14.847801+00:00 app[web.1]: npm ERR! code ELIFECYCLE\n2020-05-30T00:03:14.847998+00:00 app[web.1]: npm ERR! errno 1\n2020-05-30T00:03:14.848957+00:00 app[web.1]: npm ERR! discordtoornamentmanager@1.0.0 start: `ts-node src/App.ts`\n2020-05-30T00:03:14.849050+00:00 app[web.1]: npm ERR! Exit status 1\n2020-05-30T00:03:14.849172+00:00 app[web.1]: npm ERR! \n2020-05-30T00:03:14.849254+00:00 app[web.1]: npm ERR! Failed at the discordtoornamentmanager@1.0.0 start script.\n2020-05-30T00:03:14.849337+00:00 app[web.1]: npm ERR! This is probably not a problem with npm. There is likely additional logging output above.\n2020-05-30T00:03:14.854859+00:00 app[web.1]: \n2020-05-30T00:03:14.854998+00:00 app[web.1]: npm ERR! A complete log of this run can be found in:\n2020-05-30T00:03:14.855069+00:00 app[web.1]: npm ERR!     /app/.npm/_logs/2020-05-30T00_03_14_850Z-debug.log\n2020-05-30T00:03:14.907689+00:00 heroku[web.1]: Process exited with status 1\n2020-05-30T00:03:14.943718+00:00 heroku[web.1]: State changed from starting to crashed"}, {"type": "CODE", "text": "{\n   \"name\": \"discordtoornamentmanager\",\n   \"version\": \"1.0.0\",\n   \"description\": \"\",\n   \"main\": \"dist/app.js\",\n   \"type\": \"module\",\n   \"scripts\": {\n      \"test\": \"echo \\\"Error: no test specified\\\" && exit 1\",\n      \"dev\": \"nodemon -x ts-node src/App.ts\",\n      \"start\": \"ts-node src/App.ts\"\n   },\n   \"keywords\": [],\n   \"author\": \"\",\n   \"license\": \"ISC\",\n   \"dependencies\": {\n      \"@types/node\": \"^14.0.5\",\n      \"axios\": \"^0.19.2\",\n      \"discord.js\": \"^12.2.0\",\n      \"pg\": \"^8.2.1\",\n      \"reflect-metadata\": \"^0.1.10\",\n      \"typeorm\": \"0.2.25\",\n      \"typescript\": \"^3.9.3\",\n      \"nodemon\": \"^2.0.4\",\n      \"ts-node\": \"8.10.1\"\n\n   }\n}"}, {"type": "CODE", "text": "{\n   \"compilerOptions\": {\n      \"lib\": [\n         \"es6\"\n      ],\n      \"target\": \"es6\",\n      \"module\": \"commonjs\",\n      \"moduleResolution\": \"node\",\n      \"outDir\": \"dist\",\n      \"resolveJsonModule\": true,\n      \"emitDecoratorMetadata\": true,\n      \"esModuleInterop\": true,\n      \"experimentalDecorators\": true,\n      \"sourceMap\": true\n   },\n   \"include\": [\"src/**/*.ts\"],\n   \"exclude\": [\"node_modules\", \"**/*.spec.ts\"]\n}"}, {"type": "TEXT", "text": "When I try to start my app on Heroku I got the following stack trace.\nIt is just a basic ts.app like you see with ts-node and nodemon."}, {"type": "TEXT", "text": "I am really interested in what the answer is going to be."}, {"type": "TEXT", "text": "This is my"}, {"type": "TEXT", "text": "package.json"}, {"type": "TEXT", "text": "And this is my"}, {"type": "TEXT", "text": "tsconfig"}]}
{"raw_content": "<p>Does Typescript currently (or are there plans to) support the <a href=\"http://mrhaki.blogspot.com.au/2009/08/groovy-goodness-safe-navigation-to.html\">safe navigation</a> operator of <code>?.</code></p>\n\n<p>ie:</p>\n\n<pre><code>var thing = foo?.bar\n// same as:\nvar thing = (foo) ? foo.bar : null;\n</code></pre>\n\n<p>Also, is there a more common name for this operator (it's incedibly hard to google for).</p>", "language": "typescript", "question_id": 15260732, "title": "Does Typescript support the ?. operator? (And, what&#39;s it called?)", "segments": [{"type": "CODE", "text": "var thing = foo?.bar\n// same as:\nvar thing = (foo) ? foo.bar : null;"}, {"type": "TEXT", "text": "Does Typescript currently (or are there plans to) support the"}, {"type": "TEXT", "text": "safe navigation"}, {"type": "TEXT", "text": "operator of"}, {"type": "TEXT", "text": "ie:"}, {"type": "TEXT", "text": "Also, is there a more common name for this operator (it's incedibly hard to google for)."}]}
{"raw_content": "<p>The <code>// @ts-ignore</code> comment enables the TypeScript compiler to ignore the line below it.</p>\n<p>How can one ignore a whole block of code with TypeScript?</p>", "language": "typescript", "question_id": 51145180, "title": "How to use `@ts-ignore` for a block?", "segments": [{"type": "CODE", "text": "// @ts-ignore"}, {"type": "TEXT", "text": "The"}, {"type": "TEXT", "text": "comment enables the TypeScript compiler to ignore the line below it."}, {"type": "TEXT", "text": "How can one ignore a whole block of code with TypeScript?"}]}
{"raw_content": "<p>When I make any property of an interface optional, and while assigning its member to some other variable like this:</p>\n<pre><code>interface Person {\n  name?: string,\n  age?: string,\n  gender?: string,\n  occupation?: string,\n}\n\nfunction getPerson() {\n  let person = &lt;Person&gt;{name:&quot;John&quot;};\n  return person;\n}\n\nlet person: Person = getPerson();\nlet name1: string = person.name; // &lt;&lt;&lt; Error here\n</code></pre>\n<p>I get an error like the following:</p>\n<pre class=\"lang-none prettyprint-override\"><code>TS2322: Type'string|undefined'isnotassignabletotype'string'.\nType'undefined'isnotassignabletotype'string'.\n</code></pre>\n<p>How do I get around this error?</p>", "language": "typescript", "question_id": 54496398, "title": "TypeScript: Type&#160;&#39;string&#160;|&#160;undefined&#39;&#160;is&#160;not&#160;assignable&#160;to&#160;type&#160;&#39;string&#39;", "segments": [{"type": "CODE", "text": "interface Person {\n  name?: string,\n  age?: string,\n  gender?: string,\n  occupation?: string,\n}\n\nfunction getPerson() {\n  let person = <Person>{name:\"John\"};\n  return person;\n}\n\nlet person: Person = getPerson();\nlet name1: string = person.name; // <<< Error here"}, {"type": "CODE", "text": "TS2322: Type'string|undefined'isnotassignabletotype'string'.\nType'undefined'isnotassignabletotype'string'."}, {"type": "TEXT", "text": "When I make any property of an interface optional, and while assigning its member to some other variable like this:"}, {"type": "TEXT", "text": "I get an error like the following:"}, {"type": "TEXT", "text": "How do I get around this error?"}]}
{"raw_content": "<p>I've just started working on a small node project that will interface with a MongoDB. However, I cannot seem to get the relevant node modules to import correctly, even though I have installed them correctly via <code>npm</code>.</p>\n\n<p>For example, the following code throws an error, telling me that \"express has no default export\":</p>\n\n<pre><code>import express from \"express\";\n</code></pre>\n\n<p>However, this code works:</p>\n\n<pre><code>const express = require(\"express\");\n</code></pre>\n\n<p><strong>So my question is, what is the difference in how the import and variable/require methods function?</strong> I'd like to fix whatever is plaguing my imports on the project, as it seems likely to cause additional problems down the road.</p>", "language": "typescript", "question_id": 46677752, "title": "The difference between &quot;require(x)&quot; and &quot;import x&quot;", "segments": [{"type": "CODE", "text": "import express from \"express\";"}, {"type": "CODE", "text": "const express = require(\"express\");"}, {"type": "TEXT", "text": "I've just started working on a small node project that will interface with a MongoDB. However, I cannot seem to get the relevant node modules to import correctly, even though I have installed them correctly via"}, {"type": "TEXT", "text": "npm"}, {"type": "TEXT", "text": "."}, {"type": "TEXT", "text": "For example, the following code throws an error, telling me that \"express has no default export\":"}, {"type": "TEXT", "text": "However, this code works:"}, {"type": "TEXT", "text": "So my question is, what is the difference in how the import and variable/require methods function?"}, {"type": "TEXT", "text": "I'd like to fix whatever is plaguing my imports on the project, as it seems likely to cause additional problems down the road."}]}
